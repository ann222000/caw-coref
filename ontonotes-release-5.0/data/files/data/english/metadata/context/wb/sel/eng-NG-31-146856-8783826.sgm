<DOC>
<DOCID> eng-NG-31-146856-8783826 </DOCID>
<DOCTYPE SOURCE="usenet"> USENET TEXT </DOCTYPE>
<DATETIME> 2007-09-27T04:00:00 </DATETIME>
<BODY>
<HEADLINE>
IE7 image upload issue...
</HEADLINE>
<TEXT>
<POST>
<POSTER> Gary Clark &lt;g...@low-res.net&gt; </POSTER>
<POSTDATE> 2007-09-27T04:00:00 </POSTDATE>
Hi List,

I have a client that is experiencing a small issue when uploading files
in IE7.

They are able to upload images which are saved in a directory. Once the
action has been undertaken, the user is sent back to a listing page. On
that listing page, the contents of the directory are show to the user
in the form of the images that reside within it.

All is fine and has been for years. When using the system in IE7, it
could be just that user I am unsure. They are presented with all the
images in the list, but the one uploaded using IE7 shows the 'local'
file path instead of an image, an example is:

G:\Ollie Hancock\Website\Banner images\imagename.jpg

In Safari, the listing is fine, the filename is correct and the image
renders fine. On the server, there is only the file, there is no other
file that could maintain this information!

Any ideas why this happens?

Many thanks

Gary Clark

--
This list is a free service of LassoSoft: http://www.LassoSoft.com/
Search the list archives: http://www.ListSearch.com/Lasso/Browse/
Manage your subscription: http://www.ListSearch.com/Lasso/
</POST>
<POST>
<POSTER> &quot;Jonathan Vanherpe (T &amp; T NV)&quot; &lt;jonat...@tnt.be&gt; </POSTER>
<POSTDATE> 2007-09-27T04:16:00 </POSTDATE>
<QUOTE PREVIOUSPOST="
Gary Clark wrote:
&gt; Hi List,

&gt; I have a client that is experiencing a small issue when uploading files
&gt; in IE7.

&gt; They are able to upload images which are saved in a directory. Once the
&gt; action has been undertaken, the user is sent back to a listing page. On
&gt; that listing page, the contents of the directory are show to the user in
&gt; the form of the images that reside within it.

&gt; All is fine and has been for years. When using the system in IE7, it
&gt; could be just that user I am unsure. They are presented with all the
&gt; images in the list, but the one uploaded using IE7 shows the 'local'
&gt; file path instead of an image, an example is:

&gt; G:\Ollie Hancock\Website\Banner images\imagename.jpg

&gt; In Safari, the listing is fine, the filename is correct and the image
&gt; renders fine. On the server, there is only the file, there is no other
&gt; file that could maintain this information!

&gt; Any ideas why this happens?

&gt; Many thanks

&gt; Gary Clark
">

So if I understand correctly, IE7 modifies the path of the image in the
html document on the fly? Or does it show that local path in other
browsers too (if the image was uploaded with IE7 first)?

I could test with IE 7 if you have an url to share, and if you want me to.

Jonathan
--
Jonathan Vanherpe
Tallieu &amp; Tallieu
jonat ... @tnt.be

--
This list is a free service of LassoSoft: http://www.LassoSoft.com/
Search the list archives: http://www.ListSearch.com/Lasso/Browse/
Manage your subscription: http://www.ListSearch.com/Lasso/
</POST>
<POST>
<POSTER> Gary Clark &lt;g...@low-res.net&gt; </POSTER>
<POSTDATE> 2007-09-27T05:55:00 </POSTDATE>
Hi Jonathan,

Yes, it is only IE7 and everything is in place and working correctly,
other than IE7 shows a string (the local file path) rather than the
image. All other browsers show the image, and the image exists on the
server one the upload is performed!!!

Very odd, as the HTML is an &lt;img&gt; tag and I am not sure:
1) Why/How the img is rendered as a string
2) Where/Why the local file path is kept from page to page

Many thanks

Gary

On 27 Sep 2007, at 09:16, Jonathan Vanherpe (T &amp; T NV) wrote:

<QUOTE PREVIOUSPOST="
&gt; Gary Clark wrote:
&gt;&gt; Hi List,
&gt;&gt; I have a client that is experiencing a small issue when uploading
&gt;&gt; files in IE7.
&gt;&gt; They are able to upload images which are saved in a directory. Once
&gt;&gt; the action has been undertaken, the user is sent back to a listing
&gt;&gt; page. On that listing page, the contents of the directory are show to
&gt;&gt; the user in the form of the images that reside within it.
&gt;&gt; All is fine and has been for years. When using the system in IE7, it
&gt;&gt; could be just that user I am unsure. They are presented with all the
&gt;&gt; images in the list, but the one uploaded using IE7 shows the 'local'
&gt;&gt; file path instead of an image, an example is:
&gt;&gt; G:\Ollie Hancock\Website\Banner images\imagename.jpg
&gt;&gt; In Safari, the listing is fine, the filename is correct and the image
&gt;&gt; renders fine. On the server, there is only the file, there is no
&gt;&gt; other file that could maintain this information!
&gt;&gt; Any ideas why this happens?
&gt;&gt; Many thanks
&gt;&gt; Gary Clark

&gt; So if I understand correctly, IE7 modifies the path of the image in
&gt; the html document on the fly? Or does it show that local path in other
&gt; browsers too (if the image was uploaded with IE7 first)?

&gt; I could test with IE 7 if you have an url to share, and if you want me
&gt; to.

&gt; Jonathan
&gt; --
&gt; Jonathan Vanherpe
&gt; Tallieu &amp; Tallieu
&gt; jonat ... @tnt.be

&gt; --
&gt; This list is a free service of LassoSoft: http://www.LassoSoft.com/
&gt; Search the list archives: http://www.ListSearch.com/Lasso/Browse/
&gt; Manage your subscription: http://www.ListSearch.com/Lasso/
">

--
This list is a free service of LassoSoft: http://www.LassoSoft.com/
Search the list archives: http://www.ListSearch.com/Lasso/Browse/
Manage your subscription: http://www.ListSearch.com/Lasso/
</POST>
<POST>
<POSTER> Doug Gentry &lt;dwgen...@mac.com&gt; </POSTER>
<POSTDATE> 2007-09-27T09:56:00 </POSTDATE>
So, you are using the  uploaded file's name and storing that as part
of the path to the image in the directory?

Then you probably need this fix to strip out the all of the local
file path information:

var: 'incoming_name'=($file-&gt;(find: 'Origname'))-&gt;(split:'/')-&gt;last-&gt;
(split:'\\')-&gt;last;

This creates a stripped down name of the uploaded file, with the
local file path stuff removed.  Where $file is the map of uploaded
file information.

...Doug Gentry

On Sep 27, 2007, at 1:00 AM, Gary Clark wrote:

<QUOTE PREVIOUSPOST="
&gt; Hi List,

&gt; I have a client that is experiencing a small issue when uploading
&gt; files in IE7.

&gt; They are able to upload images which are saved in a directory. Once
&gt; the action has been undertaken, the user is sent back to a listing
&gt; page. On that listing page, the contents of the directory are show
&gt; to the user in the form of the images that reside within it.

&gt; All is fine and has been for years. When using the system in IE7,
&gt; it could be just that user I am unsure. They are presented with all
&gt; the images in the list, but the one uploaded using IE7 shows the
&gt; 'local' file path instead of an image, an example is:

&gt; G:\Ollie Hancock\Website\Banner images\imagename.jpg

&gt; In Safari, the listing is fine, the filename is correct and the
&gt; image renders fine. On the server, there is only the file, there is
&gt; no other file that could maintain this information!

&gt; Any ideas why this happens?

&gt; Many thanks

&gt; Gary Clark

&gt; --
&gt; This list is a free service of LassoSoft: http://www.LassoSoft.com/
&gt; Search the list archives: http://www.ListSearch.com/Lasso/Browse/
&gt; Manage your subscription: http://www.ListSearch.com/Lasso/
">

---
Doug Gentry
Dynapolis &amp; Southern Oregon University
p:  541-261-8501 / Toll Free: 866-890-6013
d ... @dynapolis.com
www.dynapolis.com

--
This list is a free service of LassoSoft: http://www.LassoSoft.com/
Search the list archives: http://www.ListSearch.com/Lasso/Browse/
Manage your subscription: http://www.ListSearch.com/Lasso/
</POST>
</TEXT>
</BODY>
</DOC>
