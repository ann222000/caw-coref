<DOC>
<DOCID> eng-NG-31-126390-9135223 </DOCID>
<DOCTYPE SOURCE="usenet"> USENET TEXT </DOCTYPE>
<DATETIME> 2007-10-30T00:55:00 </DATETIME>
<BODY>
<HEADLINE>
Does anyone know the theory behind the time machine...???
</HEADLINE>
<TEXT>
<POST>
<POSTER> The Translucent Amoebae &lt;transamoe...@seanet.com&gt; </POSTER>
<POSTDATE> 2007-10-30T00:55:00 </POSTDATE>
This seems very suspicious to me.
Either:
It saves Whole Documents every x time period, in which case, even with
a gigantic external hard-drive, it would fill up fairly quickly with
zillions of versions, each only a tiny bit different from the next.

SideBar: What's the biggest ( Most Memory Expansive ) HD for less than
$500.

Or- It saves only the changes from an original document, which would
suggest that there is a hierarchical path of changes made to changes--
In which case; If the original were corrupted, or any change along the
path of changes, were corrupted; then any attempt to recover a file,
with a corrupted link, would be aborted, or return a document with a
cascading path of corrupted changes...???

In any case; Just how effective would this be in saving a collection
of real-world documents that a reasonably prodcutive person is going
to create over a period of 5 years?

Also: i watched the Apple Introductory Video of Leopard and i saw a
feature that i thought of about 5 years ago! It was the 'Simulated
Blue Screen' in which you could superimpose your chat image in front
of a variety of backgrounds. i thought that up many years ago while
watching DVD Special Features... It amazed me how much trouble these
film makers were going through to create various shots, and i began to
think up ways that a really poor film maker could achieve the same
results in their garage...???!

anyways...
Thanx.
</POST>
<POST>
<POSTER> &quot;Peter A.&quot; &lt;peter29...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-10-30T01:23:00 </POSTDATE>
<QUOTE PREVIOUSPOST="
The Translucent Amoebae wrote:
&gt; Does anybody know the theory behind Time Machine?
">

Yup. Apple Insider can throw some light on the subject:

http://www.appleinsider.com/articles/07/10/12/road_to_mac_os_x_leopar...
</POST>
<POST>
<POSTER> Jay &lt;jayzen...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-10-30T02:42:00 </POSTDATE>
On Oct 29, 11:55 pm, The Translucent Amoebae &lt;transamoe ... @seanet.com&gt;
wrote:

<QUOTE PREVIOUSPOST="
&gt; This seems very suspicious to me.
&gt; Either:
&gt; It saves Whole Documents every x time period, in which case, even with
&gt; a gigantic external hard-drive, it would fill up fairly quickly with
&gt; zillions of versions, each only a tiny bit different from the next.
&gt;From what I understand from the Ars Technica article, it saves a copy
">

of every file.  The next time it takes a snapshot is makes another
record of what's there, but points at the same saved file unless it
changes, in which case it saves the new file.  If you *move* the file
it knows you moved it, but doesn't resave it.  It backs up as long as
it can until it hits the disk capacity, then there's the option to
delete stuff, or you can tell it not to.  You might have to buy
several new external drives over five years, or have an absolutely
enormous array of hard drives (perhaps with a MacPro?) but technically
it seems it would be possible.

<QUOTE PREVIOUSPOST="
&gt; Or- It saves only the changes from an original document, which would
&gt; suggest that there is a hierarchical path of changes made to changes--
&gt; In which case; If the original were corrupted, or any change along the
&gt; path of changes, were corrupted; then any attempt to recover a file,
&gt; with a corrupted link, would be aborted, or return a document with a
&gt; cascading path of corrupted changes...???
&gt;From what I understand, if a file is corrupted, and Time Machine was
">

running before it was corrupt, you can rewind until before it was
corrupted.  The &quot;good&quot; version of the file is different from the
corrupted, so at some point would have iterated.

<QUOTE PREVIOUSPOST="
&gt; Also: i watched the Apple Introductory Video of Leopard and i saw a
&gt; feature that i thought of about 5 years ago! It was the 'Simulated
&gt; Blue Screen' in which you could superimpose your chat image in front
&gt; of a variety of backgrounds. i thought that up many years ago while
&gt; watching DVD Special Features... It amazed me how much trouble these
&gt; film makers were going through to create various shots, and i began to
&gt; think up ways that a really poor film maker could achieve the same
&gt; results in their garage...???!
">

Certainly.  Although Photobooth and iChat are taking a picture of the
background, and then assuming whatever changes is the mask.  It works,
but unless you light everything well stuff can tear through.  If
you're against a solid background it will work better.  To make
convincing blue screen that doesn't look like blue screen takes a lot
of work.  However, people seem to accomplish (at least TV quality)
chroma-key all the time with Final Cut.  iChat and Photobooth are
probably the first consumer &quot;instant&quot; chroma key utilities I know of.
</POST>
<POST>
<POSTER> Jim Gibson &lt;jimsgib...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-10-30T14:02:00 </POSTDATE>
In article &lt;1193720137.840521.202 ... @i38g2000prf.googlegroups.com&gt;, The

<QUOTE PREVIOUSPOST="
Translucent Amoebae &lt;transamoe ... @seanet.com&gt; wrote:
&gt; This seems very suspicious to me.
&gt; Either:
&gt; It saves Whole Documents every x time period, in which case, even with
&gt; a gigantic external hard-drive, it would fill up fairly quickly with
&gt; zillions of versions, each only a tiny bit different from the next.
">

From the System Preferences panel:

&quot;Time Machine keeps

€ Hourly backups for the past 24 hours
€ Daily backups for the past month
€ Weekly backups until your backup disk is full&quot;

I can hear it fire off every hour (at :32 past the hour) on my external
drive backing up my startup disk, which has 59.21GB of stuff on it.
Currently, after about 24 hours of operation, Time Machine has written
60.08GB of backup stuff.

--
Jim Gibson

Posted Via Usenet.com Premium Usenet Newsgroup Services
----------------------------------------------------------
** SPEED ** RETENTION ** COMPLETION ** ANONYMITY **
----------------------------------------------------------
http://www.usenet.com
</POST>
<POST>
<POSTER> William Mitchell &lt;mitch...@math.ufl.edu&gt; </POSTER>
<POSTDATE> 2007-10-30T15:18:00 </POSTDATE>
The Translucent Amoebae &lt;transamoe ... @seanet.com&gt; writes:

<QUOTE PREVIOUSPOST="
&gt; This seems very suspicious to me.
">

Possibly you're very paranoid.

<QUOTE PREVIOUSPOST="
&gt; Either:
&gt; It saves Whole Documents every x time period, in which case, even with
&gt; a gigantic external hard-drive, it would fill up fairly quickly with
&gt; zillions of versions, each only a tiny bit different from the next.
">

After, say, 1 secon less than a year, it would have fewer than 23
copies of _any_ document:

One for each month.
One for each week in the current month.
One for each day in the current week.

Probably _none_ of the files would actually have this many versions.
The vast majority would have only one - including (unless you are
heavily into editing pictures or movies) almost all of the largest.

<QUOTE PREVIOUSPOST="
&gt; Or- It saves only the changes from an original document, which would
&gt; suggest that there is a hierarchical path of changes made to changes--
&gt; In which case; If the original were corrupted, or any change along the
&gt; path of changes, were corrupted; then any attempt to recover a file,
&gt; with a corrupted link, would be aborted, or return a document with a
&gt; cascading path of corrupted changes...???
">

No.  Go to Apples web site and read the description.

<QUOTE PREVIOUSPOST="
&gt; In any case; Just how effective would this be in saving a collection
&gt; of real-world documents that a reasonably prodcutive person is going
&gt; to create over a period of 5 years?
">

If the disk is getting full, you might want to delete some of the
monthly snapshots, or save a snapshot elsewhere.

<QUOTE PREVIOUSPOST="
&gt; Also: i watched the Apple Introductory Video of Leopard and i saw a
&gt; feature that i thought of about 5 years ago! It was the 'Simulated
&gt; Blue Screen' in which you could superimpose your chat image in front
&gt; of a variety of backgrounds. i thought that up many years ago while
&gt; watching DVD Special Features... It amazed me how much trouble these
&gt; film makers were going through to create various shots, and i began to
&gt; think up ways that a really poor film maker could achieve the same
&gt; results in their garage...???!
">

Lots of people thought of it.   Apple did it.

--
Bill Mitchell
Dept of Mathematics,        The University of Florida
PO Box 118105, Gainesville, FL 32611--8105
mitch ... @math.ufl.edu    (352) 392-0281 x284
</POST>
<POST>
<POSTER> Wes Groleau &lt;groleau+n...@freeshell.org&gt; </POSTER>
<POSTDATE> 2007-10-30T22:11:00 </POSTDATE>
<QUOTE PREVIOUSPOST="
Peter A. wrote:
&gt; The Translucent Amoebae wrote:
&gt;&gt; Does anybody know the theory behind Time Machine?

&gt; Yup. Apple Insider can throw some light on the subject:

&gt; http://www.appleinsider.com/articles/07/10/12/road_to_mac_os_x_leopar...
">

I do not have the hardware to run that, but I have been thinking
that it would be possible to get the benefit of Time Machine
by making a Subversion repository of your entire filesystem.
It would be harder to use, slower, and it would take twice as much
space, but it WOULD be able to restore the filesystem to any point in
time it had been saved.

I don't think I'll try it, but I know somebody who probably will.....

--
Wes Groleau

From the cowardice that shrinks from new truth,
From the laziness that is content with half-truths,
From the arrogance that thinks it knows all truth,
O God of Truth, deliver us.
--Leslie Dixon Weatherhead
--Rabbi Mordechai M. Kaplan
--ancient prayer
--unknown
--(no attempt at attribution)

(a thousand thanks to someone who can tell me who
really wrote it AND persuade me they're not making it up!)
</POST>
<POST>
<POSTER> Barry Margolin &lt;bar...@alum.mit.edu&gt; </POSTER>
<POSTDATE> 2007-10-31T00:10:00 </POSTDATE>
In article &lt;y9dbqagwgwf. ... @hotel.math.ufl.edu&gt;,
William Mitchell &lt;mitch ... @math.ufl.edu&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; After, say, 1 secon less than a year, it would have fewer than 23
&gt; copies of _any_ document:

&gt; One for each month.
&gt; One for each week in the current month.
&gt; One for each day in the current week.

&gt; Probably _none_ of the files would actually have this many versions.
&gt; The vast majority would have only one - including (unless you are
&gt; heavily into editing pictures or movies) almost all of the largest.
">

Can you tell it to skip really big files.  I'm thinking of things like
the disk image file for VPC or Parallels (I'm assuming Parallels uses a
single file for the guest OS's virtual disk, similar to VPC), which tend
to be multigigabyte and are modified every time you run the application.

In my Retrospect configuration I have it skip anything over a gigabyte
in my frequent backups.  I have a separate biweekly backup of my VPC
image.

--
Barry Margolin, bar ... @alum.mit.edu
Arlington, MA
*** PLEASE post questions in newsgroups, not directly to me ***
*** PLEASE don't copy me on replies, I'll read them in the group ***
</POST>
<POST>
<POSTER> Bob Harris &lt;nospam.News....@remove.Smith-Harris.us&gt; </POSTER>
<POSTDATE> 2007-10-31T00:25:00 </POSTDATE>
In article &lt;FvRVi.9669$%r.5918@trnddc01&gt;,
Wes Groleau &lt;groleau+n ... @freeshell.org&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; Peter A. wrote:
&gt; &gt; The Translucent Amoebae wrote:
&gt; &gt;&gt; Does anybody know the theory behind Time Machine?

&gt; &gt; Yup. Apple Insider can throw some light on the subject:

&gt; &gt; http://www.appleinsider.com/articles/07/10/12/road_to_mac_os_x_leopar...
&gt; &gt; machine.html&amp;page=2

&gt; I do not have the hardware to run that, but I have been thinking
&gt; that it would be possible to get the benefit of Time Machine
&gt; by making a Subversion repository of your entire filesystem.
&gt; It would be harder to use, slower, and it would take twice as much
&gt; space, but it WOULD be able to restore the filesystem to any point in
&gt; time it had been saved.

&gt; I don't think I'll try it, but I know somebody who probably will.....
">

If you want to simulate Time Machine, then get the rsnapshot.pl
Perl script.  It will effectively do the same thing as Time
Machine, minus the nice GUI, minus the easy setup, minus the auto
purge when the backup volume is full.

Then again, rsnapshot.pl can run on a backend server and backup
multiple remote systems over ssh, including across the internet
(which is what I'm currently doing on an older Mac, backing up my
Wife's, Mother's, and Mother-in-Law's Macs).

But I am really looking forward to playing with Time Machine as
I'm looking for something easier to setup, configure and maintain.

Bob Harris
</POST>
<POST>
<POSTER> Mark Conrad &lt;non...@urbusiness.invalid&gt; </POSTER>
<POSTDATE> 2007-10-31T03:31:00 </POSTDATE>
In article &lt;nospam.News.Bob-8379E1.00253131102 ... @news.verizon.net&gt;,
Bob Harris &lt;nospam.News. ... @remove.Smith-Harris.us&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; But I am really looking forward to playing with Time Machine as
&gt; I'm looking for something easier to setup, configure and maintain.

&gt;                                         Bob Harris
">

Just beware that Time Machine is &quot;held back&quot; by the venerable HFS+
system.  Here is some partial info' from arstechnica:

******************************************************

Implementation consequences

It's unfortunate that Time Machine's cleverness does not extend just a
bit further. The smallest unit of data that Time Machine will backup is
an individual file. That means that if you change one byte in a 10GB
file, that entire 10GB file needs to be copied to the backup volume.
Hard link can't help you here. There's no way to make a hard link to
&quot;9.99999GB of the old data, plus this one byte of new data.&quot;

But how often does that happen? Sure, it's a worst case scenario for a
file-level backup system like Time Machine, but isn't it rare to
repeatedly modify a small portion of a giant file? Well, it depends. I
can think of two instances that will bite many thousands of Mac users.

First, if you use Microsoft Entourage, your e-mail is kept in a single,
large database file. Mine is about 2GB. Most people get new e-mail every
day. Ugh.

Second, if you use any sort of virtualization software like VMware or
Parallels, each virtual machine hard disk image is a multi-gigabyte file
that changes pretty much every time you use the VM. Double ugh.

So, how many Mac users own some virtualization software or use
Entourage? That number has to be in the thousands, and is probably
growing.
********************************************************

Reference:

&lt; http://arstechnica.com/reviews/os/mac-os-x-10-5.ars/14 &gt;

If you have a week to read the entire thing, it starts here:

&lt; http://arstechnica.com/reviews/os/mac-os-x-10-5.ars &gt;

Mark-
</POST>
<POST>
<POSTER> Ian Gregory &lt;f...@prdetfanaaeextna.invalid&gt; </POSTER>
<POSTDATE> 2007-10-31T10:07:00 </POSTDATE>
On 2007-10-31, Michelle Steiner &lt;miche ... @michelle.org&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; In article
&gt;&lt;noneof-E87E9B.00312031102 ... @earthlink.vsrv-sjc.supernews.net&gt;,
&gt;  Mark Conrad &lt;non ... @urbusiness.invalid&gt; wrote:

&gt;&gt; Just beware that Time Machine is &quot;held back&quot; by the venerable HFS+
&gt;&gt; system.  Here is some partial info' from arstechnica:

&gt; So for those of us who don't use Entourage or Parallels, it's not a
&gt; problem.
">

Wrong. Entourage and Parallels were just two examples that Mr Siracusa
happened to think of that would affect large numbers of Mac users.
Obviously there may be others, and very many more that would affect
smaller numbers of users.

If someone said &quot;If you jump in front of a train you will die&quot;,
would you assume that they were claiming that as long as you
don't jump in front of a train you will live for ever?

Ian

--
Ian Gregory
http://www.zenatode.org.uk/ian/
</POST>
<POST>
<POSTER> Jolly Roger &lt;jollyro...@pobox.com&gt; </POSTER>
<POSTDATE> 2007-10-31T14:48:00 </POSTDATE>
In article &lt;michelle-4A8BE1.07301831102 ... @news.east.cox.net&gt;,
Michelle Steiner &lt;miche ... @michelle.org&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; I know that I won't die from jumping in front of a train.  And I know
&gt; that people who don't use programs such as Entourage and Parallels that
&gt; have large monolithic files won't have the described problem with Time
&gt; Machine.
">

I guess that pretty much cuts out all graphics designers then...

--
Note: Please send all responses to the relevant news group. If you
must contact me through e-mail, let me know when you send email to
this address so that your email doesn't get eaten by my SPAM filter.

JR
</POST>
<POST>
<POSTER> Barry Margolin &lt;bar...@alum.mit.edu&gt; </POSTER>
<POSTDATE> 2007-10-31T19:45:00 </POSTDATE>
In article &lt;michelle-4A8BE1.07301831102 ... @news.east.cox.net&gt;,
Michelle Steiner &lt;miche ... @michelle.org&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; In article &lt;slrnfih37a.5gs. ... @ID-256592.user.individual.net&gt;,
&gt;  Ian Gregory &lt;f ... @prdetfanaaeextna.invalid&gt; wrote:

&gt; &gt; &gt;&gt; Just beware that Time Machine is &quot;held back&quot; by the venerable HFS+
&gt; &gt; &gt;&gt; system.  Here is some partial info' from arstechnica:

&gt; &gt; &gt; So for those of us who don't use Entourage or Parallels, it's not a
&gt; &gt; &gt; problem.

&gt; &gt; Wrong. Entourage and Parallels were just two examples that Mr
&gt; &gt; Siracusa happened to think of that would affect large numbers of Mac
&gt; &gt; users. Obviously there may be others, and very many more that would
&gt; &gt; affect smaller numbers of users.

&gt; Large numbers?  I doubt that.
">

Entourage is very popular, especially in corporate environments where
integration with Exchange calendaring is important.  I know lots of the
Mac users in my company use it, although I make do with Mail, iCal, and
YAI.

--
Barry Margolin, bar ... @alum.mit.edu
Arlington, MA
*** PLEASE post questions in newsgroups, not directly to me ***
*** PLEASE don't copy me on replies, I'll read them in the group ***
</POST>
<POST>
<POSTER> D P Schreber &lt;schrebe...@rayban.net&gt; </POSTER>
<POSTDATE> 2007-10-31T19:58:00 </POSTDATE>
On 2007-10-31, Barry Margolin &lt;bar ... @alum.mit.edu&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; Entourage is very popular, especially in corporate environments where
&gt; integration with Exchange calendaring is important.
">

Corporate environments typically also provide their own backup
mechanism, which makes the point somewhat moot. It doesn't make much
sense to use Time Machine if there are professional sysadmins doing
professional-grade backups.  I certainly don't intend to use it on the
Mac Pro in my office.  In fact it's a nuisance to do so.

Time Machine is for Mac users who don't have the luxury of depending
on this level of support.  That's why I use it at home.  How many of
_those_ users have any interest in Entourage?  It has to be a tiny
number.
</POST>
<POST>
<POSTER> Barry Margolin &lt;bar...@alum.mit.edu&gt; </POSTER>
<POSTDATE> 2007-10-31T20:26:00 </POSTDATE>
In article &lt;t-KdnYlHO_Mzi7TanZ2dnUVZ_s6dn ... @comcast.com&gt;,
D P Schreber &lt;schrebe ... @rayban.net&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; On 2007-10-31, Barry Margolin &lt;bar ... @alum.mit.edu&gt; wrote:
&gt; &gt; Entourage is very popular, especially in corporate environments where
&gt; &gt; integration with Exchange calendaring is important.

&gt; Corporate environments typically also provide their own backup
&gt; mechanism, which makes the point somewhat moot. It doesn't make much
&gt; sense to use Time Machine if there are professional sysadmins doing
&gt; professional-grade backups.  I certainly don't intend to use it on the
&gt; Mac Pro in my office.  In fact it's a nuisance to do so.
">

True.  We use something called Home Sync, or something like that, to
write to a Windows fileserver.  But it stopped working on my machine, so
I turned it off and wrote a simple cron job that uses tar to back up my
home directory to a file in my NFS directory.

<QUOTE PREVIOUSPOST="
&gt; Time Machine is for Mac users who don't have the luxury of depending
&gt; on this level of support.  That's why I use it at home.  How many of
&gt; _those_ users have any interest in Entourage?  It has to be a tiny
&gt; number.
">

Good point.  People who don't use Mail at home are probably more likely
to use Thunderbird than Entourage.

--
Barry Margolin, bar ... @alum.mit.edu
Arlington, MA
*** PLEASE post questions in newsgroups, not directly to me ***
*** PLEASE don't copy me on replies, I'll read them in the group ***
</POST>
<POST>
<POSTER> Little Sir Echo &lt;LittleSirE...@Someplace.com&gt; </POSTER>
<POSTDATE> 2007-10-31T20:38:00 </POSTDATE>
<QUOTE PREVIOUSPOST="
Barry Margolin wrote:
&gt; In article &lt;t-KdnYlHO_Mzi7TanZ2dnUVZ_s6dn ... @comcast.com&gt;,
&gt;  D P Schreber &lt;schrebe ... @rayban.net&gt; wrote:

&gt;&gt; On 2007-10-31, Barry Margolin &lt;bar ... @alum.mit.edu&gt; wrote:
&gt;&gt;&gt; Entourage is very popular, especially in corporate environments where
&gt;&gt;&gt; integration with Exchange calendaring is important.
&gt;&gt; Corporate environments typically also provide their own backup
&gt;&gt; mechanism, which makes the point somewhat moot. It doesn't make much
&gt;&gt; sense to use Time Machine if there are professional sysadmins doing
&gt;&gt; professional-grade backups.  I certainly don't intend to use it on the
&gt;&gt; Mac Pro in my office.  In fact it's a nuisance to do so.

&gt; True.  We use something called Home Sync, or something like that, to
&gt; write to a Windows fileserver.  But it stopped working on my machine, so
&gt; I turned it off and wrote a simple cron job that uses tar to back up my
&gt; home directory to a file in my NFS directory.

&gt;&gt; Time Machine is for Mac users who don't have the luxury of depending
&gt;&gt; on this level of support.  That's why I use it at home.  How many of
&gt;&gt; _those_ users have any interest in Entourage?  It has to be a tiny
&gt;&gt; number.

&gt; Good point.  People who don't use Mail at home are probably more likely
&gt; to use Thunderbird than Entourage.
">

Right!
</POST>
<POST>
<POSTER> D P Schreber &lt;schrebe...@rayban.net&gt; </POSTER>
<POSTDATE> 2007-10-31T22:15:00 </POSTDATE>
On 2007-11-01, Barry Margolin &lt;bar ... @alum.mit.edu&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt;&gt; Time Machine is for Mac users who don't have the luxury of depending
&gt;&gt; on this level of support.  That's why I use it at home.  How many of
&gt;&gt; _those_ users have any interest in Entourage?  It has to be a tiny
&gt;&gt; number.

&gt; Good point.  People who don't use Mail at home are probably more likely
&gt; to use Thunderbird than Entourage.
">

Or, for that matter, mutt, which might still be my favorite mail
client, though I'm impressed with Mail.app 3.0 in a way that I never
was with earlier versions.

From a Time Machine perspective, Mail.app's file-per-message approach
is the clear winner.  But if you manage your mailboxes sensibly, mutt
should be fine too.  Entourage is hopeless.
</POST>
<POST>
<POSTER> Jeffrey Goldberg &lt;nob...@goldmark.org&gt; </POSTER>
<POSTDATE> 2007-10-31T23:39:00 </POSTDATE>
In &lt;msOdnY44OfMlq7TanZ2dnUVZ_hadn ... @comcast.com&gt;, D P Schreber wrote:

<QUOTE PREVIOUSPOST="
&gt; From a Time Machine perspective, Mail.app's file-per-message approach
&gt; is the clear winner.  But if you manage your mailboxes sensibly, mutt
&gt; should be fine too.  Entourage is hopeless.
">

All my mail stays on a professionally managed and backed-up IMAP server.
So my local back-ups doesn't deal with most of my mail.  (And I use a
combination of Mail.app, Thunderbird and alpine for my mail.)

-j

--
Jeffrey Goldberg http://www.goldmark.org/jeff/
I rarely read top-posted, over-quoting or HTML postings.
http://improve-usenet.org/
</POST>
<POST>
<POSTER> demp...@actrix.gen.nz (David Empson) </POSTER>
<POSTDATE> 2007-11-01T03:13:00 </POSTDATE>
<QUOTE PREVIOUSPOST="
William Mitchell &lt;mitch ... @math.ufl.edu&gt; wrote:
&gt; The Translucent Amoebae &lt;transamoe ... @seanet.com&gt; writes:

&gt; &gt; Either:
&gt; &gt; It saves Whole Documents every x time period, in which case, even with
&gt; &gt; a gigantic external hard-drive, it would fill up fairly quickly with
&gt; &gt; zillions of versions, each only a tiny bit different from the next.

&gt; After, say, 1 secon less than a year, it would have fewer than 23
&gt; copies of _any_ document:

&gt; One for each month.
&gt; One for each week in the current month.
&gt; One for each day in the current week.
">

It is one for each hour, then one for each day going back a month, then
one for each week going back as far as possible. That would mean a
maximum of about 23+30+47= 100 copies of a constantly changing file
after almost a year.

This assumes your computer has been active for the last 24 hours. If it
is only awake part of the day, or the files aren't changing quite as
often, or the backup drive isn't always connected (but is connected at
least once a day), then you will probably have been 80 and 100 copies of
the file after a year.

If that constantly changing file is your Entourage mail store, and it is
2 GB (say), there goes 200 GB of your backup drive.

If that constantly changing file is a Parallels or VMware virtual disk,
and it is 6 GB (say), then there goes 600 GB of your backup drive.

Don't try to back up multi-gigabyte frequently changing files with Time
Machine!

For anything which is a more reasonable size, this is a very good backup
solution.

You can tell Time Machine to exclude specific files or folders from the
backup, so you just need to make other arrangements to back up your
multi-gigabyte frequently changing files.

--
David Empson
demp ... @actrix.gen.nz
</POST>
<POST>
<POSTER> Barry Margolin &lt;bar...@alum.mit.edu&gt; </POSTER>
<POSTDATE> 2007-11-01T10:50:00 </POSTDATE>
In article &lt;1i6un5s.q0ir8f1kay1d0N%demp ... @actrix.gen.nz&gt;,
demp ... @actrix.gen.nz (David Empson) wrote:

<QUOTE PREVIOUSPOST="
&gt; William Mitchell &lt;mitch ... @math.ufl.edu&gt; wrote:

&gt; &gt; The Translucent Amoebae &lt;transamoe ... @seanet.com&gt; writes:

&gt; &gt; &gt; Either:
&gt; &gt; &gt; It saves Whole Documents every x time period, in which case, even with
&gt; &gt; &gt; a gigantic external hard-drive, it would fill up fairly quickly with
&gt; &gt; &gt; zillions of versions, each only a tiny bit different from the next.

&gt; &gt; After, say, 1 secon less than a year, it would have fewer than 23
&gt; &gt; copies of _any_ document:

&gt; &gt; One for each month.
&gt; &gt; One for each week in the current month.
&gt; &gt; One for each day in the current week.

&gt; It is one for each hour, then one for each day going back a month, then
&gt; one for each week going back as far as possible. That would mean a
&gt; maximum of about 23+30+47= 100 copies of a constantly changing file
&gt; after almost a year.

&gt; This assumes your computer has been active for the last 24 hours. If it
&gt; is only awake part of the day, or the files aren't changing quite as
&gt; often, or the backup drive isn't always connected (but is connected at
&gt; least once a day), then you will probably have been 80 and 100 copies of
&gt; the file after a year.

&gt; If that constantly changing file is your Entourage mail store, and it is
&gt; 2 GB (say), there goes 200 GB of your backup drive.

&gt; If that constantly changing file is a Parallels or VMware virtual disk,
&gt; and it is 6 GB (say), then there goes 600 GB of your backup drive.

&gt; Don't try to back up multi-gigabyte frequently changing files with Time
&gt; Machine!
">

Does it do any compression when it backs up?  Mail stores and virtual
disks probably compress very well.  Mail stores have lots of repetitive
strings (all the mail header fields, names and addresses of common
correspondents, HTML tags, etc.), and virtual disks probably have large
expanses of zeroes in unused areas (there are utilities that can find
all the unused areas and write zeroes to them to ensure this).

--
Barry Margolin, bar ... @alum.mit.edu
Arlington, MA
*** PLEASE post questions in newsgroups, not directly to me ***
*** PLEASE don't copy me on replies, I'll read them in the group ***
</POST>
<POST>
<POSTER> demp...@actrix.gen.nz (David Empson) </POSTER>
<POSTDATE> 2007-11-01T11:16:00 </POSTDATE>
<QUOTE PREVIOUSPOST="
Barry Margolin &lt;bar ... @alum.mit.edu&gt; wrote:
&gt; In article &lt;1i6un5s.q0ir8f1kay1d0N%demp ... @actrix.gen.nz&gt;,
&gt;  demp ... @actrix.gen.nz (David Empson) wrote:

&gt; &gt; William Mitchell &lt;mitch ... @math.ufl.edu&gt; wrote:

&gt; &gt; &gt; The Translucent Amoebae &lt;transamoe ... @seanet.com&gt; writes:

&gt; &gt; &gt; &gt; Either:
&gt; &gt; &gt; &gt; It saves Whole Documents every x time period, in which case, even with
&gt; &gt; &gt; &gt; a gigantic external hard-drive, it would fill up fairly quickly with
&gt; &gt; &gt; &gt; zillions of versions, each only a tiny bit different from the next.

&gt; &gt; &gt; After, say, 1 secon less than a year, it would have fewer than 23
&gt; &gt; &gt; copies of _any_ document:

&gt; &gt; &gt; One for each month.
&gt; &gt; &gt; One for each week in the current month.
&gt; &gt; &gt; One for each day in the current week.

&gt; &gt; It is one for each hour, then one for each day going back a month, then
&gt; &gt; one for each week going back as far as possible. That would mean a
&gt; &gt; maximum of about 23+30+47= 100 copies of a constantly changing file
&gt; &gt; after almost a year.

&gt; &gt; This assumes your computer has been active for the last 24 hours. If it
&gt; &gt; is only awake part of the day, or the files aren't changing quite as
&gt; &gt; often, or the backup drive isn't always connected (but is connected at
&gt; &gt; least once a day), then you will probably have been 80 and 100 copies of
&gt; &gt; the file after a year.

&gt; &gt; If that constantly changing file is your Entourage mail store, and it is
&gt; &gt; 2 GB (say), there goes 200 GB of your backup drive.

&gt; &gt; If that constantly changing file is a Parallels or VMware virtual disk,
&gt; &gt; and it is 6 GB (say), then there goes 600 GB of your backup drive.

&gt; &gt; Don't try to back up multi-gigabyte frequently changing files with Time
&gt; &gt; Machine!

&gt; Does it do any compression when it backs up?
">

Nope. Time Machine stores everything as standard files, so you can use
Finder to browse through everything in the backup and copy individual
files (presumably limited by the same permissions as the originals).

The only space saving measure is the use of hard links to avoid multiple
copies of unchanged files (or entire folders).

--
David Empson
demp ... @actrix.gen.nz
</POST>
<POST>
<POSTER> William Mitchell &lt;mitch...@math.ufl.edu&gt; </POSTER>
<POSTDATE> 2007-11-01T11:35:00 </POSTDATE>
<QUOTE PREVIOUSPOST="
demp ... @actrix.gen.nz (David Empson) writes:
&gt; William Mitchell &lt;mitch ... @math.ufl.edu&gt; wrote:

&gt; &gt; The Translucent Amoebae &lt;transamoe ... @seanet.com&gt; writes:

[...]
&gt; &gt; After, say, 1 secon less than a year, it would have fewer than 23
&gt; &gt; copies of _any_ document:

&gt; &gt; One for each month.
&gt; &gt; One for each week in the current month.
&gt; &gt; One for each day in the current week.

&gt; It is one for each hour, then one for each day going back a month, then
&gt; one for each week going back as far as possible. That would mean a
&gt; maximum of about 23+30+47= 100 copies of a constantly changing file
&gt; after almost a year.

&gt; This assumes your computer has been active for the last 24 hours. If it
&gt; is only awake part of the day, or the files aren't changing quite as
&gt; often, or the backup drive isn't always connected (but is connected at
&gt; least once a day), then you will probably have been 80 and 100 copies of
&gt; the file after a year.
">

You seem to be making some assumptions about how Time Machine works
when the computer is not always running.   You assume that under these
circumstances the normal deletions don't get made.

If you have some actual knowledge that this is the case --- for
example, if hourly backups from previous days are still there, then I
would be interested to hear about it.   Otherwise your assumption
seems to me to be unlikely.

--
Bill Mitchell
Dept of Mathematics,        The University of Florida
PO Box 118105, Gainesville, FL 32611--8105
mitch ... @math.ufl.edu    (352) 392-0281 x284
</POST>
<POST>
<POSTER> demp...@actrix.gen.nz (David Empson) </POSTER>
<POSTDATE> 2007-11-01T12:49:00 </POSTDATE>
<QUOTE PREVIOUSPOST="
William Mitchell &lt;mitch ... @math.ufl.edu&gt; wrote:
&gt; demp ... @actrix.gen.nz (David Empson) writes:

&gt; &gt; William Mitchell &lt;mitch ... @math.ufl.edu&gt; wrote:

&gt; &gt; &gt; The Translucent Amoebae &lt;transamoe ... @seanet.com&gt; writes:

&gt;  [...]
&gt; &gt; &gt; After, say, 1 secon less than a year, it would have fewer than 23
&gt; &gt; &gt; copies of _any_ document:

&gt; &gt; &gt; One for each month.
&gt; &gt; &gt; One for each week in the current month.
&gt; &gt; &gt; One for each day in the current week.

&gt; &gt; It is one for each hour, then one for each day going back a month, then
&gt; &gt; one for each week going back as far as possible. That would mean a
&gt; &gt; maximum of about 23+30+47= 100 copies of a constantly changing file
&gt; &gt; after almost a year.

&gt; &gt; This assumes your computer has been active for the last 24 hours. If it
&gt; &gt; is only awake part of the day, or the files aren't changing quite as
&gt; &gt; often, or the backup drive isn't always connected (but is connected at
&gt; &gt; least once a day), then you will probably have been 80 and 100 copies of
&gt; &gt; the file after a year.

&gt; You seem to be making some assumptions about how Time Machine works
&gt; when the computer is not always running. You assume that under these
&gt; circumstances the normal deletions don't get made.
">

I made no such assumption. Under those conditions I expect deletions
occur at exactly the same points they would if the computer was on all
the time. There will just be fewer old backups to delete.

Incidentally, did you notice that your earlier post had the pattern
wrong? The pattern is hourly (for a day), daily (for a month) then
weekly (indefinitely), which is as described on Apple's web site.

You claimed it was daily (for a week), weekly (for a month) then monthly
(indefinitely).

That makes a huge difference to the number of backups.

If you want to argue over the details:

The key point is the creation of the hourly backups.

If the computer isn't running 24 hours a day then you won't get 24
hourly backups created, hence the total number of backups for the
current day could be anything from 0 to 23. If the drive is disconnected
or the computer is asleep for more than an hour, at least one hourly
backup will be delayed or skipped.

If the drive is disconnected or the computer is asleep for more than a
day, at least one daily backup will be delayed or skipped. I was
assuming this would be a rare event, hence you should have about 30
daily backups (and a year's worth of weekly backups).

I am making the reasonable assumption that deletions are handled on a
catch-up basis. Whenever Time Machine does a new backup, it will delete
any hourly or daily backups it should no longer be keeping (hourly
backups more than 24 hours old except for one per day, daily backups
more than 30 days old except for one per week).

After a month of operation, it should have created a maximum of 30 daily
backups plus 23 hourly backups for the current day.

The maximum number of backups over a year is therefore 47 (weekly) plus
30 (daily) plus 23 (hourly), give or take a few depending on exactly how
they count days and months for this algorithm.

The minimum number of backups over a year for a computer which is on
once a day (long enough to create a single Time Machine backup) is 47
(weekly) plus 30 (daily) plus 1 (hourly).

If the computer was only on during business hours (five days a week,
nine hours a day), the number of backups over a year would be about 47
(weekly) plus 22 (daily) plus 9 (hourly).

In all cases there might temporarily be some additional hourly or daily
backups which haven't been deleted yet, but they will get deleted as
soon as Time Machine has decided it doesn't need them any more, which
should happen at the point it starts or finishes another backup.

If the computer was only used once a day, Time Machine would create one
backup then. The next day it would create a new backup and in its
cleanup discover it had only one hourly backup for the previous day, so
it would be kept as the daily backup and nothing would be deleted.

If the computer was used for more than hour and Time Machine did two
hourly backups, then when it was used the next day it would create a new
backup and delete one of the previous day's hourly backups, keeping the
other one as a daily backup.

The precise timing of the deletion might depend on their definition of a
&quot;day&quot;. If it is based on a calendar day then a machine running
constantly would delete all of the previous days hourly backups shortly
after midnight. This makes no sense - you wouldn't have a full day's
backup except just before midnight.

The sensible rule is to use a rolling 24 hour window. Time Machine
should be deleting any hourly backups more than 24 hours old, whenever
it decides to start running again (next time the computer is awake and
the backup drive is connected, and it has been an hour since the last
manual or automatic backup).

<QUOTE PREVIOUSPOST="
&gt; If you have some actual knowledge that this is the case --- for
&gt; example, if hourly backups from previous days are still there, then I
&gt; would be interested to hear about it.   Otherwise your assumption
&gt; seems to me to be unlikely.
">

If that happened, there would be even more backups than the numbers I've
given here.
--
David Empson
demp ... @actrix.gen.nz
</POST>
<POST>
<POSTER> Marc Heusser &lt;marc.heus...@byeheusser.commercialspammers.invalid&gt; </POSTER>
<POSTDATE> 2007-11-01T13:17:00 </POSTDATE>
In article &lt;barmar-9B459D.10504001112 ... @comcast.dca.giganews.com&gt;,
Barry Margolin &lt;bar ... @alum.mit.edu&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; Does it do any compression when it backs up?
">

No.
I still hope we will get ZFS - ZFS does include compression too. And it
has wonderful support for backups such as TimeMachine.

Marc

--
remove bye and from mercial to get valid e-mail
&lt; http://www.heusser.com &gt;
</POST>
<POST>
<POSTER> Ockham&#39;s Razor &lt;Menc...@pdx.net&gt; </POSTER>
<POSTDATE> 2007-11-01T19:19:00 </POSTDATE>
In article &lt;michelle-73A082.08434001112 ... @news.east.cox.net&gt;,
Michelle Steiner &lt;miche ... @michelle.org&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; In article &lt;barmar-9B459D.10504001112 ... @comcast.dca.giganews.com&gt;,
&gt;  Barry Margolin &lt;bar ... @alum.mit.edu&gt; wrote:

&gt; &gt; Does it do any compression when it backs up?

&gt; None at all.
">

I am concerned about this.  I hear that &quot;Time Machine&quot; can take one back
to any prior iterations of their computer.  This means that it has made
dozens/hundreds of copies of the system and files.  Where is all this
stuff?  It would quickly over load anything but a terrabyte RAID system
very quickly.

Or, am I screwed up in my understanding of this app?

--
Es ist nichts schrecklicher als eine tätige Unwissenheit.

Johann Wolfgang von Goethe
</POST>
<POST>
<POSTER> Sally Shears &lt;SallyShe...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-11-01T19:28:00 </POSTDATE>
In article
&lt;Mencken-A8710C.16193101112 ... @sn-ip.vsrv-sjc.supernews.net&gt;, Ockham's

<QUOTE PREVIOUSPOST="
Razor &lt;Menc ... @pdx.net&gt; wrote:
&gt; In article &lt;michelle-73A082.08434001112 ... @news.east.cox.net&gt;,
&gt;  Michelle Steiner &lt;miche ... @michelle.org&gt; wrote:

&gt; &gt; In article &lt;barmar-9B459D.10504001112 ... @comcast.dca.giganews.com&gt;,
&gt; &gt;  Barry Margolin &lt;bar ... @alum.mit.edu&gt; wrote:

&gt; &gt; &gt; Does it do any compression when it backs up?

&gt; &gt; None at all.

&gt; I am concerned about this.  I hear that &quot;Time Machine&quot; can take one back
&gt; to any prior iterations of their computer.  This means that it has made
&gt; dozens/hundreds of copies of the system and files.  Where is all this
&gt; stuff?  It would quickly over load anything but a terrabyte RAID system
&gt; very quickly.
">

Ockham, in this case the simplest explanation isn't sufficient
(Ockham's Razor includes this idea; use the simplest explanation that
works).

More complex explanation: there's new file system magic; it looks like
zillions of copies, but only uses additional backup space when
something has changed. Read about hard links to files and directories.
The Ars Technica review is excellent.

-- Sally

--
Sally Shears (a.k.a. &quot;Molly&quot;)
SallyShe ... @gmail.com -or- Sa ... @Shears.org
SallyShears (at) gmail (dot) com
</POST>
<POST>
<POSTER> demp...@actrix.gen.nz (David Empson) </POSTER>
<POSTDATE> 2007-11-01T20:26:00 </POSTDATE>
<QUOTE PREVIOUSPOST="
Ockham's Razor &lt;Menc ... @pdx.net&gt; wrote:
&gt; In article &lt;michelle-73A082.08434001112 ... @news.east.cox.net&gt;,
&gt;  Michelle Steiner &lt;miche ... @michelle.org&gt; wrote:

&gt; &gt; In article &lt;barmar-9B459D.10504001112 ... @comcast.dca.giganews.com&gt;,
&gt; &gt;  Barry Margolin &lt;bar ... @alum.mit.edu&gt; wrote:

&gt; &gt; &gt; Does it do any compression when it backs up?

&gt; &gt; None at all.

&gt; I am concerned about this.  I hear that &quot;Time Machine&quot; can take one back
&gt; to any prior iterations of their computer.
">

Any prior iteration it has kept, yes.

It doesn't appear to have a way for you to designate an &quot;important&quot;
backup that you want to keep, like a snapshot. It will make its own
decision about which hourly backup to keep each day, and which daily
backup to keep each week after a month.

I think this is a feature they should add. I'd like to be able to do a
Time Machine backup just before installing a system update, designating
it to be kept, then be confident that one will still be there (not one
just after the system update, or an earlier one which might be missing
important changes I wanted to keep) for at least the next month (or
longer - I'd really like it to stay forever unless I say it is OK to
delete it).

<QUOTE PREVIOUSPOST="
&gt; This means that it has made dozens/hundreds of copies of the system and
&gt; files.  Where is all this stuff?
">

It is largely done with smoke and mirrors. See below.

<QUOTE PREVIOUSPOST="
&gt; It would quickly over load anything but a terrabyte RAID system very
&gt; quickly.
">

Probably not (unless you have massive files which are frequently
changing, such as an Entourage database, as discussed earlier in the
thread).

Time Machine potentially has in the order of 100 copies (over a year) of
any file which is constantly changing (about 47 weekly backups, plus 30
daily backups, plus up to 23 hourly backups).

For files which change less often, it only keeps a new copy of the file
each time it changes (limited by the period between retained backups,
e.g. no more than one copy a week after a month has passed, but one copy
a day within the last month, and up to one copy an hour for the current
day, maybe more if you also do manual backups.)

For system updates, you might get something like five &quot;version number&quot;
updates in the course of a year, plus several security updates. Let's
say there are about ten updates in total over the course of a year. If
the average size of the changed files in each update is 100 MB, then
your backup will contain 100 MB x 10 updates = 1 GB of versions of
updated system files, plus the original backup of the whole system,
which might be in the order of 10 GB. Grand total 11 GB (not 10 GB x 100
copies, which would be 1 TB).

There is a magic trick: Time Machine _appears_ to keep a complete set of
copies of every file on the system for each backup.

What it actually does is only keep the changed files at each backup,
together with a &quot;hard link&quot; to the unchanged files or folders in an
earlier backup.

This hard link only requires a relatively small amount of storage in the
directory, not any additional space for the file content. For an
unchanged folder, it only retains a single hard link for the entire
folder (so it doesn't need any additional storage for the contained
files and subfolders).

If you do a Get Info on an individual Time Machine backup, it appears to
be the size of the entire set of files (not just the changed ones). If
you add up the total size of all your backups, they could exceed the
size of the backup drive (due to counting multiple references to the
same files).

Some additional technical details, if you are interested:

Hard links are somewhat like aliases or symbolic links, but they are
implemented at an even lower level (inside the directory itself).

An alias is a separate file which points to the original one, and it
requires the application using it be aware of the fact that it isn't the
original file (e.g. Unix tools can't deal with aliases unless they've
been updated to add Mac-specific support). An alias is identifiable to
the end user (icon has an arrow on it in Finder).  An alias will follow
a file through a change such as renaming it, renaming the folder, moving
the folder or moving the file elsewhere on the same volume. If the
original file is deleted, the alias won't work any more, unless you put
another file in the original location with the same name. (It might be
the last known location - I haven't confirmed the precise behaviour.)

A symbolic link works somewhat like an alias (and looks the same in
Finder), but it works by remembering the original location and name of
the file, and it is supported by Unix tools. If you rename or move the
original file, the symbolic link is broken. If you rename or move the
original file and then put another one back in its place, the symbolic
link will refer to the new file. (By comparison, an alias would refer to
the renamed or moved file.)

A hard link is a real file as far as normal applications are concerned.
You can do anything with it that you could with the original file, and
all applications will support it. There is no visible clue in Finder
that a hard link is one of several references to the same file (unless
it shows this deep in the Get Info window). You can find out using some
Unix tools.

Time Machine backups are read only, so you can't modify them. If you
were able to, then a change to any instance of the hard linked file
would change all of the other copies as well. The hard link would still
work if the original file was moved or renamed, and if the original file
was deleted, the rest of the hard links still work, because deleting the
file only removes the original reference to it (every other hard link
still refers to the same file: there is just one less hard link to it).
The file is only really deleted when the last hard link to it is deleted
(counting the original instance as well as subsequent references).

This means that Time Machine doesn't need to do anything special when it
deletes the oldest backup due to the disk being full, or when it deletes
hourly or daily backups. This will only really delete any files which
differ from every other backup. Everything else is just a hard link to
the file (in effect). The directory might need a little tidying up when
the original reference to the file is deleted, but that is handled by
the file system without Time Machine having to worry about it.

The directory on a Time Machine backup volume is going to get pretty
big. After a system update, the next Time Machine backup will need a
significant number of new entries in the directory (every changed file,
plus a hard link to every other file or folder in a folder with changed
files).

If a typical system contains about 300,000 files, then my hypothetical
10 system updates a year might add another 300,000 on top of that, many
of which will just be hard links.

The larger directory is likely to result in increased time processing
the Time Machine backup volume with repair/recovery tools like Disk
Utility and DiskWarrior.

--
David Empson
demp ... @actrix.gen.nz
</POST>
<POST>
<POSTER> Ockham&#39;s Razor &lt;Menc...@pdx.net&gt; </POSTER>
<POSTDATE> 2007-11-02T11:12:00 </POSTDATE>
In article &lt;1i6yafs.1psd647c4bcauN%demp ... @actrix.gen.nz&gt;,
demp ... @actrix.gen.nz (David Empson) wrote:

<QUOTE PREVIOUSPOST="
&gt; Ockham's Razor &lt;Menc ... @pdx.net&gt; wrote:

&gt; &gt; In article &lt;michelle-73A082.08434001112 ... @news.east.cox.net&gt;,
&gt; &gt;  Michelle Steiner &lt;miche ... @michelle.org&gt; wrote:

&gt; &gt; &gt; In article &lt;barmar-9B459D.10504001112 ... @comcast.dca.giganews.com&gt;,
&gt; &gt; &gt;  Barry Margolin &lt;bar ... @alum.mit.edu&gt; wrote:

&gt; &gt; &gt; &gt; Does it do any compression when it backs up?

&gt; &gt; &gt; None at all.

&gt; &gt; I am concerned about this.  I hear that &quot;Time Machine&quot; can take one back
&gt; &gt; to any prior iterations of their computer.

&gt; Any prior iteration it has kept, yes.

&gt; It doesn't appear to have a way for you to designate an &quot;important&quot;
&gt; backup that you want to keep, like a snapshot. It will make its own
&gt; decision about which hourly backup to keep each day, and which daily
&gt; backup to keep each week after a month.

&gt; I think this is a feature they should add. I'd like to be able to do a
&gt; Time Machine backup just before installing a system update, designating
&gt; it to be kept, then be confident that one will still be there (not one
&gt; just after the system update, or an earlier one which might be missing
&gt; important changes I wanted to keep) for at least the next month (or
&gt; longer - I'd really like it to stay forever unless I say it is OK to
&gt; delete it).

&gt; &gt; This means that it has made dozens/hundreds of copies of the system and
&gt; &gt; files.  Where is all this stuff?

&gt; It is largely done with smoke and mirrors. See below.

&gt; &gt; It would quickly over load anything but a terrabyte RAID system very
&gt; &gt; quickly.

&gt; Probably not (unless you have massive files which are frequently
&gt; changing, such as an Entourage database, as discussed earlier in the
&gt; thread).

&gt; Time Machine potentially has in the order of 100 copies (over a year) of
&gt; any file which is constantly changing (about 47 weekly backups, plus 30
&gt; daily backups, plus up to 23 hourly backups).

&gt; For files which change less often, it only keeps a new copy of the file
&gt; each time it changes (limited by the period between retained backups,
&gt; e.g. no more than one copy a week after a month has passed, but one copy
&gt; a day within the last month, and up to one copy an hour for the current
&gt; day, maybe more if you also do manual backups.)

&gt; For system updates, you might get something like five &quot;version number&quot;
&gt; updates in the course of a year, plus several security updates. Let's
&gt; say there are about ten updates in total over the course of a year. If
&gt; the average size of the changed files in each update is 100 MB, then
&gt; your backup will contain 100 MB x 10 updates = 1 GB of versions of
&gt; updated system files, plus the original backup of the whole system,
&gt; which might be in the order of 10 GB. Grand total 11 GB (not 10 GB x 100
&gt; copies, which would be 1 TB).

&gt; There is a magic trick: Time Machine _appears_ to keep a complete set of
&gt; copies of every file on the system for each backup.

&gt; What it actually does is only keep the changed files at each backup,
&gt; together with a &quot;hard link&quot; to the unchanged files or folders in an
&gt; earlier backup.

&gt; This hard link only requires a relatively small amount of storage in the
&gt; directory, not any additional space for the file content. For an
&gt; unchanged folder, it only retains a single hard link for the entire
&gt; folder (so it doesn't need any additional storage for the contained
&gt; files and subfolders).

&gt; If you do a Get Info on an individual Time Machine backup, it appears to
&gt; be the size of the entire set of files (not just the changed ones). If
&gt; you add up the total size of all your backups, they could exceed the
&gt; size of the backup drive (due to counting multiple references to the
&gt; same files).

&gt; Some additional technical details, if you are interested:

&gt; Hard links are somewhat like aliases or symbolic links, but they are
&gt; implemented at an even lower level (inside the directory itself).

&gt; An alias is a separate file which points to the original one, and it
&gt; requires the application using it be aware of the fact that it isn't the
&gt; original file (e.g. Unix tools can't deal with aliases unless they've
&gt; been updated to add Mac-specific support). An alias is identifiable to
&gt; the end user (icon has an arrow on it in Finder).  An alias will follow
&gt; a file through a change such as renaming it, renaming the folder, moving
&gt; the folder or moving the file elsewhere on the same volume. If the
&gt; original file is deleted, the alias won't work any more, unless you put
&gt; another file in the original location with the same name. (It might be
&gt; the last known location - I haven't confirmed the precise behaviour.)

&gt; A symbolic link works somewhat like an alias (and looks the same in
&gt; Finder), but it works by remembering the original location and name of
&gt; the file, and it is supported by Unix tools. If you rename or move the
&gt; original file, the symbolic link is broken. If you rename or move the
&gt; original file and then put another one back in its place, the symbolic
&gt; link will refer to the new file. (By comparison, an alias would refer to
&gt; the renamed or moved file.)

&gt; A hard link is a real file as far as normal applications are concerned.
&gt; You can do anything with it that you could with the original file, and
&gt; all applications will support it. There is no visible clue in Finder
&gt; that a hard link is one of several references to the same file (unless
&gt; it shows this deep in the Get Info window). You can find out using some
&gt; Unix tools.

&gt; Time Machine backups are read only, so you can't modify them. If you
&gt; were able to, then a change to any instance of the hard linked file
&gt; would change all of the other copies as well. The hard link would still
&gt; work if the original file was moved or renamed, and if the original file
&gt; was deleted, the rest of the hard links still work, because deleting the
&gt; file only removes the original reference to it (every other hard link
&gt; still refers to the same file: there is just one less hard link to it).
&gt; The file is only really deleted when the last hard link to it is deleted
&gt; (counting the original instance as well as subsequent references).

&gt; This means that Time Machine doesn't need to do anything special when it
&gt; deletes the oldest backup due to the disk being full, or when it deletes
&gt; hourly or daily backups. This will only really delete any files which
&gt; differ from every other backup. Everything else is just a hard link to
&gt; the file (in effect). The directory might need a little tidying up when
&gt; the original reference to the file is deleted, but that is handled by
&gt; the file system without Time Machine having to worry about it.

&gt; The directory on a Time Machine backup volume is going to get pretty
&gt; big. After a system update, the next Time Machine backup will need a
&gt; significant number of new entries in the directory (every changed file,
&gt; plus a hard link to every other file or folder in a folder with changed
&gt; files).

&gt; If a typical system contains about 300,000 files, then my hypothetical
&gt; 10 system updates a year might add another 300,000 on top of that, many
&gt; of which will just be hard links.

&gt; The larger directory is likely to result in increased time processing
&gt; the Time Machine backup volume with repair/recovery tools like Disk
&gt; Utility and DiskWarrior.
">

Thank you for taking the time and giving the effort to provide me with
this exhaustive answer.  I guess running DW on the volume with the Time
Machine back-ups will be measured in hours.  Oh, well.

thanks again

--
Es ist nichts schrecklicher als eine tätige Unwissenheit.

Johann Wolfgang von Goethe
</POST>
<POST>
<POSTER> Tom Stiller &lt;tomstil...@comcast.net&gt; </POSTER>
<POSTDATE> 2007-11-02T11:24:00 </POSTDATE>
In article &lt;Mencken-C40F36.08124902112 ... @news.dsl&gt;,
Ockham's Razor &lt;Menc ... @pdx.net&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; Thank you for taking the time and giving the effort to provide me with
&gt; this exhaustive answer.  I guess running DW on the volume with the Time
&gt; Machine back-ups will be measured in hours.  Oh, well.
">

I don't know, but I suspect that since hard links to directories is new,
the current version of DW may not know how to handle them and would
refuse to to replace the directory on a TM backup drive.

--
Tom Stiller

PGP fingerprint =  5108 DDB2 9761 EDE5 E7E3  7BDA 71ED 6496 99C0 C7CF
</POST>
<POST>
<POSTER> demp...@actrix.gen.nz (David Empson) </POSTER>
<POSTDATE> 2007-11-02T18:51:00 </POSTDATE>
<QUOTE PREVIOUSPOST="
Tom Stiller &lt;tomstil ... @comcast.net&gt; wrote:
&gt; In article &lt;Mencken-C40F36.08124902112 ... @news.dsl&gt;,
&gt;  Ockham's Razor &lt;Menc ... @pdx.net&gt; wrote:

&gt; &gt; Thank you for taking the time and giving the effort to provide me with
&gt; &gt; this exhaustive answer.  I guess running DW on the volume with the Time
&gt; &gt; Machine back-ups will be measured in hours.  Oh, well.
">

Depends on how DiskWarrior's directory repair tasks scale as the number
of files increase. If it is a mostly linear task, then repairing the
Time Machine volume will just scale up (compared to the original drive)
as the number of files increase. It might take in the order of two or
three times longer after a year.

Some aspects of the task will scale somewhat slower, but I hope that
they have used good sorting algorithms to avoid polynomial or
exponential scaling where possible. (This may be the main reason why
DiskWarrior 3 and later are so much faster than DiskWarrior 2.)

<QUOTE PREVIOUSPOST="
&gt; I don't know, but I suspect that since hard links to directories is new,
&gt; the current version of DW may not know how to handle them and would
&gt; refuse to to replace the directory on a TM backup drive.
">

I'd expect Alsoft to have warned us about it if DiskWarrior didn't
already handle this. Somewhat surprising, since it is a new feature.

Other applications are needing updates to cope with Time Machine backup
volumes. For example, using Retrospect will complain about duplicate
directory IDs while it is scanning the Time Machine volume.

--
David Empson
demp ... @actrix.gen.nz
</POST>
<POST>
<POSTER> Tom Stiller &lt;tomstil...@comcast.net&gt; </POSTER>
<POSTDATE> 2007-11-03T15:18:00 </POSTDATE>
In article &lt;1i7014g.1xrn212jrdr3cN%demp ... @actrix.gen.nz&gt;,
demp ... @actrix.gen.nz (David Empson) wrote:

<QUOTE PREVIOUSPOST="
&gt; Tom Stiller &lt;tomstil ... @comcast.net&gt; wrote:

&gt; &gt; In article &lt;Mencken-C40F36.08124902112 ... @news.dsl&gt;,
&gt; &gt;  Ockham's Razor &lt;Menc ... @pdx.net&gt; wrote:

&gt; &gt; &gt; Thank you for taking the time and giving the effort to provide me with
&gt; &gt; &gt; this exhaustive answer.  I guess running DW on the volume with the Time
&gt; &gt; &gt; Machine back-ups will be measured in hours.  Oh, well.

&gt; Depends on how DiskWarrior's directory repair tasks scale as the number
&gt; of files increase. If it is a mostly linear task, then repairing the
&gt; Time Machine volume will just scale up (compared to the original drive)
&gt; as the number of files increase. It might take in the order of two or
&gt; three times longer after a year.

&gt; Some aspects of the task will scale somewhat slower, but I hope that
&gt; they have used good sorting algorithms to avoid polynomial or
&gt; exponential scaling where possible. (This may be the main reason why
&gt; DiskWarrior 3 and later are so much faster than DiskWarrior 2.)

&gt; &gt; I don't know, but I suspect that since hard links to directories is new,
&gt; &gt; the current version of DW may not know how to handle them and would
&gt; &gt; refuse to to replace the directory on a TM backup drive.

&gt; I'd expect Alsoft to have warned us about it if DiskWarrior didn't
&gt; already handle this. Somewhat surprising, since it is a new feature.

&gt; Other applications are needing updates to cope with Time Machine backup
&gt; volumes. For example, using Retrospect will complain about duplicate
&gt; directory IDs while it is scanning the Time Machine volume.
">

Please be more careful with attributions; I wrote none of the above.

--
Tom Stiller

PGP fingerprint =  5108 DDB2 9761 EDE5 E7E3  7BDA 71ED 6496 99C0 C7CF
</POST>
<POST>
<POSTER> demp...@actrix.gen.nz (David Empson) </POSTER>
<POSTDATE> 2007-11-03T20:43:00 </POSTDATE>
<QUOTE PREVIOUSPOST="
Tom Stiller &lt;tomstil ... @comcast.net&gt; wrote:
&gt; In article &lt;1i7014g.1xrn212jrdr3cN%demp ... @actrix.gen.nz&gt;,
&gt;  demp ... @actrix.gen.nz (David Empson) wrote:

&gt; &gt; Tom Stiller &lt;tomstil ... @comcast.net&gt; wrote:

&gt; &gt; &gt; In article &lt;Mencken-C40F36.08124902112 ... @news.dsl&gt;,
&gt; &gt; &gt;  Ockham's Razor &lt;Menc ... @pdx.net&gt; wrote:

&gt; &gt; &gt; &gt; Thank you for taking the time and giving the effort to provide me with
&gt; &gt; &gt; &gt; this exhaustive answer.  I guess running DW on the volume with the Time
&gt; &gt; &gt; &gt; Machine back-ups will be measured in hours.  Oh, well.

&gt; &gt; Depends on how DiskWarrior's directory repair tasks scale as the number
&gt; &gt; of files increase. If it is a mostly linear task, then repairing the
&gt; &gt; Time Machine volume will just scale up (compared to the original drive)
&gt; &gt; as the number of files increase. It might take in the order of two or
&gt; &gt; three times longer after a year.

&gt; &gt; Some aspects of the task will scale somewhat slower, but I hope that
&gt; &gt; they have used good sorting algorithms to avoid polynomial or
&gt; &gt; exponential scaling where possible. (This may be the main reason why
&gt; &gt; DiskWarrior 3 and later are so much faster than DiskWarrior 2.)

&gt; &gt; &gt; I don't know, but I suspect that since hard links to directories is new,
&gt; &gt; &gt; the current version of DW may not know how to handle them and would
&gt; &gt; &gt; refuse to to replace the directory on a TM backup drive.

&gt; &gt; I'd expect Alsoft to have warned us about it if DiskWarrior didn't
&gt; &gt; already handle this. Somewhat surprising, since it is a new feature.

&gt; &gt; Other applications are needing updates to cope with Time Machine backup
&gt; &gt; volumes. For example, using Retrospect will complain about duplicate
&gt; &gt; directory IDs while it is scanning the Time Machine volume.

&gt; Please be more careful with attributions; I wrote none of the above.
">

Yes you did. You wrote the paragraph starting &quot;I don't know, but I
suspsect...&quot;, which is exactly what my post's intended layering shows.

I suppose I could have moved the &quot;Tom Stiller wrote&quot; line down to the
specific paragraph you wrote - I was replying to Ockham's Razor's
paragraph and to your reply to his one, rather than doing two separate
posts.
--
David Empson
demp ... @actrix.gen.nz
</POST>
<POST>
<POSTER> Tom Stiller &lt;tomstil...@comcast.net&gt; </POSTER>
<POSTDATE> 2007-11-03T22:31:00 </POSTDATE>
In article &lt;1i720x3.l0h8l1115zmbvN%demp ... @actrix.gen.nz&gt;,
demp ... @actrix.gen.nz (David Empson) wrote:

<QUOTE PREVIOUSPOST="
&gt; Tom Stiller &lt;tomstil ... @comcast.net&gt; wrote:

&gt; &gt; In article &lt;1i7014g.1xrn212jrdr3cN%demp ... @actrix.gen.nz&gt;,
&gt; &gt;  demp ... @actrix.gen.nz (David Empson) wrote:

&gt; &gt; &gt; Tom Stiller &lt;tomstil ... @comcast.net&gt; wrote:

&gt; &gt; &gt; &gt; In article &lt;Mencken-C40F36.08124902112 ... @news.dsl&gt;,
&gt; &gt; &gt; &gt;  Ockham's Razor &lt;Menc ... @pdx.net&gt; wrote:

&gt; &gt; &gt; &gt; &gt; Thank you for taking the time and giving the effort to provide me
&gt; &gt; &gt; &gt; &gt; with
&gt; &gt; &gt; &gt; &gt; this exhaustive answer.  I guess running DW on the volume with the
&gt; &gt; &gt; &gt; &gt; Time
&gt; &gt; &gt; &gt; &gt; Machine back-ups will be measured in hours.  Oh, well.

&gt; &gt; &gt; Depends on how DiskWarrior's directory repair tasks scale as the number
&gt; &gt; &gt; of files increase. If it is a mostly linear task, then repairing the
&gt; &gt; &gt; Time Machine volume will just scale up (compared to the original drive)
&gt; &gt; &gt; as the number of files increase. It might take in the order of two or
&gt; &gt; &gt; three times longer after a year.

&gt; &gt; &gt; Some aspects of the task will scale somewhat slower, but I hope that
&gt; &gt; &gt; they have used good sorting algorithms to avoid polynomial or
&gt; &gt; &gt; exponential scaling where possible. (This may be the main reason why
&gt; &gt; &gt; DiskWarrior 3 and later are so much faster than DiskWarrior 2.)

&gt; &gt; &gt; &gt; I don't know, but I suspect that since hard links to directories is
&gt; &gt; &gt; &gt; new,
&gt; &gt; &gt; &gt; the current version of DW may not know how to handle them and would
&gt; &gt; &gt; &gt; refuse to to replace the directory on a TM backup drive.

&gt; &gt; &gt; I'd expect Alsoft to have warned us about it if DiskWarrior didn't
&gt; &gt; &gt; already handle this. Somewhat surprising, since it is a new feature.

&gt; &gt; &gt; Other applications are needing updates to cope with Time Machine backup
&gt; &gt; &gt; volumes. For example, using Retrospect will complain about duplicate
&gt; &gt; &gt; directory IDs while it is scanning the Time Machine volume.

&gt; &gt; Please be more careful with attributions; I wrote none of the above.

&gt; Yes you did. You wrote the paragraph starting &quot;I don't know, but I
&gt; suspsect...&quot;, which is exactly what my post's intended layering shows.

&gt; I suppose I could have moved the &quot;Tom Stiller wrote&quot; line down to the
&gt; specific paragraph you wrote - I was replying to Ockham's Razor's
&gt; paragraph and to your reply to his one, rather than doing two separate
&gt; posts.
">

Mea culpa.

--
Tom Stiller

PGP fingerprint =  5108 DDB2 9761 EDE5 E7E3  7BDA 71ED 6496 99C0 C7CF
</POST>
</TEXT>
</BODY>
</DOC>
