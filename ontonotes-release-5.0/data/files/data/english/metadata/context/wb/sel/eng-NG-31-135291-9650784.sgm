<DOC>
<DOCID> eng-NG-31-135291-9650784 </DOCID>
<DOCTYPE SOURCE="usenet"> USENET TEXT </DOCTYPE>
<DATETIME> 2008-01-28T02:52:00 </DATETIME>
<BODY>
<HEADLINE>
Superfish problem with IE7
</HEADLINE>
<TEXT>
<POST>
<POSTER> eugene33 &lt;sebastian.descha...@gmail.com&gt; </POSTER>
<POSTDATE> 2008-01-28T02:52:00 </POSTDATE>
Hi,

I have a little problem with superfish and IE7 (probably IE6 too
couldn't test it) works perfectly with FF/Konqueror...
the link : http://september.bizpax.us
Here is the css I used :
/* There is a version of this file commented in great detail for
educational purposes here:
* http://users.tpg.com.au/j_birch/plugins/superfish/superfish.commented...
*/

/*** ESSENTIAL STYLES ***/
.nav, .nav * {
margin:0;
padding:0;
list-style:none;

<QUOTE PREVIOUSPOST="
}
">

.nav {
line-height:1.0;

<QUOTE PREVIOUSPOST="
}
">

.nav ul {
position:absolute;
top:-999em;
width:9.45em;

<QUOTE PREVIOUSPOST="
}
">

.nav ul li,
.nav a {
width: 100%;

<QUOTE PREVIOUSPOST="
}
">

.nav li {
float:left;
position:relative;
z-index:99;

<QUOTE PREVIOUSPOST="
}
">

.nav a {
display:block;

<QUOTE PREVIOUSPOST="
}
">

.nav li:hover ul,
ul.nav li.sfHover ul {
left:-1px;
top:2.5em;

<QUOTE PREVIOUSPOST="
}
">

.nav li:hover li ul,
.nav li.sfHover li ul {
top:-999em;

<QUOTE PREVIOUSPOST="
}
">

.nav li li:hover ul,
ul.nav li li.sfHover ul {
left:9.45em;
top:-1px;

<QUOTE PREVIOUSPOST="
}
">

.superfish li:hover ul,
.superfish li li:hover ul {
top: -999em;

<QUOTE PREVIOUSPOST="
}
">

/*** ORIGINAL SKIN ***/
.nav {
float:left;
margin-bottom:1.5em;

<QUOTE PREVIOUSPOST="
}
">

.nav li {
background:#BDD2FF;
border-left:1px solid #fff;
border-top:1px solid #CFDEFF;
width:9.45em;

<QUOTE PREVIOUSPOST="
}
">

.nav a {
color: #13a;
padding: .75em 0;
text-decoration:none;
text-indent: 2em;

<QUOTE PREVIOUSPOST="
}
">

.nav li:hover, .nav li.sfHover,
.nav a:focus, .nav a:hover, .nav a:active {
background:#CFDEFF;

<QUOTE PREVIOUSPOST="
}
">

.nav li li {
background:#AABDE6;

<QUOTE PREVIOUSPOST="
}
">

.nav li li li {
background:#9AAEDB;

<QUOTE PREVIOUSPOST="
}
">

*************************************************************************** ***********************
The JS code I used:
&lt;script type=&quot;text/javascript&quot;&gt;
$(document).ready(function(){
$(&quot;ul.nav&quot;).superfish({
hoverClass      : &quot;sfHover&quot;,
pathClass       : &quot;current&quot;,
delay           : 800,
animation       : {opacity:&quot;show&quot;},
speed           : &quot;normal&quot;,
oldJquery       : false, /* set to true if using jQuery version below 1.2
*/
disableHI       : false, /* set to true to disable hoverIntent detection
*/
onInit          : function(){},
onBeforeShow    : function(){},
onShow          : function(){},
onHide          : function(){}
});

<QUOTE PREVIOUSPOST="
});
">

&lt;/script&gt;
*********************************************************************
And I put the bigframe.js too
I really don't see where the problem is !?!
I used :
Jquery 1.2.2
the IE7 Javascript from http://ie7-js.googlecode.com/svn/version/2.0(beta)/
and Superfish 1.4.1
Any help would be greatly appreciated
</POST>
<POST>
<POSTER> &quot;Joel Birch&quot; &lt;joeldbi...@gmail.com&gt; </POSTER>
<POSTDATE> 2008-01-28T06:33:00 </POSTDATE>
Hi there,

What have you tried debugging-wise? The CSS looks right so I'm
thinking there could be a few things to check next. Does the menu work
when you remove the IE7-js code? If so then there must be a conflict
of some sort that we can look into.

The next thing is that I notice your HTML does not validate so run it
through the W3C validator and fix the issues it lists.

Lastly (for now) I think the XML prolog at the top of your HTML page
will put IE into quirks mode (which Superfish and I don't take kindly
to ;) ) so you should remove that seeing as you are actually serving
the code as text/html, and IE does not support real xml anyway. In
fact, remove this first before you attempt to get your HTML valid.

Let me know how you go with all this and we can go from there.

Joel Birch.
</POST>
<POST>
<POSTER> &quot;Charles K. Clarkson&quot; &lt;cclark...@htcomp.net&gt; </POSTER>
<POSTDATE> 2008-01-28T05:47:00 </POSTDATE>
<QUOTE PREVIOUSPOST="
eugene33 wrote:
">

: I have a little problem with superfish and IE7 (probably IE6 too
: couldn't test it)

It fails under IE6 as well.

The problem seems to be the relative positioning of the #content.
The default is static positioning works fine. The relative position is
causing the problem.

As is:

div#content {
position: relative;
display: block;
float: left;
width: 480px;
min-height: 642px;
padding: 10px;
background: #F1EDE1;
border-left: 1px solid #FFFFED;
}

Repaired:

div#content {
position: static;
display: block;
float: left;
width: 480px;
min-height: 642px;
padding: 10px;
background: #F1EDE1;
border-left: 1px solid #FFFFED;
}

According to the docs, the superfish author watches this list. He
may have some insight on exactly how to keep the relative positioning
and the menu. I suspect the menu normally displays fine, but under the
#content due to its positioning.

BTW, I solved this problem by backing out all the stylesheets except
the superfish one. I tested the page and the menu worked in IE. Then I
added stylesheets back in until I isolated the layout stylesheet. Did
more testing. Next I guessed about blocking out whole sections of style
in the layout css and found the above block. Then isolated the problem
line.

This process is an old program debugging technique. Get down to
something that works, and then slowly heap the frills on until you find
the error again. For simple problems, the last thing you added on is the
most likely culprit. It's a tedious process, but it gets the job done.

HTH,

Charles K. Clarkson
--
Mobile Homes Specialist
Free Market Advocate
Web Programmer

254 968-8328

http://www.clarksonenergyhomes.com/wordpress/about/
</POST>
<POST>
<POSTER> &quot;Joel Birch&quot; &lt;joeldbi...@gmail.com&gt; </POSTER>
<POSTDATE> 2008-01-28T08:12:00 </POSTDATE>
Hi Charles,

Great post - thanks very much for doing all of that debugging and
writing such an informative response. I didn't have chance to set up
test pages for this at the moment and now I may not need to. :)

I should have thought of this as it has come up a few times... the
cause of the problem is the IE z-index bug. There's plenty of info
about it but, basically, a workaround for IE is to apply an
appropriate z-index value to the menu's ancestor element that is a
sibling to the ancestor of the element that is covering the submenus
(and possibly to all those other elements in the chain also). This
makes the layering order very explicit and appeases IE.

Cheers
Joel Birch.
</POST>
</TEXT>
</BODY>
</DOC>
