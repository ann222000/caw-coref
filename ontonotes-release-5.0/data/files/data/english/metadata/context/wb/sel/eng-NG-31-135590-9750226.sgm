<DOC>
<DOCID> eng-NG-31-135590-9750226 </DOCID>
<DOCTYPE SOURCE="usenet"> USENET TEXT </DOCTYPE>
<DATETIME> 2008-01-11T17:07:00 </DATETIME>
<BODY>
<HEADLINE>
&quot;document.getElementByld is null&quot;
</HEADLINE>
<TEXT>
<POST>
<POSTER> martin &lt;moustiqua...@freze.fr&gt; </POSTER>
<POSTDATE> 2008-01-11T17:07:00 </POSTDATE>
According to friends of mine who use MSIE, the following page
http://tinyurl.com/3crkar
returns ajavascript error :

&gt; Error: 'document.getElementByld[...]' is null or not an object

It works (almost) all right in Firefox.
Any clue ?

Thank you,

Martin (french)
</POST>
<POST>
<POSTER> Jeremy J Starcher &lt;r3...@yahoo.com&gt; </POSTER>
<POSTDATE> 2008-01-11T17:14:00 </POSTDATE>
<QUOTE PREVIOUSPOST="
On Fri, 11 Jan 2008 23:07:43 +0100, martin wrote:
&gt; According to friends of mine who use MSIE, the following page
&gt; http://tinyurl.com/3crkar
">

Please do not use tinyurl.
http://gojomo.blogspot.com/2006/02/tinyurls-are-evil-urls.html

<QUOTE PREVIOUSPOST="
&gt;  &gt; Error: 'document.getElementByld[...]' is null or not an object
">

Valid your web page against HTML 4.01 strict

No version of IE currently supports XHTML.

Even if IE did, this line would cause you all sorts of grief
&lt;script type=&quot;text/javascript&quot;&gt;&lt;!--//--&gt;&lt;![CDATA[//&gt;&lt;!--

HTML 4.01 strict does not require the HTML comments nor the CDATA blocks.

<QUOTE PREVIOUSPOST="
&gt; It works (almost) all right in Firefox. Any clue ?
">

Yup.  Your page is broken.
</POST>
<POST>
<POSTER> VK &lt;schools_r...@yahoo.com&gt; </POSTER>
<POSTDATE> 2008-01-11T17:25:00 </POSTDATE>
On Jan 12, 1:07 am, martin &lt;moustiqua ... @freze.fr&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; According to friends of mine who use MSIE, the following page http://tinyurl.com/3crkar
&gt; returns ajavascript error :

&gt;  &gt; Error: 'document.getElementByld[...]' is null or not an object

&gt; It works (almost) all right in Firefox.
&gt; Any clue ?

&gt; Thank you,

&gt; Martin (french)
">

Currently I cannot load your page into IE6 at all: it reports &quot;Page
cannot be loaded&quot; or displays empty gray background. Are you using
application/xhtml+xml content type? If so then you cannot do it unless
making &quot;non-IE only&quot; site: XHTML is not supported by IE. Ensure first
that the pages are served as text/html, then let's look for further
problems is any remain.
</POST>
<POST>
<POSTER> martin &lt;moustiqua...@freze.fr&gt; </POSTER>
<POSTDATE> 2008-01-11T17:39:00 </POSTDATE>
Jeremy J Starcher a écrit :

<QUOTE PREVIOUSPOST="
&gt; Please do not use tinyurl.
&gt; http://gojomo.blogspot.com/2006/02/tinyurls-are-evil-urls.html
">

Sorry, I wasn't aware.

<QUOTE PREVIOUSPOST="
&gt;&gt; It works (almost) all right in Firefox. Any clue ?
&gt; Yup.  Your page is broken.
">

That's a clear answer. Thank you :-)
</POST>
<POST>
<POSTER> martin &lt;moustiqua...@freze.fr&gt; </POSTER>
<POSTDATE> 2008-01-11T17:46:00 </POSTDATE>
VK a écrit :

<QUOTE PREVIOUSPOST="
&gt; Currently I cannot load your page into IE6 at all: it reports &quot;Page
&gt; cannot be loaded&quot; or displays empty gray background. Are you using
&gt; application/xhtml+xml content type? If so then you cannot do it unless
&gt; making &quot;non-IE only&quot; site: XHTML is not supported by IE. Ensure first
&gt; that the pages are served as text/html, then let's look for further
&gt; problems is any remain.
">

It's quite a surprise for me, I run a few websites built with a CMS
called SPIP, and they behave allright in MSIE, although they state at
the top of every page :

&lt;!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN'
' http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd' &gt;

--
remove z to reply / ôtez z pour répondre
</POST>
<POST>
<POSTER> Jeremy J Starcher &lt;r3...@yahoo.com&gt; </POSTER>
<POSTDATE> 2008-01-11T17:48:00 </POSTDATE>
<QUOTE PREVIOUSPOST="
On Fri, 11 Jan 2008 23:39:11 +0100, martin wrote:
&gt;&gt;&gt; It works (almost) all right in Firefox. Any clue ?
&gt;&gt; Yup.  Your page is broken.

&gt; That's a clear answer. Thank you :-)
">

The details about HOW it was broken were above in the comments about the
XHTML.

Many (most?) folks here believe that having the page validate properly is
the first step in Javascript debugging.

Under IE, XHTML is broken.
http://www.hixie.ch/advocacy/xhtml

Didn't mean it as a snide comment.  Until the page validates to HTML
4.01, the was the best and most detailed answer I could give.
</POST>
<POST>
<POSTER> Jeremy J Starcher &lt;r3...@yahoo.com&gt; </POSTER>
<POSTDATE> 2008-01-11T17:55:00 </POSTDATE>
<QUOTE PREVIOUSPOST="
On Fri, 11 Jan 2008 23:46:24 +0100, martin wrote:
&gt; It's quite a surprise for me, I run a few websites built with a CMS
&gt; called SPIP, and they behave allright in MSIE, although they state at
&gt; the top of every page :

&gt; &lt;!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN'
&gt; ' http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd' &gt;
">

IE will render these pages as &quot;tag-soup&quot; -- that is, it will render them
the same way it will render any other badly formed page.  By &quot;best-
guessing&quot; what the author meant.  The best-guest is not always right.
</POST>
<POST>
<POSTER> VK &lt;schools_r...@yahoo.com&gt; </POSTER>
<POSTDATE> 2008-01-11T17:58:00 </POSTDATE>
On Jan 12, 1:46 am, martin &lt;moustiqua ... @freze.fr&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; It's quite a surprise for me, I run a few websites built with a CMS
&gt; called SPIP, and they behave allright in MSIE, although they state at
&gt; the top of every page :

&gt; &lt;!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN'
&gt; ' http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd' &gt;
">

I am not talking about DOCTYPE, I am talking about Content-type in
server response header. It must be text/html and nothing else - again
unless you want to prohibit IE6/IE7 users from viewing your site.
DOCTYPE is irrelevant to the document treatment (HTML vs. XHTML), only
Content-type is regarded by browsers.

So first make sure that the server serves all pages as Content-type:
text/html

Then let's look further if any JavaScript problems are.
</POST>
<POST>
<POSTER> Randy Webb &lt;HikksNotAtH...@aol.com&gt; </POSTER>
<POSTDATE> 2008-01-11T18:32:00 </POSTDATE>
VK said the following on 1/11/2008 5:58 PM:

<QUOTE PREVIOUSPOST="
&gt; On Jan 12, 1:46 am, martin &lt;moustiqua ... @freze.fr&gt; wrote:
&gt;&gt; It's quite a surprise for me, I run a few websites built with a CMS
&gt;&gt; called SPIP, and they behave allright in MSIE, although they state at
&gt;&gt; the top of every page :

&gt;&gt; &lt;!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN'
&gt;&gt; ' http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd' &gt;

&gt; I am not talking about DOCTYPE, I am talking about Content-type in
&gt; server response header. It must be text/html and nothing else - again
&gt; unless you want to prohibit IE6/IE7 users from viewing your site.
&gt; DOCTYPE is irrelevant to the document treatment (HTML vs. XHTML), only
&gt; Content-type is regarded by browsers.
">

That is not true with regards to Safari on Windows.

--
Randy
Chance Favors The Prepared Mind
comp.lang.javascript FAQ - http://jibbering.com/faq/index.html
Javascript Best Practices - http://www.JavascriptToolbox.com/bestpractices/
</POST>
<POST>
<POSTER> martin &lt;moustiqua...@freze.fr&gt; </POSTER>
<POSTDATE> 2008-01-11T19:32:00 </POSTDATE>
VK a écrit :

<QUOTE PREVIOUSPOST="
&gt; So first make sure that the server serves all pages as Content-type:
&gt; text/html
">

I've been trying for a couple of hours to understand what's happening,
but I have a problem.
(sorry, possible broken english in what follows)

What seems to create the problem is a call to a js function called
overlibmws

Here is a small part of the code :

&lt;area shape=&quot;poly&quot; coords=&quot;2,80,40&quot; href=&quot;javascript:void(0)&quot;
onclick=&quot;return overlib('&lt;div class=\'ovfl\'&gt;&lt;img
src=\'IMG/arton370.jpg\' width=\'60\' height=\'80\' /&gt;here I have some
text&lt;br/&gt;text again&lt;br class=\'nettoyeur\' &lt;/div&gt;');&quot; /&gt;

Apparently, when parsing my html file, the validator is horrified by
those &lt;div&gt; that shouldn't be here.

So my question could be reformulated as
&quot;do you know how to insert html properly code between the brackets of
return overlib();
?

--
remove z to reply / ôtez z pour répondre
</POST>
<POST>
<POSTER> SAM &lt;stephanemoriaux.NoAd...@wanadoo.fr.invalid&gt; </POSTER>
<POSTDATE> 2008-01-11T20:46:00 </POSTDATE>
martin a écrit :

<QUOTE PREVIOUSPOST="
&gt; Apparently, when parsing my html file, the validator is horrified by
&gt; those &lt;div&gt; that shouldn't be here.

&gt; So my question could be reformulated as
&gt; &quot;do you know how to insert html properly code between the brackets of
&gt; return overlib();
">

try something like :

&lt;area shape=&quot;poly&quot; coords=&quot;2,80,40&quot; href=&quot;javascript:void(0)&quot;
onclick=&quot;return overlib('&lt;'+'div class=\'ovfl\'&gt;&lt;img
src=\'IMG/arton370.jpg\' width=\'60\' height=\'80\' /&gt;here I have some
text&lt;br/&gt;text again&lt;br class=\'nettoyeur\' &lt;'+'/div'+'&gt;');&quot; /&gt;

Are you sure you need overlib with an onclick ?

--
sm
</POST>
<POST>
<POSTER> martin &lt;moustiqua...@freze.fr&gt; </POSTER>
<POSTDATE> 2008-01-11T21:21:00 </POSTDATE>
SAM a écrit :

<QUOTE PREVIOUSPOST="
&gt; try something like :

&gt; &lt;area shape=&quot;poly&quot; coords=&quot;2,80,40&quot; href=&quot;javascript:void(0)&quot;
&gt; onclick=&quot;return overlib('&lt;'+'div class=\'ovfl\'&gt;&lt;img
&gt; src=\'IMG/arton370.jpg\' width=\'60\' height=\'80\' /&gt;here I have some
&gt; text&lt;br/&gt;text again&lt;br class=\'nettoyeur\' &lt;'+'/div'+'&gt;');&quot; /&gt;
">

I tried that, and it stills looks OK in Firefox.
But the W3C validator keeps telling me that

&quot;character '&lt;' is the first character of a delimiter but occurred as data.&quot;

I got hundreds like this one :-)

<QUOTE PREVIOUSPOST="
&gt; Are you sure you need overlib with an onclick ?
">

This is a good question. I intended to do something like this :

http://www.unsa.org/?page=carte

And it's the easiest way I found...

--
remove z to reply / ôtez z pour répondre
</POST>
<POST>
<POSTER> SAM &lt;stephanemoriaux.NoAd...@wanadoo.fr.invalid&gt; </POSTER>
<POSTDATE> 2008-01-12T06:27:00 </POSTDATE>
martin a écrit :

<QUOTE PREVIOUSPOST="
&gt; SAM a écrit :

&gt;&gt; try something like :

&gt;&gt; onclick=&quot;return overlib('&lt;'+'div class=\'ovfl\'&gt;&lt;img
&gt; I tried that, and it stills looks OK in Firefox.
&gt; But the W3C validator keeps telling me that

&gt; &quot;character '&lt;' is the first character of a delimiter but occurred as data.&quot;

&gt; I got hundreds like this one :-)
">

You can try replacing '&lt;' by '&amp;lt' but I don't know what overlib will do
with that.

You can also use (and it is always preferable)
a separate JS code (in the header or in a file)

var I = [];
I[0] = '&lt;div ... blah 1 ...  &gt;';
I[1] = '&lt;div ... blah 1 ...  &gt;';
I[2] = '&lt;div ... blah 1 ...  &gt;';

function pop(i) { overlib(I[i]); return false; }

and in your map

&lt;area href=&quot;#&quot; onclick=&quot;return pop(0);&quot; coord=&quot; ...&quot; tiltel=&quot;Allier&quot;&gt;
&lt;area href=&quot;#&quot; onclick=&quot;return pop(1);&quot; coord=&quot; ...&quot; title=&quot;Ain&quot;&gt;

For your convenience you could also do :

var I = [];
I['Allier'] = '&lt;div ... blah 1 ...  &gt;';
I['Ain'] = '&lt;div ... blah 1 ...  &gt;';
I['Aines'] = '&lt;div ... blah 1 ...  &gt;';

function pop(x) { overlib(I[x]); return false; }

and in your map

&lt;area href=&quot;#&quot; coord=&quot; ...&quot;
onclick=&quot;return pop('Allier');&quot; tiltel=&quot;Allier&quot;&gt;
&lt;area href=&quot;#&quot; coord=&quot; ...&quot;
onclick=&quot;return pop('Ain');&quot; title=&quot;Ain&quot;&gt;

<QUOTE PREVIOUSPOST="
&gt; I intended to do something like this :
&gt; http://www.unsa.org/?page=carte
">

Ha! oui ! pas mal.
Mais mon Fx me dit :
&quot;Result: 0 erreurs / 91 avertissements&quot;
Il faut juste savoir si le Validator est une priorité ?

--
sm
</POST>
<POST>
<POSTER> David Mark &lt;dmark.cins...@gmail.com&gt; </POSTER>
<POSTDATE> 2008-01-12T06:47:00 </POSTDATE>
On Jan 11, 9:21 pm, martin &lt;moustiqua ... @freze.fr&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; SAM a écrit :

&gt; &gt; try something like :

&gt; &gt; &lt;area shape=&quot;poly&quot; coords=&quot;2,80,40&quot; href=&quot;javascript:void(0)&quot;
&gt; &gt; onclick=&quot;return overlib('&lt;'+'div class=\'ovfl\'&gt;&lt;img
&gt; &gt; src=\'IMG/arton370.jpg\' width=\'60\' height=\'80\' /&gt;here I have some
&gt; &gt; text&lt;br/&gt;text again&lt;br class=\'nettoyeur\' &lt;'+'/div'+'&gt;');&quot; /&gt;

&gt; I tried that, and it stills looks OK in Firefox.
&gt; But the W3C validator keeps telling me that

&gt; &quot;character '&lt;' is the first character of a delimiter but occurred as data.&quot;

&gt; I got hundreds like this one :-)
">

You are using XHTML.  Inline script should be enclosed in a CDATA
section.  Of course, you aren't serving it as XHTML, so you will have
to hide the CDATA delimiters with JavaScript comments.  It would make
more sense to use HTML.

As for your script error, there is really no telling as you are using
a combination of two of the worst libraries around (jQuery and
Overlib.)  Get rid of them if you want a reliable site.
</POST>
<POST>
<POSTER> martin &lt;moustiqua...@freze.fr&gt; </POSTER>
<POSTDATE> 2008-01-12T09:06:00 </POSTDATE>
SAM a écrit :

<QUOTE PREVIOUSPOST="
&gt; You can try replacing '&lt;' by '&amp;lt' but I don't know what overlib will do
&gt; with that.
">

I found this page
http://gougeyoureyesout.com/cssFun/2006/10/escaping-html-character-en...

and I replaced '&lt;' with '\&amp;lt;' : it seems to work (it means the
validator finds 150 errors instead of 300 :-)

<QUOTE PREVIOUSPOST="
&gt; You can also use (and it is always preferable)
&gt; a separate JS code (in the header or in a file)
">

I'll try that, too.

<QUOTE PREVIOUSPOST="
&gt;&gt; I intended to do something like this :
&gt;&gt; http://www.unsa.org/?page=carte

&gt; Ha! oui ! pas mal.
&gt; Mais mon Fx me dit :
&gt; &quot;Result: 0 erreurs / 91 avertissements&quot;
&gt; Il faut juste savoir si le Validator est une priorité ?
">

You're right, they fail validation, too. But they look OK in MSIE
anyway, so it would be sufficient for me (oops, hope I won't be
lapidated for saying this here :-)

--
remove z to reply / ôtez z pour répondre
</POST>
<POST>
<POSTER> martin &lt;moustiqua...@freze.fr&gt; </POSTER>
<POSTDATE> 2008-01-12T09:12:00 </POSTDATE>
David Mark a écrit / wrote :

<QUOTE PREVIOUSPOST="
&gt; You are using XHTML.  Inline script should be enclosed in a CDATA
&gt; section.  Of course, you aren't serving it as XHTML, so you will have
&gt; to hide the CDATA delimiters with JavaScript comments.  It would make
&gt; more sense to use HTML.
">

Unfortunately I use a CMS that serves XHTML, so I can't really change
that (to me more honest I don't know if it's possible and how to do that).

<QUOTE PREVIOUSPOST="
&gt; As for your script error, there is really no telling as you are using
&gt; a combination of two of the worst libraries around (jQuery and
&gt; Overlib.)  Get rid of them if you want a reliable site.
">

I'd like to, but do you have any replacement solution for a newbie like
me to obtain something like this clickable map ?

http://www.unsa.org/?page=carte

I could do that in Flash, but I'm not sure it's a good idea...

--
remove z to reply / ôtez z pour répondre
</POST>
<POST>
<POSTER> SAM &lt;stephanemoriaux.NoAd...@wanadoo.fr.invalid&gt; </POSTER>
<POSTDATE> 2008-01-12T14:58:00 </POSTDATE>
martin a écrit :

<QUOTE PREVIOUSPOST="
&gt; David Mark a écrit / wrote :

&gt;&gt; You are using XHTML.  Inline script should be enclosed in a CDATA
&gt;&gt; section.  Of course, you aren't serving it as XHTML, so you will have
&gt;&gt; to hide the CDATA delimiters with JavaScript comments.  It would make
&gt;&gt; more sense to use HTML.

&gt; Unfortunately I use a CMS that serves XHTML, so I can't really change
&gt; that (to me more honest I don't know if it's possible and how to do that).

&gt;&gt; As for your script error, there is really no telling as you are using
&gt;&gt; a combination of two of the worst libraries around (jQuery and
&gt;&gt; Overlib.)  Get rid of them if you want a reliable site.

&gt; I'd like to, but do you have any replacement solution for a newbie like
&gt; me to obtain something like this clickable map ?
">

I think that in XHTML (strict ?) you're not allowed to have onclick
attribute in your html code.

If you have acces to the the built of the page, prefer to introduce the
JS code in its header and to attribute from there the events to your areas

var A = document.getElementsByTagName('area');
for(var i=0, n=A.length; i&lt;n; i++) {
A[i].ref = i;
A[i].onclick = function() { return pop(this.ref); };
}

<QUOTE PREVIOUSPOST="
&gt; http://www.unsa.org/?page=carte

&gt; I could do that in Flash, but I'm not sure it's a good idea...
">

en effet !

--
sm
</POST>
<POST>
<POSTER> VK &lt;schools_r...@yahoo.com&gt; </POSTER>
<POSTDATE> 2008-01-12T15:14:00 </POSTDATE>
<QUOTE PREVIOUSPOST="
&gt; &gt; I am not talking about DOCTYPE, I am talking about Content-type in
&gt; &gt; server response header. It must be text/html and nothing else - again
&gt; &gt; unless you want to prohibit IE6/IE7 users from viewing your site.
&gt; &gt; DOCTYPE is irrelevant to the document treatment (HTML vs. XHTML), only
&gt; &gt; Content-type is regarded by browsers.

&gt; That is not true with regards to Safari on Windows.
">

It is not? Cool and very helpful for a wide run :-)
You know, in order to surprise me, Safari team has to try harder now,
say to cause brain damage by some pre-programmed emanation: or say
have 1Gb hidden game pack. All more-or-less obvious strange, dumb,
silly, idiotic and other things and errors they are doing since 1.x

Safari is another splendid proof that the first browser user sees on
the desktop is the winner no matter how ugly it is. And to win over
the most ugly yet first seen browser, the competitor has to be not
just much better, but damn better and still fighting for the
attention.
</POST>
<POST>
<POSTER> Randy Webb &lt;HikksNotAtH...@aol.com&gt; </POSTER>
<POSTDATE> 2008-01-12T18:18:00 </POSTDATE>
VK said the following on 1/12/2008 3:14 PM:

<QUOTE PREVIOUSPOST="
&gt;&gt;&gt; I am not talking about DOCTYPE, I am talking about Content-type in
&gt;&gt;&gt; server response header. It must be text/html and nothing else - again
&gt;&gt;&gt; unless you want to prohibit IE6/IE7 users from viewing your site.
&gt;&gt;&gt; DOCTYPE is irrelevant to the document treatment (HTML vs. XHTML), only
&gt;&gt;&gt; Content-type is regarded by browsers.
&gt;&gt; That is not true with regards to Safari on Windows.

&gt; It is not? Cool and very helpful for a wide run :-)
">

&lt;URL:
http://groups.google.com/group/comp.lang.javascript/browse_thread/thr... &gt;

Try testing it. It goes by the file extension.

Never tested the above from a server, it may not behave the same way
when served with a Header. I think, personally, that it was a failed
attempt to deal with the XHTML vs. HTML issue on the web.

--
Randy
Chance Favors The Prepared Mind
comp.lang.javascript FAQ - http://jibbering.com/faq/index.html
Javascript Best Practices - http://www.JavascriptToolbox.com/bestpractices/
</POST>
<POST>
<POSTER> David Mark &lt;dmark.cins...@gmail.com&gt; </POSTER>
<POSTDATE> 2008-01-12T20:25:00 </POSTDATE>
On Jan 12, 6:18 pm, Randy Webb &lt;HikksNotAtH ... @aol.com&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; VK said the following on 1/12/2008 3:14 PM:

&gt; &gt;&gt;&gt; I am not talking about DOCTYPE, I am talking about Content-type in
&gt; &gt;&gt;&gt; server response header. It must be text/html and nothing else - again
&gt; &gt;&gt;&gt; unless you want to prohibit IE6/IE7 users from viewing your site.
&gt; &gt;&gt;&gt; DOCTYPE is irrelevant to the document treatment (HTML vs. XHTML), only
&gt; &gt;&gt;&gt; Content-type is regarded by browsers.
&gt; &gt;&gt; That is not true with regards to Safari on Windows.

&gt; &gt; It is not? Cool and very helpful for a wide run :-)

&gt; &lt;URL: http://groups.google.com/group/comp.lang.javascript/browse_thread/thr ...&gt;

&gt; Try testing it. It goes by the file extension.
">

All of them do that locally.

<QUOTE PREVIOUSPOST="
&gt; Never tested the above from a server, it may not behave the same way
&gt; when served with a Header. I think, personally, that it was a failed
">

It doesn't.

<QUOTE PREVIOUSPOST="
&gt; attempt to deal with the XHTML vs. HTML issue on the web.
">

It is just the typical desktop application behavior.  In this case,
the XHTML extension is mapped to a MIME type in the registry (as well
as a default application.)
</POST>
</TEXT>
</BODY>
</DOC>
