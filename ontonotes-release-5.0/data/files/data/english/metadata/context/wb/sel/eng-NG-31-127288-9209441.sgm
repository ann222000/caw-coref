<DOC>
<DOCID> eng-NG-31-127288-9209441 </DOCID>
<DOCTYPE SOURCE="usenet"> USENET TEXT </DOCTYPE>
<DATETIME> 2007-11-21T18:46:00 </DATETIME>
<BODY>
<HEADLINE>
SAGE-2.8.13 released!
</HEADLINE>
<TEXT>
<POST>
<POSTER> &quot;William Stein&quot; &lt;wst...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-11-21T18:46:00 </POSTDATE>
Hello folks,

Sage 2.8.13 has been released. Sources are and binaries should soon be
available at

http://sagemath.org/download.html

This is the first release after the excellent Sage Days 6 in Bristol.
We are a couple days late, mostly due to a rocky initial alpha0 that
took some time to sort out and also the new policy that all patches
have to be reviewed before they can get merged.

The usual suspects contributed major pieces to this release:

- Bill Hart
- John Cremona
- Josh Kantor
- Martin Albrecht
- Michael Abshoff
- Mike Hansen
- Ondrej Certik
- Ralf-Philip Weinmann
- Robert Bradshaw
- William Stein
- Willem Jan Palenstijn

Sorry if I forgot anybody, it has been quite a turbulent release
cycle. Thanks to all the reviewers, all the testers, especially
Jaap Spies, and please send me patches for the doctest failures.

Cheers,

Michael Abshoff (release chair), William Stein

* Major Features, New Spkgs and Bugfixes

Major new features are John Cremona's g0n, updates to flint, scipy &amp;
numpy, cvxopt and sympy as well as major bug fixes to libfplll and
memory leak fixes in linbox. This is also the first release that
compiles on OSX 10.5 &quot;out of the box&quot;, i.e. without the need to have
gfortran installed.

Updates spkgs in detail:

#563: linbox-20070915.p2.spkg (Michael Abshoff)
#1029: flint-0.9-r1072.spkg (Robert Bradshaw, Michael Abshoff)
#1188: libfplll-2.1.3-20071117.spkg (Martin Albrecht, Michael Abshoff,
Willem Jan Palenstijn, also #1126)
#1177: mpfr-2.3.0.p0.spkg (Michael Abshoff)
#1189: sympy-0.5.7.spkg (Ondrej Certik)
#1197: cremona-20071116.p0.spkg (John Cremona, William Stein,
Ralf-Philip Weinmann)
#1198: scipy-20071020-0.6.spkg (Josh Kantor)
#1198: numpy-20071020-1.0.3.1.spkg (Josh Kantor)
#1199: cvxopt-0.9.p1.spkg (Josh Kantor, Michael Abshoff, also #1121, #1161)

We closed a total of 49 tickets, see

http://www.sagetrac.org/sage_trac/query?status=closed&amp;milestone;=sage-...

for details.

* Known Issues with 2.8.13

- cvxopt fails to import on OSX PPC (ticket #1222)
- g0n, i.e. cremona.spkg fails to compile on Linux/Itanium with
older gcc and also Solaris.

* Upcoming Releases

2.8.14 is planned for next week, depending on how close the release
will be to Sage Bug Day 6 on November 2nd, 2007 we might do another
2.8.15 release the day before. Major spkg candidates for 2.8.14 are

- Singular 3-0-4
- PolyBoRi
- ATLAS BLAS/Lapack

It looks unlikely that we will achieve the major goals for 2.9, namely
Solaris 32 bit support and OSX 10.5 64 bit support, in the next two
weeks, so we might do a couple more 2.8.x releases.

* Coverage

2.8.13:

Overall weighted coverage score:  34.4%
Total number of functions:  17472

Compared to 2.8.12:

Overall weighted coverage score:  34.3%
Total number of functions:  17418

* About Sage ( http://www.sagemath.org )

Sage is developed by volunteers and combines 71 open source packages.
It is available for free download from sagemath.org and its mirrors in
source or binary form. If you have any questions and/or problems
please report them to the google groups sage-devel, sage-support, sage-
forum or sage-newbie. You can also drop by in #sage-devel in freenode.

--
William Stein
Associate Professor of Mathematics
University of Washington
http://wstein.org
</POST>
<POST>
<POSTER> mabshoff &lt;Michael.Absh...@fsmath.mathematik.uni-dortmund.de&gt; </POSTER>
<POSTDATE> 2007-11-22T01:26:00 </POSTDATE>
On Nov 22, 12:46 am, &quot;William Stein&quot; &lt;wst ... @gmail.com&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; Hello folks,

&gt; Sage 2.8.13 has been released. Sources are and binaries should soon be
&gt; available at

&gt; http://sagemath.org/download.html

&gt; This is the first release after the excellent Sage Days 6 in Bristol.
&gt; We are a couple days late, mostly due to a rocky initial alpha0 that
&gt; took some time to sort out and also the new policy that all patches
&gt; have to be reviewed before they can get merged.

&gt; The usual suspects contributed major pieces to this release:

&gt;  - Bill Hart
&gt;  - John Cremona
&gt;  - Josh Kantor
&gt;  - Martin Albrecht
&gt;  - Michael Abshoff
&gt;  - Mike Hansen
&gt;  - Ondrej Certik
&gt;  - Ralf-Philip Weinmann
&gt;  - Robert Bradshaw
&gt;  - William Stein
&gt;  - Willem Jan Palenstijn

&gt; Sorry if I forgot anybody, it has been quite a turbulent release
&gt; cycle. Thanks to all the reviewers, all the testers, especially
&gt; Jaap Spies, and please send me patches for the doctest failures.

&gt; Cheers,

&gt; Michael Abshoff (release chair), William Stein

&gt; * Major Features, New Spkgs and Bugfixes

&gt; Major new features are John Cremona's g0n, updates to flint, scipy &amp;
&gt; numpy, cvxopt and sympy as well as major bug fixes to libfplll and
&gt; memory leak fixes in linbox. This is also the first release that
&gt; compiles on OSX 10.5 &quot;out of the box&quot;, i.e. without the need to have
&gt; gfortran installed.

&gt; Updates spkgs in detail:

&gt; #563: linbox-20070915.p2.spkg (Michael Abshoff)
&gt; #1029: flint-0.9-r1072.spkg (Robert Bradshaw, Michael Abshoff)
&gt; #1188: libfplll-2.1.3-20071117.spkg (Martin Albrecht, Michael Abshoff,
&gt;       Willem Jan Palenstijn, also #1126)
&gt; #1177: mpfr-2.3.0.p0.spkg (Michael Abshoff)
&gt; #1189: sympy-0.5.7.spkg (Ondrej Certik)
&gt; #1197: cremona-20071116.p0.spkg (John Cremona, William Stein,
&gt;       Ralf-Philip Weinmann)
&gt; #1198: scipy-20071020-0.6.spkg (Josh Kantor)
&gt; #1198: numpy-20071020-1.0.3.1.spkg (Josh Kantor)
&gt; #1199: cvxopt-0.9.p1.spkg (Josh Kantor, Michael Abshoff, also #1121, #1161)

&gt; We closed a total of 49 tickets, see

&gt; http://www.sagetrac.org/sage_trac/query?status=closed&amp;milestone;=sage- ...

&gt; for details.

&gt; * Known Issues with 2.8.13

&gt;  - cvxopt fails to import on OSX PPC (ticket #1222)
&gt;  - g0n, i.e. cremona.spkg fails to compile on Linux/Itanium with
&gt;   older gcc and also Solaris.

&gt; * Upcoming Releases

&gt; 2.8.14 is planned for next week, depending on how close the release
&gt; will be to Sage Bug Day 6 on November 2nd, 2007 we might do another
&gt; 2.8.15 release the day before. Major spkg candidates for 2.8.14 are

&gt;  - Singular 3-0-4
&gt;  - PolyBoRi
&gt;  - ATLAS BLAS/Lapack

&gt; It looks unlikely that we will achieve the major goals for 2.9, namely
&gt; Solaris 32 bit support and OSX 10.5 64 bit support, in the next two
&gt; weeks, so we might do a couple more 2.8.x releases.

&gt; * Coverage

&gt; 2.8.13:

&gt;  Overall weighted coverage score:  34.4%
&gt;  Total number of functions:  17472

&gt; Compared to 2.8.12:

&gt;  Overall weighted coverage score:  34.3%
&gt;  Total number of functions:  17418

&gt; * About Sage ( http://www.sagemath.org )

&gt; Sage is developed by volunteers and combines 71 open source packages.
&gt; It is available for free download from sagemath.org and its mirrors in
&gt; source or binary form. If you have any questions and/or problems
&gt; please report them to the google groups sage-devel, sage-support, sage-
&gt; forum or sage-newbie. You can also drop by in #sage-devel in freenode.

&gt; --
&gt; William Stein
&gt; Associate Professor of Mathematics
&gt; University of Washington http://wstein.org
">

Hello,

It looks like you haven't push the repos out yet. As far as I can tell
all of them are still at 2.8.12.

Cheers,

Michael
</POST>
<POST>
<POSTER> &quot;Justin C. Walker&quot; &lt;jus...@mac.com&gt; </POSTER>
<POSTDATE> 2007-11-23T18:58:00 </POSTDATE>
On Nov 21, 2007, at 15:46 , William Stein wrote:

<QUOTE PREVIOUSPOST="
&gt; Hello folks,

&gt; Sage 2.8.13 has been released. Sources are and binaries should soon be
&gt; available at

&gt; http://sagemath.org/download.html
">

I did a full build of 2.8.13 on two systems:

Mac OS X/10.4.11: Dual Quad-Core Xeon
Mac OS X/10.5.1:  Core Duo

Problems on both:
10.5.1: blow-up in Flint
ld: duplicate symbol ___gmpz_abs in test-support.o and fmpz_poly-
test.o

10.4.11: blow-up in cddlib (&quot;/usr/local&quot; contamination)
/usr/libexec/gcc/i686-apple-darwin8/4.0.1/ld: Undefined symbols:
___gmpq_init
...

FWIW, I used &quot;-j6&quot; on the 10.4 system and &quot;-j2&quot; on the 10.5 system.
Rerunning the builds without the &quot;j factor&quot; gave me the (more or
less) the same result on 10.4 and 10.5.

The full logs (of the &quot;-j&quot; builds) are in ~justin/logs on
sage.math.washington.edu (tagged with 10.x).

Justin

--
Justin C. Walker, Curmudgeon at Large
Institute for the Absorption of Federal Funds
-----------
If it weren't for carbon-14, I wouldn't date at all.
-----------
</POST>
<POST>
<POSTER> mabshoff &lt;Michael.Absh...@fsmath.mathematik.uni-dortmund.de&gt; </POSTER>
<POSTDATE> 2007-11-23T19:09:00 </POSTDATE>
On Nov 24, 12:58 am, &quot;Justin C. Walker&quot; &lt;jus ... @mac.com&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; On Nov 21, 2007, at 15:46 , William Stein wrote:

&gt; &gt; Hello folks,
">

Hello Justin,

<QUOTE PREVIOUSPOST="
&gt; &gt; Sage 2.8.13 has been released. Sources are and binaries should soon be
&gt; &gt; available at

&gt; &gt; http://sagemath.org/download.html

&gt; I did a full build of 2.8.13 on two systems:

&gt; Mac OS X/10.4.11: Dual Quad-Core Xeon
&gt; Mac OS X/10.5.1:  Core Duo

&gt; Problems on both:
&gt; 10.5.1: blow-up in Flint
&gt;    ld: duplicate symbol ___gmpz_abs in test-support.o and fmpz_poly-
&gt; test.o

&gt; 10.4.11: blow-up in cddlib (&quot;/usr/local&quot; contamination)
&gt;    /usr/libexec/gcc/i686-apple-darwin8/4.0.1/ld: Undefined symbols:
&gt;    ___gmpq_init
&gt;    ...

&gt; FWIW, I used &quot;-j6&quot; on the 10.4 system and &quot;-j2&quot; on the 10.5 system.
&gt; Rerunning the builds without the &quot;j factor&quot; gave me the (more or
&gt; less) the same result on 10.4 and 10.5.

&gt; The full logs (of the &quot;-j&quot; builds) are in ~justin/logs on
&gt; sage.math.washington.edu (tagged with 10.x).
">

There was somebody on gmp-bugs who reported the same or very similar
problem with 10.4.11 today. Apple might have updated the linker to
something closer to the 10.5 one and that one has broken &quot;external
inline&quot; support. A quick look at gmp.h on sage.math points to this as
a potential problem, so we might have to extend the workaround from
10.5 to 10.4 also. flint did build for me without problems on 10.4.10,
but since I have also updated to 10.4.11 I might get hit by it.

We are contemplating doing a 2.8.14 release to fix some issues that
snuck into 2.8.13 - hopefully we will track down and fix your issue,
too. I will open a ticket for this in the next couple minutes.

<QUOTE PREVIOUSPOST="
&gt; Justin
">

Cheers,

Michael

<QUOTE PREVIOUSPOST="
- Hide quoted text - - Show quoted text -
">

<QUOTE PREVIOUSPOST="
&gt; --
&gt; Justin C. Walker, Curmudgeon at Large
&gt; Institute for the Absorption of Federal Funds
&gt; -----------
&gt; If it weren't for carbon-14, I wouldn't date at all.
&gt; -----------
">
</POST>
<POST>
<POSTER> mabshoff &lt;Michael.Absh...@fsmath.mathematik.uni-dortmund.de&gt; </POSTER>
<POSTDATE> 2007-11-23T19:24:00 </POSTDATE>
On Nov 24, 1:09 am, mabshoff &lt;Michael.Absh ... @fsmath.mathematik.uni-

<QUOTE PREVIOUSPOST="
dortmund.de&gt; wrote:
&gt; On Nov 24, 12:58 am, &quot;Justin C. Walker&quot; &lt;jus ... @mac.com&gt; wrote:

&gt; &gt; On Nov 21, 2007, at 15:46 , William Stein wrote:

&gt; &gt; &gt; Hello folks,

&gt; Hello Justin,

&gt; &gt; &gt; Sage 2.8.13 has been released. Sources are and binaries should soon be
&gt; &gt; &gt; available at

&gt; &gt; &gt; http://sagemath.org/download.html

&gt; &gt; I did a full build of 2.8.13 on two systems:

&gt; &gt; Mac OS X/10.4.11: Dual Quad-Core Xeon
&gt; &gt; Mac OS X/10.5.1:  Core Duo
">

#1252 it is. I also just realized that it is also a problem on 10.5.1,
which I didn't know was out because non of the local macs run 10.5
yet. So the problem is more than just an &quot;external inline&quot; issue.

Cheers,

Michael

<QUOTE PREVIOUSPOST="
- Hide quoted text - - Show quoted text -
">

<QUOTE PREVIOUSPOST="
&gt; &gt; Problems on both:
&gt; &gt; 10.5.1: blow-up in Flint
&gt; &gt;    ld: duplicate symbol ___gmpz_abs in test-support.o and fmpz_poly-
&gt; &gt; test.o

&gt; &gt; 10.4.11: blow-up in cddlib (&quot;/usr/local&quot; contamination)
&gt; &gt;    /usr/libexec/gcc/i686-apple-darwin8/4.0.1/ld: Undefined symbols:
&gt; &gt;    ___gmpq_init
&gt; &gt;    ...

&gt; &gt; FWIW, I used &quot;-j6&quot; on the 10.4 system and &quot;-j2&quot; on the 10.5 system.
&gt; &gt; Rerunning the builds without the &quot;j factor&quot; gave me the (more or
&gt; &gt; less) the same result on 10.4 and 10.5.

&gt; &gt; The full logs (of the &quot;-j&quot; builds) are in ~justin/logs on
&gt; &gt; sage.math.washington.edu (tagged with 10.x).

&gt; There was somebody on gmp-bugs who reported the same or very similar
&gt; problem with 10.4.11 today. Apple might have updated the linker to
&gt; something closer to the 10.5 one and that one has broken &quot;external
&gt; inline&quot; support. A quick look at gmp.h on sage.math points to this as
&gt; a potential problem, so we might have to extend the workaround from
&gt; 10.5 to 10.4 also. flint did build for me without problems on 10.4.10,
&gt; but since I have also updated to 10.4.11 I might get hit by it.

&gt; We are contemplating doing a 2.8.14 release to fix some issues that
&gt; snuck into 2.8.13 - hopefully we will track down and fix your issue,
&gt; too. I will open a ticket for this in the next couple minutes.

&gt; &gt; Justin

&gt; Cheers,

&gt; Michael

&gt; &gt; --
&gt; &gt; Justin C. Walker, Curmudgeon at Large
&gt; &gt; Institute for the Absorption of Federal Funds
&gt; &gt; -----------
&gt; &gt; If it weren't for carbon-14, I wouldn't date at all.
&gt; &gt; -----------
">
</POST>
<POST>
<POSTER> mabshoff &lt;Michael.Absh...@fsmath.mathematik.uni-dortmund.de&gt; </POSTER>
<POSTDATE> 2007-11-23T20:54:00 </POSTDATE>
Justin,

could you please test

http://sage.math.washington.edu/home/mabshoff/cddlib-094b.p0.spkg

for the issue with the gmp in /usr/local on OSX 10.4.11. It builds for
me on sage.math and if it builds for you I will drop this into
2.8.14.rc0 :)

Cheers,

Michael
</POST>
<POST>
<POSTER> &quot;William Stein&quot; &lt;wst...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-11-23T21:04:00 </POSTDATE>
On Nov 23, 2007 3:58 PM, Justin C. Walker &lt;jus ... @mac.com&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; &gt; Hello folks,

&gt; &gt; Sage 2.8.13 has been released. Sources are and binaries should soon be
&gt; &gt; available at

&gt; &gt; http://sagemath.org/download.html

&gt; I did a full build of 2.8.13 on two systems:

&gt; Mac OS X/10.4.11: Dual Quad-Core Xeon
&gt; Mac OS X/10.5.1:  Core Duo

&gt; Problems on both:
&gt; 10.5.1: blow-up in Flint
&gt;    ld: duplicate symbol ___gmpz_abs in test-support.o and fmpz_poly-
&gt; test.o

&gt; 10.4.11: blow-up in cddlib (&quot;/usr/local&quot; contamination)
&gt;    /usr/libexec/gcc/i686-apple-darwin8/4.0.1/ld: Undefined symbols:
&gt;    ___gmpq_init
&gt;    ...
">

This is all really weird since I fully tested building Sage-2.8.13 on
OSX 10.4 intel and OSX 10.5 intel (both core duo and Xeon),
and didn't have any problems at all.   So the problem could
be with
(1) 10.5.1 versus 10.5 -- unlikely, since this wouldn't
even touch the compilers (but I'll try upgrading right now and
see if I can replicate the problem there),
(2) Us having different versions of Xcode: I'm using
gcc version 4.0.1 (Apple Inc. build 5465)
on my machines, or
(3) you having something funny in your /usr/local/.

Please report your &quot;gcc -v&quot; version.

Also maybe you have all kinds
of stuff in /usr/local?  Could you try temporarily renaming it,
redoing the build, just to see if that's the problem?
Something I've wondered about for a while -- is there a bulletproof
way to ignore /usr/local/ during build of Sage?

William
</POST>
<POST>
<POSTER> &quot;Justin C. Walker&quot; &lt;jus...@mac.com&gt; </POSTER>
<POSTDATE> 2007-11-23T23:18:00 </POSTDATE>
On Nov 23, 2007, at 18:04 , William Stein wrote:

<QUOTE PREVIOUSPOST="
&gt; On Nov 23, 2007 3:58 PM, Justin C. Walker &lt;jus ... @mac.com&gt; wrote:
&gt;&gt;&gt; Hello folks,

&gt;&gt;&gt; Sage 2.8.13 has been released. Sources are and binaries should
&gt;&gt;&gt; soon be
&gt;&gt;&gt; available at

&gt;&gt;&gt; http://sagemath.org/download.html

&gt;&gt; I did a full build of 2.8.13 on two systems:

&gt;&gt; Mac OS X/10.4.11: Dual Quad-Core Xeon
&gt;&gt; Mac OS X/10.5.1:  Core Duo

&gt;&gt; Problems on both:
&gt;&gt; 10.5.1: blow-up in Flint
&gt;&gt;    ld: duplicate symbol ___gmpz_abs in test-support.o and fmpz_poly-
&gt;&gt; test.o

&gt;&gt; 10.4.11: blow-up in cddlib (&quot;/usr/local&quot; contamination)
&gt;&gt;    /usr/libexec/gcc/i686-apple-darwin8/4.0.1/ld: Undefined symbols:
&gt;&gt;    ___gmpq_init
&gt;&gt;    ...

&gt; This is all really weird since I fully tested building Sage-2.8.13 on
&gt; OSX 10.4 intel and OSX 10.5 intel (both core duo and Xeon),
&gt; and didn't have any problems at all.   So the problem could
&gt; be with
&gt;   (1) 10.5.1 versus 10.5 -- unlikely, since this wouldn't
&gt; even touch the compilers (but I'll try upgrading right now and
&gt; see if I can replicate the problem there),
&gt;  (2) Us having different versions of Xcode: I'm using
&gt;    gcc version 4.0.1 (Apple Inc. build 5465)
&gt; on my machines, or
">

Same Xcode/gcc versions.  I don't think it's 10.5.1 vs. 10.5; more
than likely something in the way I have my system set up (or perhaps
in your setup :-}).  My 10.5 install is pretty much plain vanilla.  I
have Xcode 2.5 and 3.0 installed, but my gcc version matches yours.

<QUOTE PREVIOUSPOST="
&gt;  (3) you having something funny in your /usr/local/.
&gt; Also maybe you have all kinds
&gt; of stuff in /usr/local?  Could you try temporarily renaming it,
&gt; redoing the build, just to see if that's the problem?
">

I reported this during one of the &quot;alpha/rc&quot; cycles (2.8.10.alpha?, I
think), and tried the &quot;move /usr/local out of the way&quot; trick.  That
let the build complete, and 'sage' seemed to work (modulo some &quot;make
test&quot; glitches I may be forgetting).

<QUOTE PREVIOUSPOST="
&gt; Something I've wondered about for a while -- is there a bulletproof
&gt; way to ignore /usr/local/ during build of Sage?
">

I think 'gcc' has flags that let you force the lookup paths for
&quot;system-supplied&quot; includes and libs.  I'll see if I can track that down.

Justin

--
Justin C. Walker, Curmudgeon-at-Large
() The ASCII Ribbon Campaign
/\ Help Cure HTML Email
</POST>
<POST>
<POSTER> &quot;Justin C. Walker&quot; &lt;jus...@mac.com&gt; </POSTER>
<POSTDATE> 2007-11-23T23:19:00 </POSTDATE>
Aye, matey,

On Nov 23, 2007, at 17:54 , mabshoff wrote:

<QUOTE PREVIOUSPOST="
&gt; could you please test

&gt; http://sage.math.washington.edu/home/mabshoff/cddlib-094b.p0.spkg

&gt; for the issue with the gmp in /usr/local on OSX 10.4.11. It builds for
&gt; me on sage.math and if it builds for you I will drop this into
&gt; 2.8.14.rc0 :)
">

I will try it out.  I will rebuild and run &quot;make test&quot;, and report back.

Justin

--
Justin C. Walker, Curmudgeon at Large
Institute for the Absorption of Federal Funds
-----------
My wife 'n kids 'n dogs are gone,
I can't get Jesus on the phone,
But Ol' Milwaukee's Best is my best friend.
-----------
</POST>
<POST>
<POSTER> &quot;Justin C. Walker&quot; &lt;jus...@mac.com&gt; </POSTER>
<POSTDATE> 2007-11-23T23:55:00 </POSTDATE>
On Nov 23, 2007, at 17:54 , mabshoff wrote:

<QUOTE PREVIOUSPOST="
&gt; Justin,

&gt; could you please test

&gt; http://sage.math.washington.edu/home/mabshoff/cddlib-094b.p0.spkg

&gt; for the issue with the gmp in /usr/local on OSX 10.4.11. It builds for
&gt; me on sage.math and if it builds for you I will drop this into
&gt; 2.8.14.rc0 :)
">

OK: the build completed (I just replaced the old cddlib spkg with the
new and restarted where it left off).  As for 'make test':

All tests passed!
Total time for all tests: 2268.7 seconds

This is on the Dual Quad Xeon Mac with 10.4.11.

Justin

--
Justin C. Walker, Curmudgeon-at-Large
() The ASCII Ribbon Campaign
/\ Help Cure HTML Email
</POST>
<POST>
<POSTER> &quot;William Stein&quot; &lt;wst...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-11-24T00:11:00 </POSTDATE>
On Nov 23, 2007 8:18 PM, Justin C. Walker &lt;jus ... @mac.com&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; &gt; This is all really weird since I fully tested building Sage-2.8.13 on
&gt; &gt; OSX 10.4 intel and OSX 10.5 intel (both core duo and Xeon),
&gt; &gt; and didn't have any problems at all.   So the problem could
&gt; &gt; be with...
...
&gt; I reported this during one of the &quot;alpha/rc&quot; cycles (2.8.10.alpha?, I
&gt; think), and tried the &quot;move /usr/local out of the way&quot; trick.  That
">

I see!   The problem was definitely in 2.8.13.rc0 I think, because I found
it then, and then somebody subsequently fixed it as a result, i.e., the
problem is fixed in 2.8.13 (but not before).

<QUOTE PREVIOUSPOST="
&gt; &gt; Something I've wondered about for a while -- is there a bulletproof
&gt; &gt; way to ignore /usr/local/ during build of Sage?

&gt; I think 'gcc' has flags that let you force the lookup paths for
&gt; &quot;system-supplied&quot; includes and libs.  I'll see if I can track that down.
">

That would be very very interesting indeed.

-- William
</POST>
<POST>
<POSTER> &quot;Justin C. Walker&quot; &lt;jus...@mac.com&gt; </POSTER>
<POSTDATE> 2007-11-24T00:27:00 </POSTDATE>
On Nov 23, 2007, at 21:11 , William Stein wrote:

<QUOTE PREVIOUSPOST="
&gt; On Nov 23, 2007 8:18 PM, Justin C. Walker &lt;jus ... @mac.com&gt; wrote:
&gt;&gt;&gt; This is all really weird since I fully tested building
&gt;&gt;&gt; Sage-2.8.13 on
&gt;&gt;&gt; OSX 10.4 intel and OSX 10.5 intel (both core duo and Xeon),
&gt;&gt;&gt; and didn't have any problems at all.   So the problem could
&gt;&gt;&gt; be with...
&gt; ...
&gt;&gt; I reported this during one of the &quot;alpha/rc&quot; cycles (2.8.10.alpha?, I
&gt;&gt; think), and tried the &quot;move /usr/local out of the way&quot; trick.  That

&gt; I see!   The problem was definitely in 2.8.13.rc0 I think, because
&gt; I found
&gt; it then, and then somebody subsequently fixed it as a result, i.e.,
&gt; the
&gt; problem is fixed in 2.8.13 (but not before).
">

Do you mean 2.18.14?  This showed up for me in the released 2.8.13.

<QUOTE PREVIOUSPOST="
&gt;&gt;&gt; Something I've wondered about for a while -- is there a bulletproof
&gt;&gt;&gt; way to ignore /usr/local/ during build of Sage?

&gt;&gt; I think 'gcc' has flags that let you force the lookup paths for
&gt;&gt; &quot;system-supplied&quot; includes and libs.  I'll see if I can track that
&gt;&gt; down.

&gt; That would be very very interesting indeed.
">

This will take a bit of time to run to ground...there are a handful
of flags, and they have overlapping functionality.  I'll send a
synopsis when I've digested what Xcode has to say.

Justin

--
Justin C. Walker, Curmudgeon-At-Large
Institute for the Absorption of Federal Funds
--------
If you're not confused,
You're not paying attention
--------
</POST>
<POST>
<POSTER> mabshoff &lt;Michael.Absh...@fsmath.mathematik.uni-dortmund.de&gt; </POSTER>
<POSTDATE> 2007-11-24T04:43:00 </POSTDATE>
On Nov 24, 6:27 am, &quot;Justin C. Walker&quot; &lt;jus ... @mac.com&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; On Nov 23, 2007, at 21:11 , William Stein wrote:

&gt; &gt; On Nov 23, 2007 8:18 PM, Justin C. Walker &lt;jus ... @mac.com&gt; wrote:
&gt; &gt;&gt;&gt; This is all really weird since I fully tested building
&gt; &gt;&gt;&gt; Sage-2.8.13 on
&gt; &gt;&gt;&gt; OSX 10.4 intel and OSX 10.5 intel (both core duo and Xeon),
&gt; &gt;&gt;&gt; and didn't have any problems at all.   So the problem could
&gt; &gt;&gt;&gt; be with...
&gt; &gt; ...
&gt; &gt;&gt; I reported this during one of the &quot;alpha/rc&quot; cycles (2.8.10.alpha?, I
&gt; &gt;&gt; think), and tried the &quot;move /usr/local out of the way&quot; trick.  That

&gt; &gt; I see!   The problem was definitely in 2.8.13.rc0 I think, because
&gt; &gt; I found
&gt; &gt; it then, and then somebody subsequently fixed it as a result, i.e.,
&gt; &gt; the
&gt; &gt; problem is fixed in 2.8.13 (but not before).
">

Hello Justin,

I remember that you reported the problem on 10.4 with your gmp in /usr/
local, but we never opened a ticket for it. The cddlib.spkg I posted
above fixes the issues (at least it ought to), so please try that one
out and report back.

In that contect:
* Axiom 1: Untested code is broken.
* Axiom 2: Reported bugs not entered into trac will get lost.

<QUOTE PREVIOUSPOST="
- Hide quoted text - - Show quoted text -
">

<QUOTE PREVIOUSPOST="
&gt; Do you mean 2.18.14?  This showed up for me in the released 2.8.13.

&gt; &gt;&gt;&gt; Something I've wondered about for a while -- is there a bulletproof
&gt; &gt;&gt;&gt; way to ignore /usr/local/ during build of Sage?

&gt; &gt;&gt; I think 'gcc' has flags that let you force the lookup paths for
&gt; &gt;&gt; &quot;system-supplied&quot; includes and libs.  I'll see if I can track that
&gt; &gt;&gt; down.

&gt; &gt; That would be very very interesting indeed.

&gt; This will take a bit of time to run to ground...there are a handful
&gt; of flags, and they have overlapping functionality.  I'll send a
&gt; synopsis when I've digested what Xcode has to say.
">

That might be an interesting approach, but I consider issues like the
one you see on 10.4 build system bugs. If we could change the search
path default for the linker on the fly we should do it, but changing
it globally would probably break loads of other software.

<QUOTE PREVIOUSPOST="
&gt; Justin
">

Cheers,

Michael

<QUOTE PREVIOUSPOST="
- Hide quoted text - - Show quoted text -
">

<QUOTE PREVIOUSPOST="
&gt; --
&gt; Justin C. Walker, Curmudgeon-At-Large
&gt; Institute for the Absorption of Federal Funds
&gt; --------
&gt; If you're not confused,
&gt; You're not paying attention
&gt; --------
">
</POST>
<POST>
<POSTER> mabshoff &lt;Michael.Absh...@fsmath.mathematik.uni-dortmund.de&gt; </POSTER>
<POSTDATE> 2007-11-24T08:19:00 </POSTDATE>
On Nov 24, 10:43 am, mabshoff &lt;Michael.Absh ... @fsmath.mathematik.uni-

<QUOTE PREVIOUSPOST="
dortmund.de&gt; wrote:
&gt; On Nov 24, 6:27 am, &quot;Justin C. Walker&quot; &lt;jus ... @mac.com&gt; wrote:
">

Hello Justin,

<QUOTE PREVIOUSPOST="
&gt; &gt; On Nov 23, 2007, at 21:11 , William Stein wrote:

&gt; &gt; &gt; On Nov 23, 2007 8:18 PM, Justin C. Walker &lt;jus ... @mac.com&gt; wrote:
&gt; &gt; &gt;&gt;&gt; This is all really weird since I fully tested building
&gt; &gt; &gt;&gt;&gt; Sage-2.8.13 on
&gt; &gt; &gt;&gt;&gt; OSX 10.4 intel and OSX 10.5 intel (both core duo and Xeon),
&gt; &gt; &gt;&gt;&gt; and didn't have any problems at all.   So the problem could
&gt; &gt; &gt;&gt;&gt; be with...
&gt; &gt; &gt; ...
&gt; &gt; &gt;&gt; I reported this during one of the &quot;alpha/rc&quot; cycles (2.8.10.alpha?, I
&gt; &gt; &gt;&gt; think), and tried the &quot;move /usr/local out of the way&quot; trick.  That

&gt; &gt; &gt; I see!   The problem was definitely in 2.8.13.rc0 I think, because
&gt; &gt; &gt; I found
&gt; &gt; &gt; it then, and then somebody subsequently fixed it as a result, i.e.,
&gt; &gt; &gt; the
&gt; &gt; &gt; problem is fixed in 2.8.13 (but not before).

&gt; Hello Justin,

&gt; I remember that you reported the problem on 10.4 with your gmp in /usr/
&gt; local, but we never opened a ticket for it. The cddlib.spkg I posted
&gt; above fixes the issues (at least it ought to), so please try that one
&gt; out and report back.

&gt; In that contect:
&gt;  * Axiom 1: Untested code is broken.
&gt;  * Axiom 2: Reported bugs not entered into trac will get lost.
">

The problems you have with 10.4.11 and 10.5.1 are unrelated.

#1252 is the gmp in /usr/local issue which should be fixed.
#1253 is the 10.5.1 build failure. The problem is that gmp contains a
workaround for 10.5 that didn't get applied on 10.5.1 because the
check is for Darwin-9.0.0 while OSX 10.5.1 is Darwin-9.1.0. The same
happens with python and maybe more spkgs. My build on 10.5.1 hasn't
finished yet. The issue is trivial to fix and 2.8.14.rc1 should have
all the fixes. By the time you people on the west coast wake up rc1
should be ready for download - and it is Thanksgiving weekend, so so
far it felt like the states have dropped off the face of the earth for
the last couple days ;)

I made #1253 a blocker for 2.8.14.

Cheers,

Michael

<QUOTE PREVIOUSPOST="
- Hide quoted text - - Show quoted text -
">

<QUOTE PREVIOUSPOST="
&gt; &gt; Do you mean 2.18.14?  This showed up for me in the released 2.8.13.

&gt; &gt; &gt;&gt;&gt; Something I've wondered about for a while -- is there a bulletproof
&gt; &gt; &gt;&gt;&gt; way to ignore /usr/local/ during build of Sage?

&gt; &gt; &gt;&gt; I think 'gcc' has flags that let you force the lookup paths for
&gt; &gt; &gt;&gt; &quot;system-supplied&quot; includes and libs.  I'll see if I can track that
&gt; &gt; &gt;&gt; down.

&gt; &gt; &gt; That would be very very interesting indeed.

&gt; &gt; This will take a bit of time to run to ground...there are a handful
&gt; &gt; of flags, and they have overlapping functionality.  I'll send a
&gt; &gt; synopsis when I've digested what Xcode has to say.

&gt; That might be an interesting approach, but I consider issues like the
&gt; one you see on 10.4 build system bugs. If we could change the search
&gt; path default for the linker on the fly we should do it, but changing
&gt; it globally would probably break loads of other software.

&gt; &gt; Justin

&gt; Cheers,

&gt; Michael

&gt; &gt; --
&gt; &gt; Justin C. Walker, Curmudgeon-At-Large
&gt; &gt; Institute for the Absorption of Federal Funds
&gt; &gt; --------
&gt; &gt; If you're not confused,
&gt; &gt; You're not paying attention
&gt; &gt; --------
">
</POST>
<POST>
<POSTER> &quot;Justin C. Walker&quot; &lt;jus...@mac.com&gt; </POSTER>
<POSTDATE> 2007-11-24T15:46:00 </POSTDATE>
Hi, Michael,

On Nov 24, 2007, at 05:19 , mabshoff wrote:

<QUOTE PREVIOUSPOST="
&gt; On Nov 24, 10:43 am, mabshoff &lt;Michael.Absh ... @fsmath.mathematik.uni-
&gt; dortmund.de&gt; wrote:
&gt;&gt; On Nov 24, 6:27 am, &quot;Justin C. Walker&quot; &lt;jus ... @mac.com&gt; wrote:
[snip]
&gt;&gt; I remember that you reported the problem on 10.4 with your gmp in /
&gt;&gt; usr/
&gt;&gt; local, but we never opened a ticket for it. The cddlib.spkg I posted
&gt;&gt; above fixes the issues (at least it ought to), so please try that one
&gt;&gt; out and report back.

&gt;&gt; In that contect:
&gt;&gt;  * Axiom 1: Untested code is broken.
&gt;&gt;  * Axiom 2: Reported bugs not entered into trac will get lost.
&gt; The problems you have with 10.4.11 and 10.5.1 are unrelated.
">

Yup.

<QUOTE PREVIOUSPOST="
&gt; #1252 is the gmp in /usr/local issue which should be fixed.
">

I reran a full build of 2.8.13, on 10.4.11, with the new cddlib and
cremona spkg's.  All worked and the doctests all passed.

<QUOTE PREVIOUSPOST="
&gt; #1253 is the 10.5.1 build failure. The problem is that gmp contains a
&gt; workaround for 10.5 that didn't get applied on 10.5.1 because the
&gt; check is for Darwin-9.0.0 while OSX 10.5.1 is Darwin-9.1.0. The same
&gt; happens with python and maybe more spkgs. My build on 10.5.1 hasn't
&gt; finished yet. The issue is trivial to fix and 2.8.14.rc1 should have
&gt; all the fixes. By the time you people on the west coast wake up rc1
&gt; should be ready for download - and it is Thanksgiving weekend, so so
&gt; far it felt like the states have dropped off the face of the earth for
&gt; the last couple days ;)
">

I'm climbing back up to the surface of the earth now...it ain't easy,
though.

I will run a new build on 10.5.1 now, with the above spkgs along with
those in #1253, just for grins.  More to come.

Justin

--
Justin C. Walker, Curmudgeon at Large
Institute for the Absorption of Federal Funds
-----------
My wife 'n kids 'n dogs are gone,
I can't get Jesus on the phone,
But Ol' Milwaukee's Best is my best friend.
-----------
</POST>
<POST>
<POSTER> &quot;Justin C. Walker&quot; &lt;jus...@mac.com&gt; </POSTER>
<POSTDATE> 2007-11-24T19:02:00 </POSTDATE>
On Nov 24, 2007, at 12:46 , Justin C. Walker wrote:

<QUOTE PREVIOUSPOST="
&gt; On Nov 24, 2007, at 05:19 , mabshoff wrote:
[snip]
&gt;&gt; #1252 is the gmp in /usr/local issue which should be fixed.

&gt; I reran a full build of 2.8.13, on 10.4.11, with the new cddlib and
&gt; cremona spkg's.  All worked and the doctests all passed.

&gt;&gt; #1253 is the 10.5.1 build failure. The problem is that gmp contains a
&gt;&gt; workaround for 10.5 that didn't get applied on 10.5.1 because the
&gt;&gt; check is for Darwin-9.0.0 while OSX 10.5.1 is Darwin-9.1.0. The same
&gt;&gt; happens with python and maybe more spkgs. My build on 10.5.1 hasn't
&gt;&gt; finished yet. The issue is trivial to fix and 2.8.14.rc1 should have
&gt;&gt; all the fixes. By the time you people on the west coast wake up rc1
&gt;&gt; should be ready for download - and it is Thanksgiving weekend, so so
&gt;&gt; far it felt like the states have dropped off the face of the earth
&gt;&gt; for
&gt;&gt; the last couple days ;)

&gt; I'm climbing back up to the surface of the earth now...it ain't easy,
&gt; though.

&gt; I will run a new build on 10.5.1 now, with the above spkgs along with
&gt; those in #1253, just for grins.  More to come.
">

Closing the books on 2.8.13 :-}

Finished the build on 10.5.1 (core duo): with the new spkgs (cddlib,
clisp, cremona, gmp, python).  The build completed more or less
successfully.  'make test' completed:

All tests passed!
Total time for all tests: 2487.9 seconds

The only problem with the build is this, with readline:

Configured with: /var/tmp/gcc/gcc-5465~16/src/configure --disable-
checking -enable-werror --prefix=/usr --mandir=/share/man --enable-
languages=c,objc,c++,obj-c++ --program-transform-name=/^[cg][^.-]*$/s/
$/-4.0/ --with-gxx-include-dir=/include/c++/4.0.0 --with-slibdir=/usr/
lib --build=i686-apple-darwin9 --with-arch=apple --with-tune=generic
--host=i686-apple-darwin9 --target=i686-apple-darwin9
Thread model: posix
gcc version 4.0.1 (Apple Inc. build 5465)
i686-apple-darwin9-gcc-4.0.1: -compatibility_version only allowed
with -dynamiclib
i686-apple-darwin9-gcc-4.0.1: -compatibility_version only allowed
with -dynamiclib
make[3]: *** [libreadline.5.2.dylib] Error 1
make[3]: *** Waiting for unfinished jobs....
make[3]: *** [libhistory.5.2.dylib] Error 1
make[2]: [install-shared] Error 2 (ignored)

FWIW, this same error crops up in a standalone build of readline, but
it kills the build.  Sage seems to be unconcerned.

On to 2.8.14!

Justin

--
Justin C. Walker, Curmudgeon at Large
Institute for the Absorption of Federal Funds
-----------
If it weren't for carbon-14, I wouldn't date at all.
-----------
</POST>
<POST>
<POSTER> mabshoff &lt;Michael.Absh...@fsmath.mathematik.uni-dortmund.de&gt; </POSTER>
<POSTDATE> 2007-11-24T23:35:00 </POSTDATE>
On Nov 25, 1:02 am, &quot;Justin C. Walker&quot; &lt;jus ... @mac.com&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; On Nov 24, 2007, at 12:46 , Justin C. Walker wrote:

&gt; &gt; On Nov 24, 2007, at 05:19 , mabshoff wrote:
&gt; [snip]
&gt; &gt;&gt; #1252 is the gmp in /usr/local issue which should be fixed.

&gt; &gt; I reran a full build of 2.8.13, on 10.4.11, with the new cddlib and
&gt; &gt; cremona spkg's.  All worked and the doctests all passed.

&gt; &gt;&gt; #1253 is the 10.5.1 build failure. The problem is that gmp contains a
&gt; &gt;&gt; workaround for 10.5 that didn't get applied on 10.5.1 because the
&gt; &gt;&gt; check is for Darwin-9.0.0 while OSX 10.5.1 is Darwin-9.1.0. The same
&gt; &gt;&gt; happens with python and maybe more spkgs. My build on 10.5.1 hasn't
&gt; &gt;&gt; finished yet. The issue is trivial to fix and 2.8.14.rc1 should have
&gt; &gt;&gt; all the fixes. By the time you people on the west coast wake up rc1
&gt; &gt;&gt; should be ready for download - and it is Thanksgiving weekend, so so
&gt; &gt;&gt; far it felt like the states have dropped off the face of the earth
&gt; &gt;&gt; for
&gt; &gt;&gt; the last couple days ;)

&gt; &gt; I'm climbing back up to the surface of the earth now...it ain't easy,
&gt; &gt; though.

&gt; &gt; I will run a new build on 10.5.1 now, with the above spkgs along with
&gt; &gt; those in #1253, just for grins.  More to come.

&gt; Closing the books on 2.8.13 :-}

&gt; Finished the build on 10.5.1 (core duo): with the new spkgs (cddlib,
&gt; clisp, cremona, gmp, python).  The build completed more or less
&gt; successfully.  'make test' completed:

&gt; All tests passed!
&gt; Total time for all tests: 2487.9 seconds

&gt; The only problem with the build is this, with readline:

&gt; Configured with: /var/tmp/gcc/gcc-5465~16/src/configure --disable-
&gt; checking -enable-werror --prefix=/usr --mandir=/share/man --enable-
&gt; languages=c,objc,c++,obj-c++ --program-transform-name=/^[cg][^.-]*$/s/
&gt; $/-4.0/ --with-gxx-include-dir=/include/c++/4.0.0 --with-slibdir=/usr/
&gt; lib --build=i686-apple-darwin9 --with-arch=apple --with-tune=generic
&gt; --host=i686-apple-darwin9 --target=i686-apple-darwin9
&gt; Thread model: posix
&gt; gcc version 4.0.1 (Apple Inc. build 5465)
&gt; i686-apple-darwin9-gcc-4.0.1: -compatibility_version only allowed
&gt; with -dynamiclib
&gt; i686-apple-darwin9-gcc-4.0.1: -compatibility_version only allowed
&gt; with -dynamiclib
&gt; make[3]: *** [libreadline.5.2.dylib] Error 1
&gt; make[3]: *** Waiting for unfinished jobs....
&gt; make[3]: *** [libhistory.5.2.dylib] Error 1
&gt; make[2]: [install-shared] Error 2 (ignored)
">

Hello Justin,

<QUOTE PREVIOUSPOST="
&gt; FWIW, this same error crops up in a standalone build of readline, but
&gt; it kills the build.  Sage seems to be unconcerned.
">

this is now #1259, so we don't forget about it :)

<QUOTE PREVIOUSPOST="
&gt; On to 2.8.14!

&gt; Justin
">

Cheers,

Michael

<QUOTE PREVIOUSPOST="
- Hide quoted text - - Show quoted text -
">

<QUOTE PREVIOUSPOST="
&gt; --
&gt; Justin C. Walker, Curmudgeon at Large
&gt; Institute for the Absorption of Federal Funds
&gt; -----------
&gt; If it weren't for carbon-14, I wouldn't date at all.
&gt; -----------
">
</POST>
</TEXT>
</BODY>
</DOC>
