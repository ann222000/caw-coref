<DOC>
<DOCID> eng-NG-31-135590-9751157 </DOCID>
<DOCTYPE SOURCE="usenet"> USENET TEXT </DOCTYPE>
<DATETIME> 2007-10-26T11:36:00 </DATETIME>
<BODY>
<HEADLINE>
InnerHTML does not return Onmouseover
</HEADLINE>
<TEXT>
<POST>
<POSTER> sco...@gmail.com </POSTER>
<POSTDATE> 2007-10-26T11:36:00 </POSTDATE>
I am dynamically updating the contents of cells to achieve a scrolling
effect, like this:

&lt;html&gt;
&lt;body&gt;
&lt;script lang=javascript&gt;
function scroll(){
var firstrowcell1 = document.getElementById('1-1').innerHTML;
var firstrowcell2 = document.getElementById('1-2').innerHTML;
for (var x = 1; x &lt; 3; x ++)
{
document.getElementById(x+'-1').innerHTML = document.getElementById((x
+1)+'-1').innerHTML;
document.getElementById(x+'-2').innerHTML = document.getElementById((x
+1)+'-2').innerHTML;
}
document.getElementById(x+'-1').innerHTML = firstrowcell1;
document.getElementById(x+'-2').innerHTML = firstrowcell2;

<QUOTE PREVIOUSPOST="
}
">

function scrollcont(){
setInterval('scroll()',1000);

<QUOTE PREVIOUSPOST="
}
">

function showinnerhtml(){
alert(document.getElementById(&quot;1-2&quot;).innerHTML);

<QUOTE PREVIOUSPOST="
}
">

&lt;/script&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td id='1-1'&gt;Line 1&lt;/td&gt;
&lt;td id='1-2'&gt;&lt;img src='numbers/1.gif' onmouseover=&quot;return escape('This
is line 1')&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td id='2-1'&gt;Line 2&lt;/td&gt;
&lt;td id='2-2'&gt;&lt;img src='numbers/2.gif' onmouseover=&quot;return escape('This
is line 2')&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td id='3-1'&gt;Line 3&lt;/td&gt;
&lt;td id='3-2'&gt;&lt;img src='numbers/3.gif' onmouseover=&quot;return escape('This
is line 3')&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;button onclick=scroll()&gt;Scroll 1 line&lt;/button&gt;&lt;br&gt;
&lt;button onclick=scrollcont()&gt;Scroll continuously&lt;/button&gt;&lt;br&gt;
&lt;button onclick=showinnerhtml()&gt;Show innerHTML&lt;/button&gt;
&lt;script language=&quot;JavaScript&quot; type=&quot;text/javascript&quot; src=&quot;scripts/
wz_tooltip.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;

I am also using Walter Zorn's tooltip script. When I first load the
page, the tooltips on the images work fine when onmouseover fires.
However, after a single scroll, tooltips fail to appear. I have
discovered that this is because the innerHTML that is being copied
from one cell to the the other doesn't contain onmouseover
information.

By clicking on the button marked 'Show innerHTML' I can see that the
innerHTML attribute doesn't return the onmouseover information
contained in the tag.

Can anyone shed some light on this? Any replies would be greatly
appreciated - thanks!
</POST>
<POST>
<POSTER> David Mark &lt;dmark.cins...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-10-26T12:07:00 </POSTDATE>
On Oct 26, 11:36 am, sco ... @gmail.com wrote:

<QUOTE PREVIOUSPOST="
&gt; I am dynamically updating the contents of cells to achieve a scrolling
&gt; effect, like this:
">

Why not just make the table body scroll?

<QUOTE PREVIOUSPOST="
&gt; &lt;html&gt;
&gt; &lt;body&gt;
&gt; &lt;script lang=javascript&gt;
">

Use type=&quot;text/javascript&quot;, not a made-up attribute.

<QUOTE PREVIOUSPOST="
&gt; function scroll(){
&gt;         var firstrowcell1 = document.getElementById('1-1').innerHTML;
&gt;         var firstrowcell2 = document.getElementById('1-2').innerHTML;
&gt;         for (var x = 1; x &lt; 3; x ++)
&gt;         {
&gt;         document.getElementById(x+'-1').innerHTML = document.getElementById((x
&gt; +1)+'-1').innerHTML;
&gt;         document.getElementById(x+'-2').innerHTML = document.getElementById((x
&gt; +1)+'-2').innerHTML;
&gt;         }
&gt;         document.getElementById(x+'-1').innerHTML = firstrowcell1;
&gt;         document.getElementById(x+'-2').innerHTML = firstrowcell2;}

&gt; function scrollcont(){
&gt;         setInterval('scroll()',1000);}

&gt; function showinnerhtml(){
&gt;         alert(document.getElementById(&quot;1-2&quot;).innerHTML);}

&gt; &lt;/script&gt;
&gt; &lt;table&gt;
&gt; &lt;tr&gt;
&gt; &lt;td id='1-1'&gt;Line 1&lt;/td&gt;
&gt; &lt;td id='1-2'&gt;&lt;img src='numbers/1.gif' onmouseover=&quot;return escape('This
&gt; is line 1')&quot;&gt;&lt;/td&gt;
">

What is that onmouseover handler supposed to be doing?

<QUOTE PREVIOUSPOST="
- Hide quoted text - - Show quoted text -
">

<QUOTE PREVIOUSPOST="
&gt; &lt;/tr&gt;
&gt; &lt;tr&gt;
&gt; &lt;td id='2-1'&gt;Line 2&lt;/td&gt;
&gt; &lt;td id='2-2'&gt;&lt;img src='numbers/2.gif' onmouseover=&quot;return escape('This
&gt; is line 2')&quot;&gt;&lt;/td&gt;
&gt; &lt;/tr&gt;
&gt; &lt;tr&gt;
&gt; &lt;td id='3-1'&gt;Line 3&lt;/td&gt;
&gt; &lt;td id='3-2'&gt;&lt;img src='numbers/3.gif' onmouseover=&quot;return escape('This
&gt; is line 3')&quot;&gt;&lt;/td&gt;
&gt; &lt;/tr&gt;
&gt; &lt;/table&gt;
&gt; &lt;button onclick=scroll()&gt;Scroll 1 line&lt;/button&gt;&lt;br&gt;
&gt; &lt;button onclick=scrollcont()&gt;Scroll continuously&lt;/button&gt;&lt;br&gt;
&gt; &lt;button onclick=showinnerhtml()&gt;Show innerHTML&lt;/button&gt;
&gt; &lt;script language=&quot;JavaScript&quot; type=&quot;text/javascript&quot; src=&quot;scripts/
&gt; wz_tooltip.js&quot;&gt;&lt;/script&gt;
">

Lose the language attribute.  It isn't needed.

<QUOTE PREVIOUSPOST="
&gt; &lt;/body&gt;
&gt; &lt;/html&gt;

&gt; I am also using Walter Zorn's tooltip script. When I first load the
">

That would explain the wacky onmouseover handlers (sort of.)  The
question I have to ask is why the script doesn't look at the title
attribute?  That is where extra information about the link is supposed
to go.  Embedding it in a mouseover event handler renders it invisible
to search engines, screen readers, etc.  If that is a requirement of
the script, then you should stop using it.

<QUOTE PREVIOUSPOST="
&gt; page, the tooltips on the images work fine when onmouseover fires.
&gt; However, after a single scroll, tooltips fail to appear. I have
&gt; discovered that this is because the innerHTML that is being copied
&gt; from one cell to the the other doesn't contain onmouseover
&gt; information.

&gt; By clicking on the button marked 'Show innerHTML' I can see that the
&gt; innerHTML attribute doesn't return the onmouseover information
&gt; contained in the tag.

&gt; Can anyone shed some light on this? Any replies would be greatly
&gt; appreciated - thanks!
">

I see no reason why the onmouseover attribute wouldn't appear.
</POST>
<POST>
<POSTER> &quot;Scott Watkins&quot; &lt;sco...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-10-26T14:37:00 </POSTDATE>
Hello, and thanks for your replies. I apprecate the tips that you provided
but am still left wondering what's going on.

I am not sure what you mean by making the table body scroll. One of the
requirements of my project was to hide the scroll bar (overflow: hidden) so
the user actually has no way of scrolling the table. They wanted it to
scroll automatically, and this is the best I could come up with. Any
alternative ideas are welcome.

The onmouseover is designed to display a tooltip. But the problem really
lies with the way that document.GetElementById('1-2').innerHTML reports the
img tag - the onmouseover code is stripped out.

I have further narrowed it down to the Walter Zorn script. I have two files:
http://www.scottwatkins.com/scott/test1.htm - No Walter Zorn script,
correctly reports innerHTML with onmouseover attribute
http://www.scottwatkins.com/scott/test2.htm - Walter Zorn script added, does
not correctly report innerHTML

But for the life of me, I can't figure out why a script would do this, can
you? Anyone?

Thanks again,
---Scott

<QUOTE PREVIOUSPOST="
&quot;David Mark&quot; &lt;dmark.cins ... @gmail.com&gt; wrote in message
">

news:1193414873.344617.120250@k79g2000hse.googlegroups.com ...

<QUOTE PREVIOUSPOST="
&gt; On Oct 26, 11:36 am, sco ... @gmail.com wrote:
&gt;&gt; I am dynamically updating the contents of cells to achieve a scrolling
&gt;&gt; effect, like this:

&gt; Why not just make the table body scroll?

&gt;&gt; &lt;html&gt;
&gt;&gt; &lt;body&gt;
&gt;&gt; &lt;script lang=javascript&gt;

&gt; Use type=&quot;text/javascript&quot;, not a made-up attribute.

&gt;&gt; function scroll(){
&gt;&gt;         var firstrowcell1 = document.getElementById('1-1').innerHTML;
&gt;&gt;         var firstrowcell2 = document.getElementById('1-2').innerHTML;
&gt;&gt;         for (var x = 1; x &lt; 3; x ++)
&gt;&gt;         {
&gt;&gt;         document.getElementById(x+'-1').innerHTML =
&gt;&gt; document.getElementById((x
&gt;&gt; +1)+'-1').innerHTML;
&gt;&gt;         document.getElementById(x+'-2').innerHTML =
&gt;&gt; document.getElementById((x
&gt;&gt; +1)+'-2').innerHTML;
&gt;&gt;         }
&gt;&gt;         document.getElementById(x+'-1').innerHTML = firstrowcell1;
&gt;&gt;         document.getElementById(x+'-2').innerHTML = firstrowcell2;}

&gt;&gt; function scrollcont(){
&gt;&gt;         setInterval('scroll()',1000);}

&gt;&gt; function showinnerhtml(){
&gt;&gt;         alert(document.getElementById(&quot;1-2&quot;).innerHTML);}

&gt;&gt; &lt;/script&gt;
&gt;&gt; &lt;table&gt;
&gt;&gt; &lt;tr&gt;
&gt;&gt; &lt;td id='1-1'&gt;Line 1&lt;/td&gt;
&gt;&gt; &lt;td id='1-2'&gt;&lt;img src='numbers/1.gif' onmouseover=&quot;return escape('This
&gt;&gt; is line 1')&quot;&gt;&lt;/td&gt;

&gt; What is that onmouseover handler supposed to be doing?

&gt;&gt; &lt;/tr&gt;
&gt;&gt; &lt;tr&gt;
&gt;&gt; &lt;td id='2-1'&gt;Line 2&lt;/td&gt;
&gt;&gt; &lt;td id='2-2'&gt;&lt;img src='numbers/2.gif' onmouseover=&quot;return escape('This
&gt;&gt; is line 2')&quot;&gt;&lt;/td&gt;
&gt;&gt; &lt;/tr&gt;
&gt;&gt; &lt;tr&gt;
&gt;&gt; &lt;td id='3-1'&gt;Line 3&lt;/td&gt;
&gt;&gt; &lt;td id='3-2'&gt;&lt;img src='numbers/3.gif' onmouseover=&quot;return escape('This
&gt;&gt; is line 3')&quot;&gt;&lt;/td&gt;
&gt;&gt; &lt;/tr&gt;
&gt;&gt; &lt;/table&gt;
&gt;&gt; &lt;button onclick=scroll()&gt;Scroll 1 line&lt;/button&gt;&lt;br&gt;
&gt;&gt; &lt;button onclick=scrollcont()&gt;Scroll continuously&lt;/button&gt;&lt;br&gt;
&gt;&gt; &lt;button onclick=showinnerhtml()&gt;Show innerHTML&lt;/button&gt;
&gt;&gt; &lt;script language=&quot;JavaScript&quot; type=&quot;text/javascript&quot; src=&quot;scripts/
&gt;&gt; wz_tooltip.js&quot;&gt;&lt;/script&gt;

&gt; Lose the language attribute.  It isn't needed.

&gt;&gt; &lt;/body&gt;
&gt;&gt; &lt;/html&gt;

&gt;&gt; I am also using Walter Zorn's tooltip script. When I first load the

&gt; That would explain the wacky onmouseover handlers (sort of.)  The
&gt; question I have to ask is why the script doesn't look at the title
&gt; attribute?  That is where extra information about the link is supposed
&gt; to go.  Embedding it in a mouseover event handler renders it invisible
&gt; to search engines, screen readers, etc.  If that is a requirement of
&gt; the script, then you should stop using it.

&gt;&gt; page, the tooltips on the images work fine when onmouseover fires.
&gt;&gt; However, after a single scroll, tooltips fail to appear. I have
&gt;&gt; discovered that this is because the innerHTML that is being copied
&gt;&gt; from one cell to the the other doesn't contain onmouseover
&gt;&gt; information.

&gt;&gt; By clicking on the button marked 'Show innerHTML' I can see that the
&gt;&gt; innerHTML attribute doesn't return the onmouseover information
&gt;&gt; contained in the tag.

&gt;&gt; Can anyone shed some light on this? Any replies would be greatly
&gt;&gt; appreciated - thanks!

&gt; I see no reason why the onmouseover attribute wouldn't appear.
">
</POST>
<POST>
<POSTER> &quot;Scott Watkins&quot; &lt;sco...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-10-26T14:56:00 </POSTDATE>
Follow-up: Walter Zorn has an updated version of his tooltip script that
works correctly. Still a puzzler why it did this, but updating to the new
script and modifying my syntax for the tooltip fixed this problem.

Thanks again,
---Scott

<QUOTE PREVIOUSPOST="
&quot;Scott Watkins&quot; &lt;sco ... @gmail.com&gt; wrote in message
">

news:13i4cvl3m7n03b0@news.supernews.com ...

<QUOTE PREVIOUSPOST="
&gt; Hello, and thanks for your replies. I apprecate the tips that you provided
&gt; but am still left wondering what's going on.

&gt; I am not sure what you mean by making the table body scroll. One of the
&gt; requirements of my project was to hide the scroll bar (overflow: hidden)
&gt; so the user actually has no way of scrolling the table. They wanted it to
&gt; scroll automatically, and this is the best I could come up with. Any
&gt; alternative ideas are welcome.

&gt; The onmouseover is designed to display a tooltip. But the problem really
&gt; lies with the way that document.GetElementById('1-2').innerHTML reports
&gt; the img tag - the onmouseover code is stripped out.

&gt; I have further narrowed it down to the Walter Zorn script. I have two
&gt; files:
&gt; http://www.scottwatkins.com/scott/test1.htm - No Walter Zorn script,
&gt; correctly reports innerHTML with onmouseover attribute
&gt; http://www.scottwatkins.com/scott/test2.htm - Walter Zorn script added,
&gt; does not correctly report innerHTML

&gt; But for the life of me, I can't figure out why a script would do this, can
&gt; you? Anyone?

&gt; Thanks again,
&gt; ---Scott

&gt; &quot;David Mark&quot; &lt;dmark.cins ... @gmail.com&gt; wrote in message
&gt; news:1193414873.344617.120250@k79g2000hse.googlegroups.com ...
&gt;&gt; On Oct 26, 11:36 am, sco ... @gmail.com wrote:
&gt;&gt;&gt; I am dynamically updating the contents of cells to achieve a scrolling
&gt;&gt;&gt; effect, like this:

&gt;&gt; Why not just make the table body scroll?

&gt;&gt;&gt; &lt;html&gt;
&gt;&gt;&gt; &lt;body&gt;
&gt;&gt;&gt; &lt;script lang=javascript&gt;

&gt;&gt; Use type=&quot;text/javascript&quot;, not a made-up attribute.

&gt;&gt;&gt; function scroll(){
&gt;&gt;&gt;         var firstrowcell1 = document.getElementById('1-1').innerHTML;
&gt;&gt;&gt;         var firstrowcell2 = document.getElementById('1-2').innerHTML;
&gt;&gt;&gt;         for (var x = 1; x &lt; 3; x ++)
&gt;&gt;&gt;         {
&gt;&gt;&gt;         document.getElementById(x+'-1').innerHTML =
&gt;&gt;&gt; document.getElementById((x
&gt;&gt;&gt; +1)+'-1').innerHTML;
&gt;&gt;&gt;         document.getElementById(x+'-2').innerHTML =
&gt;&gt;&gt; document.getElementById((x
&gt;&gt;&gt; +1)+'-2').innerHTML;
&gt;&gt;&gt;         }
&gt;&gt;&gt;         document.getElementById(x+'-1').innerHTML = firstrowcell1;
&gt;&gt;&gt;         document.getElementById(x+'-2').innerHTML = firstrowcell2;}

&gt;&gt;&gt; function scrollcont(){
&gt;&gt;&gt;         setInterval('scroll()',1000);}

&gt;&gt;&gt; function showinnerhtml(){
&gt;&gt;&gt;         alert(document.getElementById(&quot;1-2&quot;).innerHTML);}

&gt;&gt;&gt; &lt;/script&gt;
&gt;&gt;&gt; &lt;table&gt;
&gt;&gt;&gt; &lt;tr&gt;
&gt;&gt;&gt; &lt;td id='1-1'&gt;Line 1&lt;/td&gt;
&gt;&gt;&gt; &lt;td id='1-2'&gt;&lt;img src='numbers/1.gif' onmouseover=&quot;return escape('This
&gt;&gt;&gt; is line 1')&quot;&gt;&lt;/td&gt;

&gt;&gt; What is that onmouseover handler supposed to be doing?

&gt;&gt;&gt; &lt;/tr&gt;
&gt;&gt;&gt; &lt;tr&gt;
&gt;&gt;&gt; &lt;td id='2-1'&gt;Line 2&lt;/td&gt;
&gt;&gt;&gt; &lt;td id='2-2'&gt;&lt;img src='numbers/2.gif' onmouseover=&quot;return escape('This
&gt;&gt;&gt; is line 2')&quot;&gt;&lt;/td&gt;
&gt;&gt;&gt; &lt;/tr&gt;
&gt;&gt;&gt; &lt;tr&gt;
&gt;&gt;&gt; &lt;td id='3-1'&gt;Line 3&lt;/td&gt;
&gt;&gt;&gt; &lt;td id='3-2'&gt;&lt;img src='numbers/3.gif' onmouseover=&quot;return escape('This
&gt;&gt;&gt; is line 3')&quot;&gt;&lt;/td&gt;
&gt;&gt;&gt; &lt;/tr&gt;
&gt;&gt;&gt; &lt;/table&gt;
&gt;&gt;&gt; &lt;button onclick=scroll()&gt;Scroll 1 line&lt;/button&gt;&lt;br&gt;
&gt;&gt;&gt; &lt;button onclick=scrollcont()&gt;Scroll continuously&lt;/button&gt;&lt;br&gt;
&gt;&gt;&gt; &lt;button onclick=showinnerhtml()&gt;Show innerHTML&lt;/button&gt;
&gt;&gt;&gt; &lt;script language=&quot;JavaScript&quot; type=&quot;text/javascript&quot; src=&quot;scripts/
&gt;&gt;&gt; wz_tooltip.js&quot;&gt;&lt;/script&gt;

&gt;&gt; Lose the language attribute.  It isn't needed.

&gt;&gt;&gt; &lt;/body&gt;
&gt;&gt;&gt; &lt;/html&gt;

&gt;&gt;&gt; I am also using Walter Zorn's tooltip script. When I first load the

&gt;&gt; That would explain the wacky onmouseover handlers (sort of.)  The
&gt;&gt; question I have to ask is why the script doesn't look at the title
&gt;&gt; attribute?  That is where extra information about the link is supposed
&gt;&gt; to go.  Embedding it in a mouseover event handler renders it invisible
&gt;&gt; to search engines, screen readers, etc.  If that is a requirement of
&gt;&gt; the script, then you should stop using it.

&gt;&gt;&gt; page, the tooltips on the images work fine when onmouseover fires.
&gt;&gt;&gt; However, after a single scroll, tooltips fail to appear. I have
&gt;&gt;&gt; discovered that this is because the innerHTML that is being copied
&gt;&gt;&gt; from one cell to the the other doesn't contain onmouseover
&gt;&gt;&gt; information.

&gt;&gt;&gt; By clicking on the button marked 'Show innerHTML' I can see that the
&gt;&gt;&gt; innerHTML attribute doesn't return the onmouseover information
&gt;&gt;&gt; contained in the tag.

&gt;&gt;&gt; Can anyone shed some light on this? Any replies would be greatly
&gt;&gt;&gt; appreciated - thanks!

&gt;&gt; I see no reason why the onmouseover attribute wouldn't appear.
">
</POST>
<POST>
<POSTER> David Mark &lt;dmark.cins...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-10-26T17:45:00 </POSTDATE>
On Oct 26, 2:37 pm, &quot;Scott Watkins&quot; &lt;sco ... @gmail.com&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; Hello, and thanks for your replies. I apprecate the tips that you provided
&gt; but am still left wondering what's going on.

&gt; I am not sure what you mean by making the table body scroll. One of the
&gt; requirements of my project was to hide the scroll bar (overflow: hidden) so
&gt; the user actually has no way of scrolling the table. They wanted it to
">

Just because you can't see the scrollbars doesn't mean you can't
scroll the content.  Use the scrollLeft and scrollTop properties of
the table element.

<QUOTE PREVIOUSPOST="
&gt; scroll automatically, and this is the best I could come up with. Any
&gt; alternative ideas are welcome.

&gt; The onmouseover is designed to display a tooltip. But the problem really
&gt; lies with the way that document.GetElementById('1-2').innerHTML reports the
&gt; img tag - the onmouseover code is stripped out.

&gt; I have further narrowed it down to the Walter Zorn script. I have two files: http://www.scottwatkins.com/scott/test1.htm- No Walter Zorn script,
&gt; correctly reports innerHTML with onmouseover attribute http://www.scottwatkins.com/scott/test2.htm- Walter Zorn script added, does
&gt; not correctly report innerHTML
">

Bad script.

<QUOTE PREVIOUSPOST="
&gt; But for the life of me, I can't figure out why a script would do this, can
&gt; you? Anyone?
">

I can't imagine.  You might ask Walter Zorn.
</POST>
</TEXT>
</BODY>
</DOC>
