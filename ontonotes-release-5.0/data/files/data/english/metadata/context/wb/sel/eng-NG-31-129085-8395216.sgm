<DOC>
<DOCID> eng-NG-31-129085-8395216 </DOCID>
<DOCTYPE SOURCE="usenet"> USENET TEXT </DOCTYPE>
<DATETIME> 2007-08-13T01:20:00 </DATETIME>
<BODY>
<HEADLINE>
Building a Rails shared hosting environment: What do you want from a Rails host?
</HEADLINE>
<TEXT>
<POST>
<POSTER> Luke Monahan &lt;lukemona...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-08-13T01:20:00 </POSTDATE>
Hi All,

My company (name withheld for the moment, located in Melbourne) is
dedicating a number of new servers in our existing data center to
create a Rails shared hosting setup.  Hopefully it will be ready to
roll within the next 2 - 3 months.

We are aiming at the small/medium business market, with a lower level
of service (and cost) than e.g. EngineYard, but with higher
performance than just adding a new FCGI module to an existing setup.

The servers will be a dedicated Ruby on Rails environment, separate
from all other hosting, so I have a lot of flexibility in how the
environment gets configured.  We are hoping to make this a niche
market where we can differentiate ourselves from the hordes of cheap
PHP hosting etc..

Our current test setup is running Apache2/mod_proxy/mongrel_cluster
against a MySQL 5 database.  Ruby 1.8.5 and the latest Rails release.

I would like to know from any Rails developers what they need for
shared hosting, especially what isn't available or is difficult to get
elsewhere.

A few starting points:
- What gems and system libs are essential? Is the ability to just put
your own gems in your app's lib/ enough? We  do aim to be reactive
enough to install libs and gems on demand for individual clients, but
want to get off to a good start with the most commonly used.
- We're thinking of requiring that you freeze Rails into you app's
vendor/ directory to save us the hassle of dealing with targeting
different versions and managing upgrades.  Is this a real downer for
anyone?
- Would access to memcached be useful for your apps, or is it
overkill for something of the scale that doesn't yet require dedicated
hosting?
- Is having the ability to deploy via Capistrano important?
- Would you use a virtual machine image of the environment to test
your app against?

Any input is much appreciated.

Thanks,

Luke.
</POST>
<POST>
<POSTER> Ryan Allen &lt;r...@badfont.com&gt; </POSTER>
<POSTDATE> 2007-08-13T01:38:00 </POSTDATE>
I think first point to consider is: nobody in their right mind wants
to host a Ruby on Rails application in a shared environment. Any self
respecting RoR developer these days will go VPS or Dedicated.

Ryan.

On 13/08/2007, at 3:20 PM, Luke Monahan wrote:

<QUOTE PREVIOUSPOST="
&gt; Hi All,

&gt; My company (name withheld for the moment, located in Melbourne) is
&gt; dedicating a number of new servers in our existing data center to
&gt; create a Rails shared hosting setup.  Hopefully it will be ready to
&gt; roll within the next 2 - 3 months.

&gt; We are aiming at the small/medium business market, with a lower level
&gt; of service (and cost) than e.g. EngineYard, but with higher
&gt; performance than just adding a new FCGI module to an existing setup.

&gt; The servers will be a dedicated Ruby on Rails environment, separate
&gt; from all other hosting, so I have a lot of flexibility in how the
&gt; environment gets configured.  We are hoping to make this a niche
&gt; market where we can differentiate ourselves from the hordes of cheap
&gt; PHP hosting etc..

&gt; Our current test setup is running Apache2/mod_proxy/mongrel_cluster
&gt; against a MySQL 5 database.  Ruby 1.8.5 and the latest Rails release.

&gt; I would like to know from any Rails developers what they need for
&gt; shared hosting, especially what isn't available or is difficult to get
&gt; elsewhere.

&gt; A few starting points:
&gt;  - What gems and system libs are essential? Is the ability to just put
&gt; your own gems in your app's lib/ enough? We  do aim to be reactive
&gt; enough to install libs and gems on demand for individual clients, but
&gt; want to get off to a good start with the most commonly used.
&gt;  - We're thinking of requiring that you freeze Rails into you app's
&gt; vendor/ directory to save us the hassle of dealing with targeting
&gt; different versions and managing upgrades.  Is this a real downer for
&gt; anyone?
&gt;  - Would access to memcached be useful for your apps, or is it
&gt; overkill for something of the scale that doesn't yet require dedicated
&gt; hosting?
&gt;  - Is having the ability to deploy via Capistrano important?
&gt;  - Would you use a virtual machine image of the environment to test
&gt; your app against?

&gt; Any input is much appreciated.

&gt; Thanks,

&gt; Luke.
">

Ryan Allen
http://yeahnah.org/
+61412226260
</POST>
<POST>
<POSTER> Luke Monahan &lt;lukemona...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-08-13T01:59:00 </POSTDATE>
Peoples reactions to shared rails hosting is what we want to hear
about also.

Previous discussions we have had indicate that there is a gap in the
market where those that cannot afford dedicated hosting, or afford to
configure and manage a VPS, require hosting that is still better than
the baseline that is available at the moment, especially that which is
locally hosted in AU. A shared, managed system is what we want to
offer to fill this gap.

Of course I happy to be proved wrong before our initial investment
goes further rather than after, so conflicting opinions are welcome.

L.

On Aug 13, 3:38 pm, Ryan Allen &lt;r ... @badfont.com&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; I think first point to consider is: nobody in their right mind wants
&gt; to host a Ruby on Rails application in a shared environment. Any self
&gt; respecting RoR developer these days will go VPS or Dedicated.

&gt; Ryan.

&gt; On 13/08/2007, at 3:20 PM, Luke Monahan wrote:

&gt; &gt; Hi All,

&gt; &gt; My company (name withheld for the moment, located in Melbourne) is
&gt; &gt; dedicating a number of new servers in our existing data center to
&gt; &gt; create a Rails shared hosting setup.  Hopefully it will be ready to
&gt; &gt; roll within the next 2 - 3 months.

&gt; &gt; We are aiming at the small/medium business market, with a lower level
&gt; &gt; of service (and cost) than e.g. EngineYard, but with higher
&gt; &gt; performance than just adding a new FCGI module to an existing setup.

&gt; &gt; The servers will be a dedicated Ruby on Rails environment, separate
&gt; &gt; from all other hosting, so I have a lot of flexibility in how the
&gt; &gt; environment gets configured.  We are hoping to make this a niche
&gt; &gt; market where we can differentiate ourselves from the hordes of cheap
&gt; &gt; PHP hosting etc..

&gt; &gt; Our current test setup is running Apache2/mod_proxy/mongrel_cluster
&gt; &gt; against a MySQL 5 database.  Ruby 1.8.5 and the latest Rails release.

&gt; &gt; I would like to know from any Rails developers what they need for
&gt; &gt; shared hosting, especially what isn't available or is difficult to get
&gt; &gt; elsewhere.

&gt; &gt; A few starting points:
&gt; &gt;  - What gems and system libs are essential? Is the ability to just put
&gt; &gt; your own gems in your app's lib/ enough? We  do aim to be reactive
&gt; &gt; enough to install libs and gems on demand for individual clients, but
&gt; &gt; want to get off to a good start with the most commonly used.
&gt; &gt;  - We're thinking of requiring that you freeze Rails into you app's
&gt; &gt; vendor/ directory to save us the hassle of dealing with targeting
&gt; &gt; different versions and managing upgrades.  Is this a real downer for
&gt; &gt; anyone?
&gt; &gt;  - Would access to memcached be useful for your apps, or is it
&gt; &gt; overkill for something of the scale that doesn't yet require dedicated
&gt; &gt; hosting?
&gt; &gt;  - Is having the ability to deploy via Capistrano important?
&gt; &gt;  - Would you use a virtual machine image of the environment to test
&gt; &gt; your app against?

&gt; &gt; Any input is much appreciated.

&gt; &gt; Thanks,

&gt; &gt; Luke.

&gt; Ryan Allen http://yeahnah.org/
&gt; +61412226260
">
</POST>
<POST>
<POSTER> Lachie &lt;lach...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-08-13T02:08:00 </POSTDATE>
Hi Luke,

On 8/13/07, Luke Monahan &lt;lukemona ... @gmail.com&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; Peoples reactions to shared rails hosting is what we want to hear
&gt; about also.
">

May I suggest that you cross-post your initial message to the Rails
Oceania group:
http://groups.google.com/group/rails-oceania/

There are many people from all over the region there who'd probably be
happy to give you feedback.

cheers,
Lachie
http://smartbomb.com.au
http://lachie.info/
http://www.flickr.com/photos/lachie/
</POST>
<POST>
<POSTER> Alan Harper &lt;a...@aussiegeek.net&gt; </POSTER>
<POSTDATE> 2007-08-13T02:08:00 </POSTDATE>
On 13/08/2007, at 3:59 PM, Luke Monahan wrote:

<QUOTE PREVIOUSPOST="
&gt; Peoples reactions to shared rails hosting is what we want to hear
&gt; about also.

&gt; Previous discussions we have had indicate that there is a gap in the
&gt; market where those that cannot afford dedicated hosting, or afford to
&gt; configure and manage a VPS, require hosting that is still better than
&gt; the baseline that is available at the moment, especially that which is
&gt; locally hosted in AU. A shared, managed system is what we want to
&gt; offer to fill this gap.

&gt; Of course I happy to be proved wrong before our initial investment
&gt; goes further rather than after, so conflicting opinions are welcome.

&gt; L.
">

The few aussie based hosts I've seen, their baseline 1 rails app plan
costs more than the $20USD I pay slicehost each month where I have a
very lean VPS running 3 low usage rails apps, email, mysql in 256MB
ram, and at a speed I am happy with.

Would you pricing look like it would be more than this?
</POST>
<POST>
<POSTER> Pat Allan &lt;p...@freelancing-gods.com&gt; </POSTER>
<POSTDATE> 2007-08-13T02:16:00 </POSTDATE>
Heya Luke

On 13/08/2007, at 4:08 PM, Lachie wrote:

<QUOTE PREVIOUSPOST="
&gt; May I suggest that you cross-post your initial message to the Rails
&gt; Oceania group:
&gt; http://groups.google.com/group/rails-oceania/

&gt; There are many people from all over the region there who'd probably be
&gt; happy to give you feedback.
">

In a similar vein, might be worth jumping into the #ror_au channel on
irc.freenode.net - there's been a bit of discussion in there about
this topic since your first email.

Personally I think there might be a market there - for the hobbyist
who doesn't want to deal with setting up apache/mysql/email services,
and isn't going to get more than a gig or two of traffic per month...
but even then, it's not a large market at all, considering the state
of Aus bandwidth.

--
Pat
e: p ... @freelancing-gods.com        || m: 0413 273 337
w: http://freelancing-gods.com || p: 03 9386 0928
discworld: http://www.ausdwcon.org || skype: patallan
</POST>
<POST>
<POSTER> Luke Monahan &lt;lukemona...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-08-13T02:28:00 </POSTDATE>
On Aug 13, 4:08 pm, Alan Harper &lt;a ... @aussiegeek.net&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; Would you pricing look like it would be more than this?
">

It's hard to tell right now.  Our pricing would be based on how many
apps/clients we can (on average) fit on a single machine node without
overselling.  So feedback gained here on exactly what level to target
and how much to install will be part of that decision.

Our aim is to be competitive in the small business/freelance developer
market: there's a nice corporate-y answer for you, but it's pretty
much the truth.
</POST>
<POST>
<POSTER> Nicholas Faiz &lt;nicholas.f...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-08-13T03:56:00 </POSTDATE>
Hi,

We discussed this a few weeks ago -
http://groups.google.com/group/melbourne-ruby/browse_thread/thread/32...
.

Shared hosting is pretty iffy given the availability of slicehost. I
know what I'm keeping an eye open for is a managed solution which has
a low cost of entry but can be scaled up effectively. So, I can start
a project at a lower plan, when it doesn't need many resources, and
then ask the host to scale it up (vertically or horizontally,
whatever), when the traffic hits, without paying exorbitant sums of
money.

Slicehost is really worth checking out as a model of how hosting
should work. Their form of support is terrific. I've talked with them
via basecamp and on their freenode IRC channel, and they've always
been proactive in solving problems and quick to do so.

Regards,
Nicholas

http://treefallinginthewoods.com

On 13 Aug, 16:28, Luke Monahan &lt;lukemona ... @gmail.com&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; On Aug 13, 4:08 pm, Alan Harper &lt;a ... @aussiegeek.net&gt; wrote:

&gt; &gt; Would you pricing look like it would be more than this?

&gt; It's hard to tell right now.  Our pricing would be based on how many
&gt; apps/clients we can (on average) fit on a single machine node without
&gt; overselling.  So feedback gained here on exactly what level to target
&gt; and how much to install will be part of that decision.

&gt; Our aim is to be competitive in the small business/freelance developer
&gt; market: there's a nice corporate-y answer for you, but it's pretty
&gt; much the truth.
">
</POST>
<POST>
<POSTER> tobyhede &lt;tobyh...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-08-14T08:38:00 </POSTDATE>
I am one of those crazy people with Rails in a shared environment. I
use Dreamhost for several small &quot;mostly-for-fun&quot; apps. For $10/month,
it's great.

As above, I think a big win to be had is in scaling. And having just
struggled to get Rails bedded down on a CPanel VPS - installation and
setup are also important. Dreamhost just launched a &quot;private server&quot;
service that lets you add RAM/CPU for $1 per 10mb/10mhz blocks. I
think this is a great idea - it lets you add what you need. The
slicehost and Joyent models are good too ... buy a slice, scale if you
need it.

I think the setup is a bigger issue at this level though. I am not a
sysadmin, but I do know my way around a linux box -  the Cpanel
install needed a bunch of config that was right on the edge of my
knowledge. Ideally, I would love just login to my admin panel and
&quot;deploy domain/subdomain/&quot; and click the rails option.

In answer to your questions:

- What gems and system libs are essential?
Redcoth, hpricot, rmagick ...

- Is the ability to just put your own gems in your app's lib/ enough?
Dreamhost lets you install gems per-user, which works pretty well.
As long as gems can be installed, I doubt it matters a great deal
where they live.

- We're thinking of requiring that you freeze Rails?

I don't think it's a big deal. Depends on the storage prices though :)

- Would access to memcached be useful for your apps?

Given the target I doubt it's that big a deal. If you're on a shared
host the first step is probably to upgrade the service level (most
hosts provide several) long before you worry about memcached.

- Is having the ability to deploy via Capistrano important?

Definitely

- Would you use a virtual machine image of the environment to test
your app against?

Definitely. It would save a lot of hassle in system configuration.  It
would let me stage my apps without having to get a staging
environment

On 13 Aug, 17:56, Nicholas Faiz &lt;nicholas.f ... @gmail.com&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; Hi,

&gt; We discussed this a few weeks ago - http://groups.google.com/group/melbourne-ruby/browse_thread/thread/32 ...
&gt; .

&gt; Shared hosting is pretty iffy given the availability of slicehost. I
&gt; know what I'm keeping an eye open for is a managed solution which has
&gt; a low cost of entry but can be scaled up effectively. So, I can start
&gt; a project at a lower plan, when it doesn't need many resources, and
&gt; then ask the host to scale it up (vertically or horizontally,
&gt; whatever), when the traffic hits, without paying exorbitant sums of
&gt; money.

&gt; Slicehost is really worth checking out as a model of how hosting
&gt; should work. Their form of support is terrific. I've talked with them
&gt; via basecamp and on their freenode IRC channel, and they've always
&gt; been proactive in solving problems and quick to do so.

&gt; Regards,
&gt; Nicholas

&gt; http://treefallinginthewoods.com

&gt; On 13 Aug, 16:28, Luke Monahan &lt;lukemona ... @gmail.com&gt; wrote:

&gt; &gt; On Aug 13, 4:08 pm, Alan Harper &lt;a ... @aussiegeek.net&gt; wrote:

&gt; &gt; &gt; Would you pricing look like it would be more than this?

&gt; &gt; It's hard to tell right now.  Our pricing would be based on how many
&gt; &gt; apps/clients we can (on average) fit on a single machine node without
&gt; &gt; overselling.  So feedback gained here on exactly what level to target
&gt; &gt; and how much to install will be part of that decision.

&gt; &gt; Our aim is to be competitive in the small business/freelance developer
&gt; &gt; market: there's a nice corporate-y answer for you, but it's pretty
&gt; &gt; much the truth.
">
</POST>
</TEXT>
</BODY>
</DOC>
