<DOC>
<DOCID> eng-NG-31-134970-9635206 </DOCID>
<DOCTYPE SOURCE="usenet"> USENET TEXT </DOCTYPE>
<DATETIME> 2007-11-01T20:44:00 </DATETIME>
<BODY>
<HEADLINE>
possible to use a &quot;control point template&quot;?
</HEADLINE>
<TEXT>
<POST>
<POSTER> &quot;Philipp B. Koch&quot; &lt;p...@philippkoch.com&gt; </POSTER>
<POSTDATE> 2007-11-01T20:44:00 </POSTDATE>
Hello all,

I've always wondered if it could be technically possible to use the
(well aligned) control points of one hugin project for another: Since I
always shoot my images with the same fisheye lens and a pano-adapter
(Nodal Ninja 3) with click stops every 60 degrees, the 'distance'
between two images (and thus the photographed surroundings) should be
equal for every set of panorama series? I've never really tried it out,
to be honest. Because I have a serious lack of understanding regarding
the mathematics/physics behind the whole thing -- may I dare to ask if
creating such an &quot;control points template&quot; for my personal equiment
could be possible, or is this just a dumb idea?

Regards, Philipp
</POST>
<POST>
<POSTER> Klaus &lt;k...@ph.ed.ac.uk&gt; </POSTER>
<POSTDATE> 2007-11-02T09:29:00 </POSTDATE>
Hello Philipp,

It is not the control points you are after, but the alignment
you have achieved with a particular set of control points
after having run them through the optimisation process.

It is the individual yaw, pitch, roll parameters and
overall parameters like (barrel) distortions, focal length
you want to recycle. You could even (in principle, although
in practice not the wisest thing to do) delete all control points
after having done the alignment through the optimisation step.

In an ideal world, you could just rename/substitute
the filenames before opening the .pto file with hugin.

In practice, it would work as good as your pano adapter
mechanically reproduces the relative orientations.

My gut feeling is that it should be ok to a few pixels.
Whether it is good enough for you, you tell me.
Personally, I aim at subpixel accuracy when aligning.

Cheers

Klaus
</POST>
<POST>
<POSTER> Klaus &lt;k...@ph.ed.ac.uk&gt; </POSTER>
<POSTDATE> 2007-11-02T10:22:00 </POSTDATE>
P.S. One can try to reuse control points from a previous project.
With a new image they are located at random as regards
the image parts suitability for Finetune.

If a pair of Control Points hits a good region, Finetune does work
and aligns the that spot in the two images. For a bad region,
Finetune might simply not work, or attach to different features
in the two images.

I am somewhat sceptical because on a standard project
I am not throwing darts at a board to obtain control points
but look for suitable image features.

In any case, with an inherited control point collection
and a Finetune step I think there needs to be a
subsequent filter step to prune out the chaff.

Cheers
Klaus
</POST>
<POST>
<POSTER> &quot;Philipp B. Koch&quot; &lt;p...@philippkoch.com&gt; </POSTER>
<POSTDATE> 2007-11-04T18:32:00 </POSTDATE>
Hello Klaus,

thanks for your response.

Klaus schrieb:

<QUOTE PREVIOUSPOST="
&gt; It is not the control points you are after, but the alignment
&gt; you have achieved with a particular set of control points
&gt; after having run them through the optimisation process.
">

Yes, of course you are right :-) Reusing the alignment / the relations
between the images could save the search for control point.

<QUOTE PREVIOUSPOST="
&gt; It is the individual yaw, pitch, roll parameters and
&gt; overall parameters like (barrel) distortions, focal length
&gt; you want to recycle. You could even (in principle, although
&gt; in practice not the wisest thing to do) delete all control points
&gt; after having done the alignment through the optimisation step.

&gt; In an ideal world, you could just rename/substitute
&gt; the filenames before opening the .pto file with hugin.
">

I'll have to try that as soon as I have time for it.

<QUOTE PREVIOUSPOST="
&gt; In practice, it would work as good as your pano adapter
&gt; mechanically reproduces the relative orientations.
">

Hhm, I've tried to calibrate it (find the entrance pupil) as exact as
possible, so this should be more or less OK. And since it has click
stops when being turned, the images' 'distances' between each other
should also be equal every time... Maybe it's worth a try.

<QUOTE PREVIOUSPOST="
&gt; My gut feeling is that it should be ok to a few pixels.
&gt; Whether it is good enough for you, you tell me.
&gt; Personally, I aim at subpixel accuracy when aligning.
">

Well, I agree that it is better to find individual control points for
every pano, so that there's as much accurancy as possible. So, I hope to
see MatchPoint ('Autopano Z') as soon as it's ready, since (if I'm not
wrong here) it should be able to deal with fisheye distorsions better
that Autopano SIFT... Of course, one can still set every point manually
or let Autopano SIFT gererate them and then add additional ones (that's
how I do it now). But I'd find it a huge improvement to have
Hugin/MatchPoint find suitable control points automatically.

Regards, Philipp
</POST>
<POST>
<POSTER> Bruno Postle &lt;br...@postle.net&gt; </POSTER>
<POSTDATE> 2007-11-05T12:17:00 </POSTDATE>
On Fri 02-Nov-2007 at 06:29 -0700, Klaus wrote:

<QUOTE PREVIOUSPOST="
&gt;It is the individual yaw, pitch, roll parameters and
&gt;overall parameters like (barrel) distortions, focal length
&gt;you want to recycle. You could even (in principle, although
&gt;in practice not the wisest thing to do) delete all control points
&gt;after having done the alignment through the optimisation step.

&gt;In an ideal world, you could just rename/substitute
&gt;the filenames before opening the .pto file with hugin.
">

There are a couple of ways to do this:

Copy a .pto file from a previous project to a different directory
and open it, hugin will prompt for the 'missing' images and you can
then select a different set of files - This is equivalent to editing
the .pto project and changing the filenames manually.

With recent betas you can load your images as normal, then 'Apply
template' from the 'File' menu, this will import image settings and
parameters from a previous project.

--
Bruno
</POST>
</TEXT>
</BODY>
</DOC>
