<DOC>
<DOCID> eng-NG-31-141405-8669834 </DOCID>
<DOCTYPE SOURCE="usenet"> USENET TEXT </DOCTYPE>
<DATETIME> 2007-08-15T15:38:00 </DATETIME>
<BODY>
<HEADLINE>
Fan Control
</HEADLINE>
<TEXT>
<POST>
<POSTER> &quot;Harold Hallikainen&quot; &lt;har...@hallikainen.org&gt; </POSTER>
<POSTDATE> 2007-08-15T15:38:00 </POSTDATE>
Somewhere recently I saw an ad for a fan control chip that monitored the
fan commutation spikes instead of requiring a tachometer. Of course, I now
can't find that ad. I'm interested in a single chip (ideally with fan PWM
fets on board) that monitor die temperature (external PN junction) and
adjust fan speed based on that. It seems that it could be done without a
fan speed monitor at all (just adjust pwm based on temperature error), but
we do need to know if the fan is stuck.

So, what have you used? What do you suggest?

THANKS!

Harold

--
FCC Rules Updated Daily at http://www.hallikainen.com - Advertising
opportunities available!
--
http://www.piclist.com PIC/SX FAQ &amp; list archive
View/change your membership options at
http://mailman.mit.edu/mailman/listinfo/piclist
</POST>
<POST>
<POSTER> Gerhard Fiedler &lt;li...@connectionbrazil.com&gt; </POSTER>
<POSTDATE> 2007-08-15T15:54:00 </POSTDATE>
<QUOTE PREVIOUSPOST="
Harold Hallikainen wrote:
&gt; Somewhere recently I saw an ad for a fan control chip that monitored the
&gt; fan commutation spikes instead of requiring a tachometer. Of course, I now
&gt; can't find that ad. I'm interested in a single chip (ideally with fan PWM
&gt; fets on board) that monitor die temperature (external PN junction) and
&gt; adjust fan speed based on that. It seems that it could be done without a
&gt; fan speed monitor at all (just adjust pwm based on temperature error), but
&gt; we do need to know if the fan is stuck.
">

If you only need to know whether the fan is stuck (besides the temperature
control loop), this should be visible in the current consumption, no?
Usually it goes quite high then.

Gerhard

--
http://www.piclist.com PIC/SX FAQ &amp; list archive
View/change your membership options at
http://mailman.mit.edu/mailman/listinfo/piclist
</POST>
<POST>
<POSTER> alan smith &lt;micro_e...@yahoo.com&gt; </POSTER>
<POSTDATE> 2007-08-15T16:33:00 </POSTDATE>
I'm thinking either National or ADI....they've both been in talking about fan control devices over the past couple of months.

<QUOTE PREVIOUSPOST="
Gerhard Fiedler &lt;li ... @connectionbrazil.com&gt; wrote:  Harold Hallikainen wrote:
&gt; Somewhere recently I saw an ad for a fan control chip that monitored the
&gt; fan commutation spikes instead of requiring a tachometer. Of course, I now
&gt; can't find that ad. I'm interested in a single chip (ideally with fan PWM
&gt; fets on board) that monitor die temperature (external PN junction) and
&gt; adjust fan speed based on that. It seems that it could be done without a
&gt; fan speed monitor at all (just adjust pwm based on temperature error), but
&gt; we do need to know if the fan is stuck.
">

If you only need to know whether the fan is stuck (besides the temperature
control loop), this should be visible in the current consumption, no?
Usually it goes quite high then.

Gerhard

--
http://www.piclist.com PIC/SX FAQ &amp; list archive
View/change your membership options at
http://mailman.mit.edu/mailman/listinfo/piclist

---------------------------------
Be a better Globetrotter. Get better travel answers from someone who knows.
Yahoo! Answers - Check it out.
--
http://www.piclist.com PIC/SX FAQ &amp; list archive
View/change your membership options at
http://mailman.mit.edu/mailman/listinfo/piclist
</POST>
<POST>
<POSTER> &quot;Harold Hallikainen&quot; &lt;har...@hallikainen.org&gt; </POSTER>
<POSTDATE> 2007-08-15T17:22:00 </POSTDATE>
I wish I knew last week when I saw the ad that this week I'd be asked
about fan control. I recall the ad said something about patented
technology that allows it to not use a tachometer. They are monitoring
motor commutation pulses. About 30 years ago, a friend developed a toy for
Mattel where he regulated the speed of a permanent magnet DC motor by
watching the commutation pulses. That was all done with discrete
transistors...

Harold

<QUOTE PREVIOUSPOST="
&gt; I'm thinking either National or ADI....they've both been in talking about
&gt; fan control devices over the past couple of months.

&gt; Gerhard Fiedler &lt;li ... @connectionbrazil.com&gt; wrote:  Harold Hallikainen
&gt; wrote:

&gt;&gt; Somewhere recently I saw an ad for a fan control chip that monitored the
&gt;&gt; fan commutation spikes instead of requiring a tachometer. Of course, I
&gt;&gt; now
&gt;&gt; can't find that ad. I'm interested in a single chip (ideally with fan
&gt;&gt; PWM
&gt;&gt; fets on board) that monitor die temperature (external PN junction) and
&gt;&gt; adjust fan speed based on that. It seems that it could be done without a
&gt;&gt; fan speed monitor at all (just adjust pwm based on temperature error),
&gt;&gt; but
&gt;&gt; we do need to know if the fan is stuck.

&gt; If you only need to know whether the fan is stuck (besides the temperature
&gt; control loop), this should be visible in the current consumption, no?
&gt; Usually it goes quite high then.

&gt; Gerhard

&gt; --
&gt; http://www.piclist.com PIC/SX FAQ &amp; list archive
&gt; View/change your membership options at
&gt; http://mailman.mit.edu/mailman/listinfo/piclist

&gt; ---------------------------------
&gt; Be a better Globetrotter. Get better travel answers from someone who
&gt; knows.
&gt; Yahoo! Answers - Check it out.
&gt; --
&gt; http://www.piclist.com PIC/SX FAQ &amp; list archive
&gt; View/change your membership options at
&gt; http://mailman.mit.edu/mailman/listinfo/piclist
">

--
FCC Rules Updated Daily at http://www.hallikainen.com - Advertising
opportunities available!
--
http://www.piclist.com PIC/SX FAQ &amp; list archive
View/change your membership options at
http://mailman.mit.edu/mailman/listinfo/piclist
</POST>
<POST>
<POSTER> Gerhard Fiedler &lt;li...@connectionbrazil.com&gt; </POSTER>
<POSTDATE> 2007-08-15T18:19:00 </POSTDATE>
<QUOTE PREVIOUSPOST="
Harold Hallikainen wrote:
&gt; I wish I knew last week when I saw the ad that this week I'd be asked
&gt; about fan control. I recall the ad said something about patented
&gt; technology that allows it to not use a tachometer. They are monitoring
&gt; motor commutation pulses. About 30 years ago, a friend developed a toy
&gt; for Mattel where he regulated the speed of a permanent magnet DC motor
&gt; by watching the commutation pulses. That was all done with discrete
&gt; transistors...
">

I'm not so sure speed control really buys you much if you want to control
temperature. You don't know how the speed relates to the temperature, at
least not much better than you know how the PWM that you feed the fan
relates to the temperature. You just know that if the temp is too high you
need to up the speed or the PWM -- for neither you know exactly by how
much.

Gerhard

--
http://www.piclist.com PIC/SX FAQ &amp; list archive
View/change your membership options at
http://mailman.mit.edu/mailman/listinfo/piclist
</POST>
<POST>
<POSTER> &quot;James Newtons Massmind&quot; &lt;jamesnew...@massmind.org&gt; </POSTER>
<POSTDATE> 2007-08-16T13:19:00 </POSTDATE>
<QUOTE PREVIOUSPOST="
&gt; Somewhere recently I saw an ad for a fan control chip that
&gt; monitored the fan commutation spikes instead of requiring a
&gt; tachometer.
">

http://www.piclist.com/techref/au/net/ezy/www/http/~fastvid/encoder.htm
http://www.romanblack.com/encoder.htm

<QUOTE PREVIOUSPOST="
&gt; Of course, I now can't find that ad.
">

I'd be interested to see that as well.

<QUOTE PREVIOUSPOST="
&gt; I'm
&gt; interested in a single chip (ideally with fan PWM fets on
&gt; board) that monitor die temperature (external PN junction)
&gt; and adjust fan speed based on that. It seems that it could be
&gt; done without a fan speed monitor at all (just adjust pwm
&gt; based on temperature error), but we do need to know if the
&gt; fan is stuck.

&gt; So, what have you used? What do you suggest?
">

You can also read the back emf using an analog switch:
http://www.piclist.com/techref/io/motor/regulate.htm#

---
James.

--
http://www.piclist.com PIC/SX FAQ &amp; list archive
View/change your membership options at
http://mailman.mit.edu/mailman/listinfo/piclist
</POST>
<POST>
<POSTER> &quot;Harold Hallikainen&quot; &lt;har...@hallikainen.org&gt; </POSTER>
<POSTDATE> 2007-08-16T18:03:00 </POSTDATE>
<QUOTE PREVIOUSPOST="
&gt;&gt; Somewhere recently I saw an ad for a fan control chip that
&gt;&gt; monitored the fan commutation spikes instead of requiring a
&gt;&gt; tachometer.

&gt; http://www.piclist.com/techref/au/net/ezy/www/http/~fastvid/encoder.htm
&gt; http://www.romanblack.com/encoder.htm

&gt;&gt; Of course, I now can't find that ad.

&gt; I'd be interested to see that as well.
">

The project leader on this wants to use a Cyclone FPGA for this and a
bunch of other stuff, but I'm still leaning towards a PIC (it's what I
know). My current thinking is to use an N channel FET that I PWM with the
PIC. There's a 2 ohm resistor between the source and ground. Measurements
indicate that at full speed, I get 360mv across the resistor, and it
pulses to -200mv at 440 Hz. I could run this into a comparator input on
the PIC, and time how long it is between pulses (when the PWM is on) to
determine the fan speed. Temperature sensing would be on-die diodes with a
pull-up resistor on PIC ADC inputs.

My current thinking, anyway. I can do pretty much everything in one chip.

Harold

--
FCC Rules Updated Daily at http://www.hallikainen.com - Advertising
opportunities available!
--
http://www.piclist.com PIC/SX FAQ &amp; list archive
View/change your membership options at
http://mailman.mit.edu/mailman/listinfo/piclist
</POST>
</TEXT>
</BODY>
</DOC>
