<DOC>
<DOCID> eng-NG-31-104294-6420341 </DOCID>
<DOCTYPE SOURCE="usenet"> USENET TEXT </DOCTYPE>
<DATETIME> 2007-03-28T10:31:00 </DATETIME>
<BODY>
<HEADLINE>
Managing custom zoom levels...
</HEADLINE>
<TEXT>
<POST>
<POSTER> "Toneloc" &lt;ascan...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-03-28T10:31:00 </POSTDATE>
This forum is a great resource for us newbies to learn how to use
Google Maps API. Mike, thanks for your great tutorial. It's helped me
a lot.

I'm creating a travel map of the places I've been. I am at the point
now where I'm using a drop down menu where selecting an option will
show a group of markers of my own choosing...using xml files, etc.

My question is this: if someone chooses an option in the drop down
menu, say my trip to Japan, I would theoretically like not only my
markers from where I've been in Japan to show up, but for the map to
change view to either pan of zoom to a view of just Japan.

Mike, is this what you're getting at with your part 14 of your
tutorial page? I'm trying to figure out the code and how to
incorporate it into what I have already. Any thoughts?

Thanks,

Tony
</POST>
<POST>
<POSTER> "Toneloc" &lt;ascan...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-03-28T11:45:00 </POSTDATE>
Is there any coding I can make in the xml files (I'm creating on for
each general location) to point towards a zoom on the map?

Tony

On Mar 28, 7:31 am, "Toneloc" &lt;ascan ... @gmail.com&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; This forum is a great resource for us newbies to learn how to use
&gt; Google Maps API. Mike, thanks for your great tutorial. It's helped me
&gt; a lot.

&gt; I'm creating a travel map of the places I've been. I am at the point
&gt; now where I'm using a drop down menu where selecting an option will
&gt; show a group of markers of my own choosing...using xml files, etc.

&gt; My question is this: if someone chooses an option in the drop down
&gt; menu, say my trip to Japan, I would theoretically like not only my
&gt; markers from where I've been in Japan to show up, but for the map to
&gt; change view to either pan of zoom to a view of just Japan.

&gt; Mike, is this what you're getting at with your part 14 of your
&gt; tutorial page? I'm trying to figure out the code and how to
&gt; incorporate it into what I have already. Any thoughts?

&gt; Thanks,

&gt; Tony
">
</POST>
<POST>
<POSTER> "maps.huge.info" &lt;cor...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-03-28T11:52:00 </POSTDATE>
Tony,

Look at this page: http://www.admaps.com/index.htm

I have a generic xml parser here that does incorporate zoom by the
bounding box of the coordinates. Probably close to what you're
thinking of here.

-John Coryat

http://maps.huge.info
</POST>
<POST>
<POSTER> "Toneloc" &lt;ascan...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-03-28T12:06:00 </POSTDATE>
Hi John,

Thanks for the reply. Unfortunately, the map won't load for me on the
link you provided...it says there's any error. Looking at the
documentation and the source, it doesn't look like an easy fix. :)

I'll piece through it. Any other examples that I might look at?

Sorry to be a pain!

Tony

On Mar 28, 8:52 am, "maps.huge.info" &lt;cor ... @gmail.com&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; Tony,

&gt; Look at this page: http://www.admaps.com/index.htm

&gt; I have a generic xml parser here that does incorporatezoomby the
&gt; bounding box of the coordinates. Probably close to what you're
&gt; thinking of here.

&gt; -John Coryat

&gt; http://maps.huge.info
">
</POST>
<POST>
<POSTER> "maps.huge.info" &lt;cor...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-03-28T12:24:00 </POSTDATE>
Tony,

Didn't notice that before. It works now though.

Take a look and see if it helps you...

-John Coryat

http://maps.huge.info
</POST>
<POST>
<POSTER> "Toneloc" &lt;ascan...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-03-28T12:33:00 </POSTDATE>
Hi John,

The link is working for me now. Probably some issue with my browser on
my end.

Let me provide a link and maybe that might explain what I'm trying to
do.

http://www.cannoncenter.com/gmap-xml4.html

I've shamelessly copied and then customized Mike Williams' work from
his tutorial.

So, in theory, I'll have that drop down box with a bunch of countries
I've been to...let's say. And each link in the drop down menu will
show only a certain number of markers as defined in an xml file that
it points to. I would also like to direct the map to zoom into that
particular region, say a country that I visited like Japan.

And if I choose another option in the drop down menu, say India, I
would like the India markers to show along with the map panning or
zooming over to show India...or a customized view of India of my
choosing.

I hope that better explains what I'm trying to do. Sorry if I've
caused any confusion.

Tony

On Mar 28, 9:24 am, "maps.huge.info" &lt;cor ... @gmail.com&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; Tony,

&gt; Didn't notice that before. It works now though.

&gt; Take a look and see if it helps you...

&gt; -John Coryat

&gt; http://maps.huge.info
">
</POST>
<POST>
<POSTER> "Martin" &lt;warwo...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-03-28T13:45:00 </POSTDATE>
My map at:
http://panoramacamera.no-ip.org?page=panoramas
does just that!

All my marker data is stored in a MySQL database.
One of the stored fields is called 'keywords' and contains a comma
seperated list of words related to that marker's location.

A search in the Search box on the map's menu will select any marker
who's keyword contains the search term - the map then displays all
these markers and zooms/centres on them.

Here's a few examples:
http://panoramacamera.no-ip.org?page=panoramas&amp;keyword=coast
http://panoramacamera.no-ip.org?page=panoramas&amp;keyword=lynn
http://panoramacamera.no-ip.org?page=panoramas&amp;keyword=market

To save repeatedly loading the map you could just search for 'coast',
'lynn' or 'market' using my map's Search box.

The code that zooms/centres the map on the currently displayed markers
is very much based on Mike's page at:
http://www.econym.demon.co.uk/googlemaps/basic14.htm
(The page you referred to in your first post).

Martin.
</POST>
<POST>
<POSTER> "Toneloc" &lt;ascan...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-03-28T14:31:00 </POSTDATE>
Thanks for this. I like knowing that it can be done...but where I'm
stuck is the leap from part14 in Mike's tutorial and getting it to
read different xml files. So I have an xml file for my trip to Japan
and an xml file for my trip to India, etc. How can you do what Mike's
talking about in his tutorial (part 14) and have multiple xml files?

Tony

On Mar 28, 10:45 am, "Martin" &lt;warwo ... @gmail.com&gt; wrote:

<QUOTE PREVIOUSPOST="
&gt; My map at: http://panoramacamera.no-ip.org?page=panoramas
&gt; does just that!

&gt; All my marker data is stored in a MySQL database.
&gt; One of the stored fields is called 'keywords' and contains a comma
&gt; seperated list of words related to that marker's location.

&gt; A search in the Search box on the map's menu will select any marker
&gt; who's keyword contains the search term - the map then displays all
&gt; these markers and zooms/centres on them.

&gt; Here's a few examples: http://panoramacamera.no-ip.org?page=panoramas&amp;keyword=coasthttp://pa...

&gt; To save repeatedly loading the map you could just search for 'coast',
&gt; 'lynn' or 'market' using my map's Search box.

&gt; The code that zooms/centres the map on the currently displayed markers
&gt; is very much based on Mike's page at: http://www.econym.demon.co.uk/googlemaps/basic14.htm
&gt; (The page you referred to in your first post).

&gt; Martin.
">
</POST>
<POST>
<POSTER> "Martin" &lt;warwo...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-03-28T16:19:00 </POSTDATE>
Here's what i'd suggest.

You say you have a dropdown list for a user to select a group of
markers from.
When the user makes a selection from the dropdown list, presumably you
clear the map of all markers and redraw the new requested markers...

So clear the map first, and create a new variable and declare it as
null:

var mapBounds;

Next create a new marker and add it to your map, you'll need to know
the location that this marker is added to for the next step.
Let's assume your new marker's location is stored as 'markerLocation'
- we want to use Mike's technique to extend the (as yet undefined)
bounds object to include that point.

Where my code differs from Mike's is simply i check the mapBounds
object and if it's null then i define it as a GLatLngBounds object -
it's null when extending the bounds with the location of the first
marker.
If the mapBounds object isn't null then as in Mike's code i extend it
with the location of the marker:.

if (mapBounds)
{
mapBounds.extend(markerLocation);

<QUOTE PREVIOUSPOST="
}
">

else
{
mapBounds=new GLatLngBounds(markerLocation, markerLocation);

<QUOTE PREVIOUSPOST="
}
">

I can't remember the exact logic behind using this code instead of
Mike's but seem to recall that i had problems with Mike's code in
certain circumstances and it needed a tweak!

Proceed to create each marker from the selected XML file - extending
the (now defined) mapBounds object with each marker's location.
Once you've created all markers then as in Mike's code simply:

map.setZoom(map.getBoundsZoomLevel(mapBounds));

and:

map.setCenter(mapBounds.getCenter());

Hopefully (!!) that'll work - integrate the mapBounds creation and
extending into the code that executes when a dropdown list selection
is made.
If it works on one XML file and group of markers then it'll work for
any of your XML files.
(Make sure you null the mapBounds object each time a new XML file is
selected with var mapBounds; )

Martin.
</POST>
</TEXT>
</BODY>
</DOC>
