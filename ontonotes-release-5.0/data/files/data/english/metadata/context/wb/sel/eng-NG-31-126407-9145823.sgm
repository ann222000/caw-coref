<DOC>
<DOCID> eng-NG-31-126407-9145823 </DOCID>
<DOCTYPE SOURCE="usenet"> USENET TEXT </DOCTYPE>
<DATETIME> 2007-11-06T22:02:00 </DATETIME>
<BODY>
<HEADLINE>
Router Rest Logic (rant)
</HEADLINE>
<TEXT>
<POST>
<POSTER> Jeff Liebermann &lt;je...@comix.santa-cruz.ca.us&gt; </POSTER>
<POSTDATE> 2007-11-06T22:02:00 </POSTDATE>
This is a rant.  This is only a rant.

It's another day in wireless hell.  I get a call from one of my coffee
shop wireless hot spot managers. None of the customers can see the
SSID of their wireless router.  I arrive the next morning, and sure
enough, their SSID doesn't appear.  However, there's a new
SSID = dd-wrt
which means that their router has been reset to the defaults.  Grrr...

I restore the WHR-HP-G125 settings from a backup and verify that
things are working normally.  DD-WRT 2.4 did some weird things, but I
worked around it.  I also changed the passwords for good measure. That
was the easy part.

Incidentally, I counted 24 customers and 16 laptops in the coffee
shop.

This is not the first time their router setting magically went to
defaults.  The first time, I assumed it was just a &quot;power glitch&quot; as
the building wiring was rather marginal.  The 2nd time, I assumed a
&quot;power surge&quot; as one wall wart and a different router were destroyed.
However, this third time, I was fairly sure it wasn't power as I had a
ferro-resonant voltage regulator in line, and the building wiring had
allegedly been fixed.

I casually and diplomatically interrogated various employees to see if
I could reconstruct what happened.  I eventually found the culprit in
the form of a helpful university student.  His logic was impeccable.
He said that when his cell phone, cable modem, game machine,
calculator, computer, PDA, or whatever was hung, he would just push
the reset button.  The device would reboot and everything would work
fine after that.  He reasoned the wireless routers must work the same
way.  If the wireless was hung or lost connectivity, he would take a
paper clip and punch the reset button.  After all, it should work the
same way as all the other devices with reset buttons.

What could I say?  He's right.  It *SHOULD* work the way he expected,
but as anyone who has ever dealt with a wireless router, it usually
doesn't.  In my never humble opinion, once again, the wireless
industry has screwed up on conventions[1].  Linksys had the right
idea.  A short tap of the reset button just reboots the router. Longer
than about 20 seconds, resets the setting to defaults, except in the
WRT54G v8, where it vaporizes most of the firmware.

[1] The other screwup is shipping routers that are not &quot;secure by
default&quot;.

--
# Jeff Liebermann 150 Felker St #D Santa Cruz CA 95060
# 831-336-2558            je ... @comix.santa-cruz.ca.us
# http://802.11junk.com je ... @cruzio.com
# http://www.LearnByDestroying.com AE6KS
</POST>
<POST>
<POSTER> dualdflipflop &lt;dualdflipf...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-11-07T02:47:00 </POSTDATE>
<QUOTE PREVIOUSPOST="
Jeff Liebermann wrote:
&gt; This is a rant.  This is only a rant.
">

This is a response. Just a pointless response.

I was just up by your place today. Had a meeting up where Granite Creek
meets Branciforte. I took a little wardrive with my WRT54GS 1.1 running
Kismet Drone with a biquad facing backwards on the back seat head rest
and an omni on the coat hanger. Got little over 600 access points on PCH
by the time I got to Moss Landing (for dinner before heading back to
LA). The rest of the way down I got around 2800 more. But on the way to
my meeting from Civic Center in San Fransisco, I had well over 3000
access points!

Thought I might share that pointless tid bit of information with you.
</POST>
<POST>
<POSTER> &quot;NotMe&quot; &lt;m...@privacy.net&gt; </POSTER>
<POSTDATE> 2007-11-07T08:38:00 </POSTDATE>
<QUOTE PREVIOUSPOST="
&quot;dualdflipflop&quot; &lt;dualdflipf ... @gmail.com&gt; wrote in message
">

news:C4eYi.308$Jh.88@newsfe06.lga ...

<QUOTE PREVIOUSPOST="
| Jeff Liebermann wrote:
">

| &gt; This is a rant.  This is only a rant.
|
| This is a response. Just a pointless response.
|
| I was just up by your place today. Had a meeting up where Granite Creek
| meets Branciforte. I took a little wardrive with my WRT54GS 1.1 running
| Kismet Drone with a biquad facing backwards on the back seat head rest
| and an omni on the coat hanger. Got little over 600 access points on PCH
| by the time I got to Moss Landing (for dinner before heading back to
| LA). The rest of the way down I got around 2800 more. But on the way to
| my meeting from Civic Center in San Fransisco, I had well over 3000
| access points!
|
| Thought I might share that pointless tid bit of information with you.

Got a GPS log of the trip?  Someone might want to verify the data.
</POST>
<POST>
<POSTER> &quot;NotMe&quot; &lt;m...@privacy.net&gt; </POSTER>
<POSTDATE> 2007-11-07T08:36:00 </POSTDATE>
<QUOTE PREVIOUSPOST="
&quot;Jeff Liebermann&quot; &lt;je ... @comix.santa-cruz.ca.us&gt; wrote in message
">

news:f892j3p9n9err9fmao6rb4dv9u87mtpv2c@4ax.com ...
| This is a rant.  This is only a rant.
|
| It's another day in wireless hell.  I get a call from one of my coffee
| shop wireless hot spot managers. None of the customers can see the
| SSID of their wireless router.  I arrive the next morning, and sure
| enough, their SSID doesn't appear.  However, there's a new
|  SSID = dd-wrt
| which means that their router has been reset to the defaults.  Grrr...
|
| I restore the WHR-HP-G125 settings from a backup and verify that
| things are working normally.  DD-WRT 2.4 did some weird things, but I
| worked around it.  I also changed the passwords for good measure. That
| was the easy part.
|
| Incidentally, I counted 24 customers and 16 laptops in the coffee
| shop.
|
| This is not the first time their router setting magically went to
| defaults.  The first time, I assumed it was just a &quot;power glitch&quot; as
| the building wiring was rather marginal.  The 2nd time, I assumed a
| &quot;power surge&quot; as one wall wart and a different router were destroyed.
| However, this third time, I was fairly sure it wasn't power as I had a
| ferro-resonant voltage regulator in line, and the building wiring had
| allegedly been fixed.
|
| I casually and diplomatically interrogated various employees to see if
| I could reconstruct what happened.  I eventually found the culprit in
| the form of a helpful university student.  His logic was impeccable.
| He said that when his cell phone, cable modem, game machine,
| calculator, computer, PDA, or whatever was hung, he would just push
| the reset button.  The device would reboot and everything would work
| fine after that.  He reasoned the wireless routers must work the same
| way.  If the wireless was hung or lost connectivity, he would take a
| paper clip and punch the reset button.  After all, it should work the
| same way as all the other devices with reset buttons.
|
| What could I say?  He's right.  It *SHOULD* work the way he expected,
| but as anyone who has ever dealt with a wireless router, it usually
| doesn't.  In my never humble opinion, once again, the wireless
| industry has screwed up on conventions[1].  Linksys had the right
| idea.  A short tap of the reset button just reboots the router. Longer
| than about 20 seconds, resets the setting to defaults, except in the
| WRT54G v8, where it vaporizes most of the firmware.
|
| [1] The other screwup is shipping routers that are not &quot;secure by
| default&quot;.

Put a sticker over the rest button. See if you can score one with a 'bitter'
face.  If you want a spacific graphic we'll make one expically for the job.

OTOH the kid has a hammer but does not know where to tap.
</POST>
<POST>
<POSTER> George &lt;geo...@nospam.invalid&gt; </POSTER>
<POSTDATE> 2007-11-07T08:53:00 </POSTDATE>
<QUOTE PREVIOUSPOST="
Jeff Liebermann wrote:

&gt; I casually and diplomatically interrogated various employees to see if
&gt; I could reconstruct what happened.  I eventually found the culprit in
&gt; the form of a helpful university student.  His logic was impeccable.
&gt; He said that when his cell phone, cable modem, game machine,
&gt; calculator, computer, PDA, or whatever was hung, he would just push
&gt; the reset button.  The device would reboot and everything would work
&gt; fine after that.  He reasoned the wireless routers must work the same
&gt; way.  If the wireless was hung or lost connectivity, he would take a
&gt; paper clip and punch the reset button.  After all, it should work the
&gt; same way as all the other devices with reset buttons.

&gt; What could I say?  He's right.  It *SHOULD* work the way he expected,
&gt; but as anyone who has ever dealt with a wireless router, it usually
&gt; doesn't.  In my never humble opinion, once again, the wireless
&gt; industry has screwed up on conventions[1].  Linksys had the right
&gt; idea.  A short tap of the reset button just reboots the router. Longer
&gt; than about 20 seconds, resets the setting to defaults, except in the
&gt; WRT54G v8, where it vaporizes most of the firmware.

&gt; [1] The other screwup is shipping routers that are not &quot;secure by
&gt; default&quot;.
">

I think the problem is consumer grade routers don't have a power switch.
So most people are comfortable operating a switch and not a power
connection.
</POST>
<POST>
<POSTER> Jeff Liebermann &lt;je...@cruzio.com&gt; </POSTER>
<POSTDATE> 2007-11-07T11:09:00 </POSTDATE>
George &lt;geo ... @nospam.invalid&gt; hath wroth:

<QUOTE PREVIOUSPOST="
&gt;Jeff Liebermann wrote:
&gt;&gt; He reasoned the wireless routers must work the same
&gt;&gt; way.  If the wireless was hung or lost connectivity, he would take a
&gt;&gt; paper clip and punch the reset button.  After all, it should work the
&gt;&gt; same way as all the other devices with reset buttons.
&gt;I think the problem is consumer grade routers don't have a power switch.
&gt;So most people are comfortable operating a switch and not a power
&gt;connection.
">

Yep.  There are a few details I left out.  The 2nd time everything
went to hell, someone decided that the wall warts might have been
reversed between the router and DSL modem.  There was also a 3rd wall
wart in the cabinet which goes to some device that nobody can recall.
I suspect the same logical employee tried every combination of wall
wart and device to see if that was the problem.  Unfortunately, the
Buffalo router runs on 3.3 or 5VDC, while the modem on 12VDC.  The
result was a blown router and a fried wall wart, because he left them
reverse connected overnight until I found them the next day.  If the
connectors fit, they should work, right?

In anticipation of a repeat performance, I Ty-wrapped the power
connectors to the router and modem.  I also labeled everything and set
the router to reboot every night.  I left instructions that if the
router hung, use the switch on the nearby power strip.  Unfortunately,
with the high turnover at such establishments, everyone didn't get the
word.

So, the logical employee reasoned that if he couldn't unplug the power
connector, and there was no on-off switch on the router, and he hadn't
had university level training in the operation of a power strip on-off
switch, then perhaps the reset button would suffice.

Frankly, I don't blame him.  A reset button should reset the router,
not vaporize the settings.  I did a fast tour of all the electronics
at home to see how the reset button worked.  All the computer and
hi-fi stuff worked as expected and preserved the settings.  A few
offered some additional protection, usually by holding down the button
while turning on the device, or holding it down for an extended time.
However, my Speedstream DSL modem and a few odd routers would reset to
defaults if the reset button were just tapped.

It's the little things that drive me insane.

Sorry about the typo in the title.  It should say &quot;reset&quot;, not &quot;rest&quot;.

--
Jeff Liebermann     je ... @cruzio.com
150 Felker St #D http://www.LearnByDestroying.com
Santa Cruz CA 95060 http://802.11junk.com
Skype: JeffLiebermann     AE6KS    831-336-2558
</POST>
<POST>
<POSTER> John Navas &lt;spamfilt...@navasgroup.com&gt; </POSTER>
<POSTDATE> 2007-11-07T13:41:00 </POSTDATE>
On Tue, 06 Nov 2007 19:02:04 -0800, Jeff Liebermann
&lt;je ... @comix.santa-cruz.ca.us&gt; wrote in
&lt;f892j3p9n9err9fmao6rb4dv9u87mtp ... @4ax.com&gt;:

<QUOTE PREVIOUSPOST="
&gt;What could I say?  He's right.  It *SHOULD* work the way he expected,
&gt;but as anyone who has ever dealt with a wireless router, it usually
&gt;doesn't.  In my never humble opinion, once again, the wireless
&gt;industry has screwed up on conventions[1].  Linksys had the right
&gt;idea.  A short tap of the reset button just reboots the router. Longer
&gt;than about 20 seconds, resets the setting to defaults, except in the
&gt;WRT54G v8, where it vaporizes most of the firmware.
">

I personally think the basic problem is using a *consumer* grade product
in a *commercial* environment.  I simply won't do that for my own
clients -- if they insist on foolishly cheaping out, then I refer them
to someone else.

It's about Total Cost of Ownership -- the difference in initial purchase
price for a robust commercial grade product is chump change compared to
the other costs (e.g., downtime, support) of using a cheap consumer
grade product -- &quot;penny wise and pound foolish&quot;.

I might add that consumers aren't any better than small businesses --
they tend to buy the cheapest and easiest thing they can get, assuming
all such products are pretty much the same.

<QUOTE PREVIOUSPOST="
&gt;[1] The other screwup is shipping routers that are not &quot;secure by
&gt;default&quot;.
">

That I agree with wholeheartedly!

--
Best regards,   FAQ for Wireless Internet: &lt; http://Wireless.wikia.com &gt;
John Navas      FAQ for Wi-Fi:  &lt; http://wireless.wikia.com/wiki/Wi-Fi &gt;
Wi-Fi How To:  &lt; http://wireless.wikia.com/wiki/Wi-Fi_HowTo &gt;
Fixes to Wi-Fi Problems:  &lt; http://wireless.wikia.com/wiki/Wi-Fi_Fixes &gt;
</POST>
<POST>
<POSTER> dualdflipflop &lt;dualdflipf...@gmail.com&gt; </POSTER>
<POSTDATE> 2007-11-07T15:36:00 </POSTDATE>
<QUOTE PREVIOUSPOST="
NotMe wrote:
&gt; Got a GPS log of the trip?  Someone might want to verify the data.
">

I unfortunately don't have a GPS unit yet. I'm trying to find one that
is just right for me. One that is compatible across the operating system
board. Suggestions?
</POST>
<POST>
<POSTER> Jeff Liebermann &lt;je...@comix.santa-cruz.ca.us&gt; </POSTER>
<POSTDATE> 2007-11-07T18:35:00 </POSTDATE>
On Wed, 07 Nov 2007 18:41:49 GMT, John Navas

<QUOTE PREVIOUSPOST="
&lt;spamfilt ... @navasgroup.com&gt; wrote:
&gt;On Tue, 06 Nov 2007 19:02:04 -0800, Jeff Liebermann
&gt;&lt;je ... @comix.santa-cruz.ca.us&gt; wrote in
&gt;&lt;f892j3p9n9err9fmao6rb4dv9u87mtp ... @4ax.com&gt;:

&gt;&gt;What could I say?  He's right.  It *SHOULD* work the way he expected,
&gt;&gt;but as anyone who has ever dealt with a wireless router, it usually
&gt;&gt;doesn't.  In my never humble opinion, once again, the wireless
&gt;&gt;industry has screwed up on conventions[1].  Linksys had the right
&gt;&gt;idea.  A short tap of the reset button just reboots the router. Longer
&gt;&gt;than about 20 seconds, resets the setting to defaults, except in the
&gt;&gt;WRT54G v8, where it vaporizes most of the firmware.

&gt;I personally think the basic problem is using a *consumer* grade product
&gt;in a *commercial* environment.  I simply won't do that for my own
&gt;clients -- if they insist on foolishly cheaping out, then I refer them
&gt;to someone else.
">

How will installing a better grade of hardware prevent an employee
from punching the reset button?  Let's see what a Sonicwall TZ150w
will do if the reset button is pushed:
&lt; http://sonicwall.com/downloads/232-000989-00_Rev_B_SonicOS_Std_3.1.2.... &gt;
Page 14.  It does the same thing as DD-WRT and resets the router to
defaults.  Better hardware would have done exactly nothing.

Incidentally, what apparently (not sure) inspired the reset button
pushing and wall wart juggling was that AT&amp;T DSL went down for a
while.  There's not much that better hardware can do if the ISP goes
away.

<QUOTE PREVIOUSPOST="
&gt;It's about Total Cost of Ownership -- the difference in initial purchase
&gt;price for a robust commercial grade product is chump change compared to
&gt;the other costs (e.g., downtime, support) of using a cheap consumer
&gt;grade product -- &quot;penny wise and pound foolish&quot;.
">

I would love to sell this client a better class of hardware.  He has
currently 4 coffee shops and is growing.  I have a TZ150w on the shelf
just waiting for the appropriate moment.  However, none of the other
coffee shops have had a problem with blown hardware and resets.  Only
this one.  The others are running a mixture of Linksys, and Buffalo
hardware, some of which I inherited from his previous computer guy.
They all work just fine.  The problem here is the unusual combination
of the rather non-intuitive way the reset button works, combined with
the excessively intuitive way the local university student works.

<QUOTE PREVIOUSPOST="
&gt;I might add that consumers aren't any better than small businesses --
&gt;they tend to buy the cheapest and easiest thing they can get, assuming
&gt;all such products are pretty much the same.
">

I have a great way to sell expensive quality hardware.  I sell cheap
hardware and just wait for the inevitable meltdown and disaster.  If
the hardware is critical to their business, they'll pay anything to
get reliability.  On the initial installation and sale, they ALWAYS
demand the cheapest.

<QUOTE PREVIOUSPOST="
&gt;&gt;[1] The other screwup is shipping routers that are not &quot;secure by
&gt;&gt;default&quot;.

&gt;That I agree with wholeheartedly!
">

Maybe we need a warning label:
&quot;Punching the reset button may produce unexpected results&quot;.

--
# Jeff Liebermann 150 Felker St #D Santa Cruz CA 95060
# 831-336-2558            je ... @comix.santa-cruz.ca.us
# http://802.11junk.com je ... @cruzio.com
# http://www.LearnByDestroying.com AE6KS
</POST>
<POST>
<POSTER> John Navas &lt;spamfilt...@navasgroup.com&gt; </POSTER>
<POSTDATE> 2007-11-07T18:52:00 </POSTDATE>
On Wed, 07 Nov 2007 23:35:43 GMT, Jeff Liebermann
&lt;je ... @comix.santa-cruz.ca.us&gt; wrote in
&lt;5oh4j39j3d7sooaaqfgh71djfdkf2q3 ... @4ax.com&gt;:

<QUOTE PREVIOUSPOST="
&gt;On Wed, 07 Nov 2007 18:41:49 GMT, John Navas
&gt;&lt;spamfilt ... @navasgroup.com&gt; wrote:
&gt;&gt;I personally think the basic problem is using a *consumer* grade product
&gt;&gt;in a *commercial* environment.  I simply won't do that for my own
&gt;&gt;clients -- if they insist on foolishly cheaping out, then I refer them
&gt;&gt;to someone else.

&gt;How will installing a better grade of hardware prevent an employee
&gt;from punching the reset button?  Let's see what a Sonicwall TZ150w
&gt;will do if the reset button is pushed:
&gt;&lt; http://sonicwall.com/downloads/232-000989-00_Rev_B_SonicOS_Std_3.1.2.... &gt;
&gt;Page 14.  It does the same thing as DD-WRT and resets the router to
&gt;defaults.  Better hardware would have done exactly nothing.
">

I didn't say SonicWALL TZ150w.  Surely you know of commercial grade
products that do a better job in this area?  And surely you encourage
your clients to physically secure network hardware so as to not be
vulnerable to tampering by even well-meaning minimum wage transients?

--
Best regards,   FAQ for Wireless Internet: &lt; http://Wireless.wikia.com &gt;
John Navas      FAQ for Wi-Fi:  &lt; http://wireless.wikia.com/wiki/Wi-Fi &gt;
Wi-Fi How To:  &lt; http://wireless.wikia.com/wiki/Wi-Fi_HowTo &gt;
Fixes to Wi-Fi Problems:  &lt; http://wireless.wikia.com/wiki/Wi-Fi_Fixes &gt;
</POST>
<POST>
<POSTER> &quot;William R. Walsh&quot; &lt;newsgrou...@idontwantjunqueemail.walshcomptech.com&gt; </POSTER>
<POSTDATE> 2007-11-07T23:08:00 </POSTDATE>
Hi!

<QUOTE PREVIOUSPOST="
&gt; This is a rant.  This is only a rant.

&gt; His logic was impeccable. He said that when his cell phone, cable modem,
&gt; game machine, calculator, computer, PDA, or whatever was hung, he would
&gt; just push the reset button.
&gt; He reasoned the wireless routers must work the same way.
">

Hmmm...I have a mix of routers running DD-WRT v23 and v24. There are Buffalo
WHR-G54S, WHR-G125, and WHR-HP-G54 units &quot;under my control&quot; and each one
works the same way when you hit the reset button...the device just reboots
and no settings loss takes place...at least not that I've seen.

If you *hold* the reset button, then things do get blown away.

I don't do this a lot--if I want to reboot the thing I just pull the plug on
it for a few seconds and put it back. But if I did, I can pretty much
guarantee that the router will just reboot unless you hold the button in.
Maybe the button got stuck after being poked and popped out only after it
had been in long enough to cause a master reset?

<QUOTE PREVIOUSPOST="
&gt; What could I say?  He's right.
">

I'm not sure why it doesn't in that case. What hardware is in use in this
setting?

William
</POST>
<POST>
<POSTER> Jeff Liebermann &lt;je...@cruzio.com&gt; </POSTER>
<POSTDATE> 2007-11-08T00:58:00 </POSTDATE>
&quot;William R. Walsh&quot;
&lt;newsgrou ... @idontwantjunqueemail.walshcomptech.com&gt; hath wroth:

<QUOTE PREVIOUSPOST="
&gt;Hmmm...I have a mix of routers running DD-WRT v23 and v24. There are Buffalo
&gt;WHR-G54S, WHR-G125, and WHR-HP-G54 units &quot;under my control&quot; and each one
&gt;works the same way when you hit the reset button...the device just reboots
&gt;and no settings loss takes place...at least not that I've seen.
">

You're right.  I just happen to reset my office WRT54G v3 to defaults
today.  One short tap did a reboot, but about 5 seconds cleared all
the settings.
&lt; http://www.dd-wrt.com/wiki/index.php/Reset_And_Reboot &gt;
Cold Reboot
(2) Press the reset button for less than 5 seconds.
The page says to hold it down 20 seconds to clear the settings, but I
suspect anything longer than 5 seconds will do the same thing.  That's
way too short.

Incidentally, I had a hell of time recovering from a v23 SP3 -&gt; v24
upgrade without clearning the settings.  The saved settings had
something wrong resulting in the wireless part not functioning.  I
eventually got it working by changing the settings on every wireless
pages, save, apply, change them back, save, and apply.  Yuck.

<QUOTE PREVIOUSPOST="
&gt;If you *hold* the reset button, then things do get blown away.
">

Yep.  I didn't notice because I always hold the button down for a long
time.  I'm used to the stock Linksys, some of which take &gt;20 seconds
to reset.

<QUOTE PREVIOUSPOST="
&gt;I don't do this a lot--if I want to reboot the thing I just pull the plug on
&gt;it for a few seconds and put it back. But if I did, I can pretty much
&gt;guarantee that the router will just reboot unless you hold the button in.
&gt;Maybe the button got stuck after being poked and popped out only after it
&gt;had been in long enough to cause a master reset?
">

Nope.  No way for it get stuck.

<QUOTE PREVIOUSPOST="
&gt;&gt; What could I say?  He's right.

&gt;I'm not sure why it doesn't in that case. What hardware is in use in this
&gt;setting?
">

Speedstream 4100 DSL modem.  I was wrong on the model number.  It's a
Buffalo WHR-G125.  (The previous one they blew up was a WHR-HP-G54).
The firmware is a bit dated at &quot;DD-WRT v24 Beta (08/06/07) std
(SVN revision 7630)&quot;  I'll update to the latest in the next week or
so.

--
Jeff Liebermann     je ... @cruzio.com
150 Felker St #D http://www.LearnByDestroying.com
Santa Cruz CA 95060 http://802.11junk.com
Skype: JeffLiebermann     AE6KS    831-336-2558
</POST>
</TEXT>
</BODY>
</DOC>
